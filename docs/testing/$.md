# Lead Dashboard User Testing Guide

## Prerequisites

1. **Start your development environment:**
   ```bash
   npm run dev
   ```

2. **Seed test data:**
   ```bash
   npx tsx scripts/seed-test-leads.ts
   ```

3. **Ensure Convex is running:**
   ```bash
   npx convex dev
   ```

## Testing Scenarios

### ğŸ“ˆ Dashboard Testing (`http://localhost:3000/leads`)

#### Scenario 1: Basic Dashboard Functionality
**Objective:** Verify the dashboard loads and displays data correctly

**Steps:**
1. Navigate to `http://localhost:3000/leads`
2. Verify the page loads without errors
3. Check that key metrics are displayed:
   - Total Leads (should show 8)
   - Hot Leads (should show 3) 
   - Conversion Rate (should show 12.5%)
   - Avg Heat Score (should show ~13.4)

**Expected Results:**
- âœ… Dashboard loads smoothly
- âœ… All metric cards display numbers
- âœ… Charts render without errors
- âœ… Social engagement section shows data

#### Scenario 2: Filter Functionality
**Objective:** Test all filtering options

**Steps:**
1. **Date Range Filtering:**
   - Click on "Last 30 days" dropdown
   - Select "Last 7 days"
   - Verify metrics update
   - Select "All time"
   - Verify metrics show full dataset

2. **Lead Source Filtering:**
   - Click "All Sources" dropdown
   - Select "Website" 
   - Verify only website leads are shown
   - Select "LinkedIn"
   - Verify only LinkedIn leads are shown
   - Reset to "All Sources"

3. **Heat Level Filtering:**
   - Click "All Heat Levels" dropdown
   - Select "ğŸ”¥ Hot"
   - Verify only hot leads are shown (should be 3)
   - Select "ğŸŒ¤ï¸ Warm" 
   - Verify only warm leads are shown (should be 3)
   - Select "â„ï¸ Cold"
   - Verify only cold leads are shown (should be 2)

4. **Status Filtering:**
   - Test each status filter
   - Verify metrics update accordingly

**Expected Results:**
- âœ… All filters work independently
- âœ… Metrics recalculate correctly
- âœ… Charts update to reflect filtered data
- âœ… No JavaScript errors in console

#### Scenario 3: Interactive Features
**Objective:** Test interactive dashboard features

**Steps:**
1. **Refresh Functionality:**
   - Click the "Refresh" button
   - Verify button shows loading state
   - Verify data refreshes

2. **Export Functionality:**
   - Click the "Export" button
   - Verify CSV file downloads
   - Open CSV and verify data format

3. **Chart Interactions:**
   - Hover over chart elements
   - Verify tooltips appear with correct data
   - Test chart legends

**Expected Results:**
- âœ… Refresh button works and shows loading state
- âœ… Export generates valid CSV file
- âœ… Chart tooltips display correct information

### ğŸ”„ Pipeline Testing (`http://localhost:3000/leads/pipeline`)

#### Scenario 4: Pipeline Visualization
**Objective:** Verify pipeline displays leads correctly

**Steps:**
1. Navigate to `http://localhost:3000/leads/pipeline`
2. Verify all pipeline columns are present:
   - Unqualified (should have 1 lead)
   - Prospect (should have 1 lead)
   - Lead (should have 2 leads)
   - Qualified (should have 3 leads)
   - Customer (should have 1 lead)
   - Lost (should have 0 leads)

3. Check lead cards display:
   - Contact name and email
   - Company information
   - Heat score and emoji
   - Lead source badge
   - Created date
   - Heat progress bar

**Expected Results:**
- âœ… All columns render correctly
- âœ… Lead counts match expected numbers
- âœ… Lead cards show complete information
- âœ… Heat indicators display properly

#### Scenario 5: Drag and Drop Functionality
**Objective:** Test drag and drop lead movement

**Steps:**
1. **Basic Drag and Drop:**
   - Find a lead in "Prospect" column (Mike Chen)
   - Drag it to "Lead" column
   - Verify the lead moves
   - Check that column counts update

2. **Cross-Stage Movement:**
   - Drag a lead from "Lead" to "Qualified"
   - Verify the movement works
   - Drag it back to original position

3. **Visual Feedback:**
   - Start dragging a lead
   - Verify drag overlay appears
   - Verify drag cursor changes
   - Cancel drag (release outside column)
   - Verify lead returns to original position

4. **Database Persistence:**
   - Drag a lead to new column
   - Refresh the page
   - Verify the lead stayed in new position

**Expected Results:**
- âœ… Drag and drop works smoothly
- âœ… Visual feedback is clear
- âœ… Column counts update immediately
- âœ… Changes persist after refresh
- âœ… No JavaScript errors during drag operations

#### Scenario 6: Pipeline Filtering
**Objective:** Test pipeline filtering functionality

**Steps:**
1. **Heat Level Filters:**
   - Click "ğŸ”¥ Hot Leads" filter
   - Verify only hot leads are shown
   - Click "ğŸŒ¤ï¸ Warm Leads" filter
   - Verify only warm leads are shown
   - Click "â„ï¸ Cold Leads" filter
   - Verify only cold leads are shown

2. **Clear Filters:**
   - Apply a filter
   - Click "Clear Filters" button
   - Verify all leads are shown again

**Expected Results:**
- âœ… Filters work correctly
- âœ… Clear filters button appears when filters are active
- âœ… All leads reappear when filters are cleared

### ğŸ¯ Advanced Testing Scenarios

#### Scenario 7: Responsive Design
**Objective:** Test mobile and tablet layouts

**Steps:**
1. Open browser developer tools
2. Switch to mobile viewport (375px width)
3. Test both dashboard and pipeline
4. Switch to tablet viewport (768px width)
5. Test both dashboard and pipeline

**Expected Results:**
- âœ… Layout adapts to smaller screens
- âœ… Charts remain readable
- âœ… Touch interactions work on mobile
- âœ… No horizontal scrolling issues

#### Scenario 8: Performance Testing
**Objective:** Verify performance with larger datasets

**Steps:**
1. Run the seed script multiple times to create more data
2. Navigate to dashboard and pipeline
3. Check loading times
4. Test filtering with large datasets
5. Monitor browser performance tab

**Expected Results:**
- âœ… Dashboard loads within 2 seconds
- âœ… Filtering is responsive (< 500ms)
- âœ… No memory leaks during interactions
- âœ… Smooth animations and transitions

#### Scenario 9: Error Handling
**Objective:** Test error states and edge cases

**Steps:**
1. **Offline Testing:**
   - Disconnect internet
   - Try to drag and drop
   - Try to refresh data
   - Reconnect and verify recovery

2. **Empty Data Testing:**
   - Clear all contacts from database
   - Navigate to dashboard
   - Verify empty states are shown
   - Navigate to pipeline
   - Verify empty pipeline columns

**Expected Results:**
- âœ… Graceful error messages for offline state
- âœ… Empty states are user-friendly
- âœ… No application crashes
- âœ… Recovery works when connection restored

## Troubleshooting

### Common Issues

1. **Charts not rendering:**
   - Check browser console for errors
   - Verify Recharts is installed: `npm list recharts`

2. **Drag and drop not working:**
   - Check for @dnd-kit related errors
   - Verify mouse/touch events are working

3. **Data not loading:**
   - Verify Convex connection
   - Check network tab for API calls
   - Verify seed script ran successfully

4. **Styling issues:**
   - Verify Tailwind CSS is working
   - Check for CSS conflicts
   - Verify all UI components are imported

### Performance Optimization

- Monitor bundle size with `npm run analyze`
- Use React DevTools Profiler for component performance
- Check for unnecessary re-renders
- Verify lazy loading is working

## Test Results Template

Copy this template to record your test results:

```
## Test Results - [Date]

### Environment
- Browser: 
- Screen Resolution:
- Data Size: X contacts, Y interactions

### Dashboard Tests
- [ ] Basic functionality âœ…/âŒ
- [ ] Filter functionality âœ…/âŒ  
- [ ] Interactive features âœ…/âŒ
- [ ] Chart interactions âœ…/âŒ

### Pipeline Tests
- [ ] Pipeline visualization âœ…/âŒ
- [ ] Drag and drop âœ…/âŒ
- [ ] Pipeline filtering âœ…/âŒ
- [ ] Database persistence âœ…/âŒ

### Advanced Tests
- [ ] Responsive design âœ…/âŒ
- [ ] Performance âœ…/âŒ
- [ ] Error handling âœ…/âŒ

### Issues Found
1. [Issue description]
2. [Issue description]

### Overall Rating: â­â­â­â­â­ (1-5 stars)
```

## Next Steps

After testing, consider:
1. Performance optimizations
2. Additional filter options
3. More chart types
4. Advanced drag and drop features
5. Real-time updates via WebSockets