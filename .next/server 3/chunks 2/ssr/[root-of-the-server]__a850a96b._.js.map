{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/trpc/query-client.ts"],"sourcesContent":["import {\n  defaultShouldDehydrateQuery,\n  QueryClient,\n} from \"@tanstack/react-query\";\nimport SuperJSON from \"superjson\";\n\nexport const createQueryClient = () =>\n  new QueryClient({\n    defaultOptions: {\n      queries: {\n        // With SSR, we usually want to set some default staleTime\n        // above 0 to avoid refetching immediately on the client\n        staleTime: 30 * 1000,\n      },\n      dehydrate: {\n        serializeData: SuperJSON.serialize,\n        shouldDehydrateQuery: (query) =>\n          defaultShouldDehydrateQuery(query) ||\n          query.state.status === \"pending\",\n      },\n      hydrate: {\n        deserializeData: SuperJSON.deserialize,\n      },\n    },\n  });\n"],"names":[],"mappings":";;;AAAA;AAAA;AAIA;;;AAEO,MAAM,oBAAoB,IAC/B,IAAI,6KAAA,CAAA,cAAW,CAAC;QACd,gBAAgB;YACd,SAAS;gBACP,0DAA0D;gBAC1D,wDAAwD;gBACxD,WAAW,KAAK;YAClB;YACA,WAAW;gBACT,eAAe,0IAAA,CAAA,UAAS,CAAC,SAAS;gBAClC,sBAAsB,CAAC,QACrB,CAAA,GAAA,2KAAA,CAAA,8BAA2B,AAAD,EAAE,UAC5B,MAAM,KAAK,CAAC,MAAM,KAAK;YAC3B;YACA,SAAS;gBACP,iBAAiB,0IAAA,CAAA,UAAS,CAAC,WAAW;YACxC;QACF;IACF","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/trpc/react.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClientProvider, type QueryClient } from \"@tanstack/react-query\";\nimport { httpBatchStreamLink, loggerLink } from \"@trpc/client\";\nimport { createTRPCReact } from \"@trpc/react-query\";\nimport { type inferRouterInputs, type inferRouterOutputs } from \"@trpc/server\";\nimport { useState } from \"react\";\nimport SuperJSON from \"superjson\";\n\nimport { type AppRouter } from \"~/server/api/root\";\nimport { createQueryClient } from \"./query-client\";\n\nlet clientQueryClientSingleton: QueryClient | undefined = undefined;\nconst getQueryClient = () => {\n  if (typeof window === \"undefined\") {\n    // Server: always make a new query client\n    return createQueryClient();\n  }\n  // Browser: use singleton pattern to keep the same query client\n  clientQueryClientSingleton ??= createQueryClient();\n\n  return clientQueryClientSingleton;\n};\n\nexport const api = createTRPCReact<AppRouter>();\n\n/**\n * Inference helper for inputs.\n *\n * @example type HelloInput = RouterInputs['example']['hello']\n */\nexport type RouterInputs = inferRouterInputs<AppRouter>;\n\n/**\n * Inference helper for outputs.\n *\n * @example type HelloOutput = RouterOutputs['example']['hello']\n */\nexport type RouterOutputs = inferRouterOutputs<AppRouter>;\n\nexport function TRPCReactProvider(props: { children: React.ReactNode }) {\n  const queryClient = getQueryClient();\n\n  const [trpcClient] = useState(() =>\n    api.createClient({\n      links: [\n        loggerLink({\n          enabled: (op) =>\n            process.env.NODE_ENV === \"development\" ||\n            (op.direction === \"down\" && op.result instanceof Error),\n        }),\n        httpBatchStreamLink({\n          transformer: SuperJSON,\n          url: getBaseUrl() + \"/api/trpc\",\n          headers: () => {\n            const headers = new Headers();\n            headers.set(\"x-trpc-source\", \"nextjs-react\");\n            return headers;\n          },\n        }),\n      ],\n    })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <api.Provider client={trpcClient} queryClient={queryClient}>\n        {props.children}\n      </api.Provider>\n    </QueryClientProvider>\n  );\n}\n\nfunction getBaseUrl() {\n  if (typeof window !== \"undefined\") return window.location.origin;\n  if (process.env.VERCEL_URL) return `https://${process.env.VERCEL_URL}`;\n  return `http://localhost:${process.env.PORT ?? 3000}`;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAGA;AAVA;;;;;;;;AAYA,IAAI,6BAAsD;AAC1D,MAAM,iBAAiB;IACrB,wCAAmC;QACjC,yCAAyC;QACzC,OAAO,CAAA,GAAA,8HAAA,CAAA,oBAAiB,AAAD;IACzB;;;AAKF;AAEO,MAAM,MAAM,CAAA,GAAA,0KAAA,CAAA,kBAAe,AAAD;AAgB1B,SAAS,kBAAkB,KAAoC;IACpE,MAAM,cAAc;IAEpB,MAAM,CAAC,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAC5B,IAAI,YAAY,CAAC;YACf,OAAO;gBACL,CAAA,GAAA,mKAAA,CAAA,aAAU,AAAD,EAAE;oBACT,SAAS,CAAC,KACR,oDAAyB,iBACxB,GAAG,SAAS,KAAK,UAAU,GAAG,MAAM,YAAY;gBACrD;gBACA,CAAA,GAAA,kKAAA,CAAA,sBAAmB,AAAD,EAAE;oBAClB,aAAa,0IAAA,CAAA,UAAS;oBACtB,KAAK,eAAe;oBACpB,SAAS;wBACP,MAAM,UAAU,IAAI;wBACpB,QAAQ,GAAG,CAAC,iBAAiB;wBAC7B,OAAO;oBACT;gBACF;aACD;QACH;IAGF,qBACE,8OAAC,sLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC3B,cAAA,8OAAC,IAAI,QAAQ;YAAC,QAAQ;YAAY,aAAa;sBAC5C,MAAM,QAAQ;;;;;;;;;;;AAIvB;AAEA,SAAS;IACP;;IACA,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,EAAE;IACtE,OAAO,CAAC,iBAAiB,EAAE,QAAQ,GAAG,CAAC,IAAI,IAAI,MAAM;AACvD","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/providers/ConvexAuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@clerk/nextjs\";\nimport { ConvexProviderWithClerk } from \"convex/react-clerk\";\nimport { ConvexReactClient } from \"convex/react\";\nimport type { ReactNode } from \"react\";\n\nconst convex = new ConvexReactClient(process.env.NEXT_PUBLIC_CONVEX_URL!);\n\nexport function ConvexClientProvider({ children }: { children: ReactNode }) {\n  return (\n    <ConvexProviderWithClerk client={convex} useAuth={useAuth}>\n      {children}\n    </ConvexProviderWithClerk>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAAA;AAJA;;;;;AAOA,MAAM,SAAS,IAAI,wJAAA,CAAA,oBAAiB;AAE7B,SAAS,qBAAqB,EAAE,QAAQ,EAA2B;IACxE,qBACE,8OAAC,kLAAA,CAAA,0BAAuB;QAAC,QAAQ;QAAQ,SAAS,kPAAA,CAAA,UAAO;kBACtD;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;AAED;AAAA;;AAUO,MAAM,MAAM,sJAAA,CAAA,SAAM;AAClB,MAAM,WAAW,sJAAA,CAAA,SAAM","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/auth/RoleGuard.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\n\ninterface RoleGuardProps {\n  children: React.ReactNode;\n  requiredRole: \"ADMIN\" | \"SALES\" | \"PROJECT_MANAGER\" | \"STAFF\" | \"CLIENT\";\n  fallback?: React.ReactNode;\n}\n\nexport function RoleGuard({ children, requiredRole, fallback }: RoleGuardProps) {\n  const roleCheck = useQuery(api.auth.checkUserRole, { requiredRole });\n\n  if (roleCheck === undefined) {\n    return <div className=\"text-gray-500\">Checking permissions...</div>;\n  }\n\n  if (!roleCheck.hasPermission) {\n    return fallback || (\n      <div className=\"text-center p-4 bg-red-50 border border-red-200 rounded-md\">\n        <p className=\"text-red-700 font-medium\">Access Denied</p>\n        <p className=\"text-red-600 text-sm\">{roleCheck.reason}</p>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}\n\ninterface UseRolePermissionsReturn {\n  userRole: string | null;\n  permissions: {\n    canManageUsers: boolean;\n    canManageContacts: boolean;\n    canManageProjects: boolean;\n    canViewDashboard: boolean;\n    canAccessClientPortal: boolean;\n  } | null;\n  isLoading: boolean;\n}\n\nexport function useRolePermissions(): UseRolePermissionsReturn {\n  const userWithRole = useQuery(api.auth.getCurrentUserWithRole);\n\n  return {\n    userRole: userWithRole?.role || null,\n    permissions: userWithRole?.permissions || null,\n    isLoading: userWithRole === undefined,\n  };\n}"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AAYO,SAAS,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAkB;IAC5E,MAAM,YAAY,CAAA,GAAA,wJAAA,CAAA,WAAQ,AAAD,EAAE,2HAAA,CAAA,MAAG,CAAC,IAAI,CAAC,aAAa,EAAE;QAAE;IAAa;IAElE,IAAI,cAAc,WAAW;QAC3B,qBAAO,8OAAC;YAAI,WAAU;sBAAgB;;;;;;IACxC;IAEA,IAAI,CAAC,UAAU,aAAa,EAAE;QAC5B,OAAO,0BACL,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAA2B;;;;;;8BACxC,8OAAC;oBAAE,WAAU;8BAAwB,UAAU,MAAM;;;;;;;;;;;;IAG3D;IAEA,qBAAO;kBAAG;;AACZ;AAcO,SAAS;IACd,MAAM,eAAe,CAAA,GAAA,wJAAA,CAAA,WAAQ,AAAD,EAAE,2HAAA,CAAA,MAAG,CAAC,IAAI,CAAC,sBAAsB;IAE7D,OAAO;QACL,UAAU,cAAc,QAAQ;QAChC,aAAa,cAAc,eAAe;QAC1C,WAAW,iBAAiB;IAC9B;AACF","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/layout/Navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { UserButton, useUser } from \"@clerk/nextjs\";\nimport { useConvexAuth } from \"convex/react\";\nimport { useRolePermissions } from \"../auth/RoleGuard\";\n\nexport function Navigation() {\n  const pathname = usePathname();\n  const { isAuthenticated } = useConvexAuth();\n  const { user } = useUser();\n  const { permissions } = useRolePermissions();\n\n  const navItems = [\n    { href: \"/\", label: \"Dashboard\", auth: true, permission: \"canViewDashboard\" },\n    { href: \"/contacts\", label: \"Contacts\", auth: true, permission: \"canViewDashboard\" }, // All staff can view contacts\n    { href: \"/projects\", label: \"Projects\", auth: true, permission: \"canManageProjects\" },\n    { href: \"/admin\", label: \"User Management\", auth: true, permission: \"canManageUsers\" },\n  ];\n\n  return (\n    <nav className=\"bg-white shadow-sm border-b\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between items-center h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\n            <span className=\"text-2xl font-bold text-gray-800\">\n              event<span className=\"text-blue-600\">Runner</span>\n            </span>\n          </Link>\n\n          {/* Navigation Links */}\n          {isAuthenticated && (\n            <div className=\"hidden md:flex space-x-8\">\n              {navItems.map((item) => {\n                if (item.auth && !isAuthenticated) return null;\n                \n                // Check role-based permissions\n                if (item.permission && permissions && !permissions[item.permission as keyof typeof permissions]) {\n                  return null;\n                }\n                \n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      isActive\n                        ? \"text-blue-600 bg-blue-50\"\n                        : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\n                    }`}\n                  >\n                    {item.label}\n                  </Link>\n                );\n              })}\n            </div>\n          )}\n\n          {/* User Menu */}\n          <div className=\"flex items-center space-x-4\">\n            {isAuthenticated ? (\n              <div className=\"flex items-center space-x-3\">\n                <span className=\"text-sm text-gray-600\">\n                  Welcome, {user?.firstName || user?.emailAddresses[0]?.emailAddress}\n                </span>\n                <UserButton />\n              </div>\n            ) : (\n              <div className=\"text-sm text-gray-600\">\n                Please sign in to continue\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isAuthenticated && (\n          <div className=\"md:hidden py-4\">\n            <div className=\"flex flex-col space-y-2\">\n              {navItems.map((item) => {\n                if (item.auth && !isAuthenticated) return null;\n                \n                // Check role-based permissions\n                if (item.permission && permissions && !permissions[item.permission as keyof typeof permissions]) {\n                  return null;\n                }\n                \n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      isActive\n                        ? \"text-blue-600 bg-blue-50\"\n                        : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"\n                    }`}\n                  >\n                    {item.label}\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AANA;;;;;;;AAQO,SAAS;IACd,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,gBAAa,AAAD;IACxC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,UAAO,AAAD;IACvB,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,qBAAkB,AAAD;IAEzC,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;YAAa,MAAM;YAAM,YAAY;QAAmB;QAC5E;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM;YAAM,YAAY;QAAmB;QACnF;YAAE,MAAM;YAAa,OAAO;YAAY,MAAM;YAAM,YAAY;QAAoB;QACpF;YAAE,MAAM;YAAU,OAAO;YAAmB,MAAM;YAAM,YAAY;QAAiB;KACtF;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCACvB,cAAA,8OAAC;gCAAK,WAAU;;oCAAmC;kDAC5C,8OAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;;;;;;;wBAKxC,iCACC,8OAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC;gCACb,IAAI,KAAK,IAAI,IAAI,CAAC,iBAAiB,OAAO;gCAE1C,+BAA+B;gCAC/B,IAAI,KAAK,UAAU,IAAI,eAAe,CAAC,WAAW,CAAC,KAAK,UAAU,CAA6B,EAAE;oCAC/F,OAAO;gCACT;gCAEA,MAAM,WAAW,aAAa,KAAK,IAAI;gCACvC,qBACE,8OAAC,4JAAA,CAAA,UAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAW,CAAC,2DAA2D,EACrE,WACI,6BACA,sDACJ;8CAED,KAAK,KAAK;mCARN,KAAK,IAAI;;;;;4BAWpB;;;;;;sCAKJ,8OAAC;4BAAI,WAAU;sCACZ,gCACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;;4CAAwB;4CAC5B,MAAM,aAAa,MAAM,cAAc,CAAC,EAAE,EAAE;;;;;;;kDAExD,8OAAC,uKAAA,CAAA,aAAU;;;;;;;;;;qDAGb,8OAAC;gCAAI,WAAU;0CAAwB;;;;;;;;;;;;;;;;;gBAQ5C,iCACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC;4BACb,IAAI,KAAK,IAAI,IAAI,CAAC,iBAAiB,OAAO;4BAE1C,+BAA+B;4BAC/B,IAAI,KAAK,UAAU,IAAI,eAAe,CAAC,WAAW,CAAC,KAAK,UAAU,CAA6B,EAAE;gCAC/F,OAAO;4BACT;4BAEA,MAAM,WAAW,aAAa,KAAK,IAAI;4BACvC,qBACE,8OAAC,4JAAA,CAAA,UAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,2DAA2D,EACrE,WACI,6BACA,sDACJ;0CAED,KAAK,KAAK;+BARN,KAAK,IAAI;;;;;wBAWpB;;;;;;;;;;;;;;;;;;;;;;AAOd","debugId":null}}]
}