"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{275:(e,t,r)=>{r.d(t,{A:()=>i});let i=Symbol.for("functionName")},852:(e,t,r)=>{r.d(t,{zz:()=>n});var i=e=>{let t=r=>{if(!r)return r;if(Array.isArray(r))return r.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let i={...r};for(let r of Object.keys(i)){let n=e(r.toString());n!==r&&(i[n]=i[r],delete i[r]),"object"==typeof i[n]&&(i[n]=t(i[n]))}return i};return t};function n(e){if("boolean"==typeof e)return e;if(null==e)return!1;if("string"==typeof e){if("true"===e.toLowerCase())return!0;if("false"===e.toLowerCase())return!1}let t=parseInt(e,10);return!isNaN(t)&&t>0}i(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),i(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""})},1388:(e,t,r)=>{r.d(t,{E$:()=>f,cy:()=>k,du:()=>function e(t){if(null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("object"!=typeof t)throw Error(`Unexpected type of ${t}`);let r=Object.entries(t);if(1===r.length){let e=r[0][0];if("$bytes"===e){if("string"!=typeof t.$bytes)throw Error(`Malformed $bytes field on ${t}`);return i.toByteArray(t.$bytes).buffer}if("$integer"===e){if("string"!=typeof t.$integer)throw Error(`Malformed $integer field on ${t}`);return d(t.$integer)}if("$float"===e){if("string"!=typeof t.$float)throw Error(`Malformed $float field on ${t}`);let e=i.toByteArray(t.$float);if(8!==e.byteLength)throw Error(`Received ${e.byteLength} bytes, expected 8 for $float`);let r=new DataView(e.buffer).getFloat64(0,!0);if(!c(r))throw Error(`Float ${r} should be encoded as a number`);return r}if("$set"===e)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===e)throw Error("Received a Map which is no longer supported as a Convex type.")}let n={};for(let[r,i]of Object.entries(t))p(r),n[r]=e(i);return n},rz:()=>v});var i=r(5996),n=r(9414);let s=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),a=BigInt("0"),l=BigInt("8"),u=BigInt("256");function c(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let h=DataView.prototype.setBigInt64?function(e){if(e<s||o<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),i.fromByteArray(new Uint8Array(t))}:function(e){e<a&&(e-=s+s);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),n=0;for(let i of t.match(/.{2}/g).reverse())r.set([parseInt(i,16)],n++),e>>=l;return i.fromByteArray(r)},d=DataView.prototype.getBigInt64?function(e){let t=i.toByteArray(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=i.toByteArray(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=a,n=a;for(let e of t)r+=BigInt(e)*u**n,n++;return r>o&&(r+=s+s),r};function p(e){if(e.length>1024)throw Error(`Field name ${e} exceeds maximum field name length 1024.`);if(e.startsWith("$"))throw Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function f(e){return JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?`${t.toString()}n`:t)}function g(e,t,r,a){if(void 0===e){let e=r&&` (present at path ${r} in original object ${f(t)})`;throw Error(`undefined is not a valid Convex value${e}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===e)return e;if("bigint"==typeof e){if(e<s||o<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:h(e)}}if("number"==typeof e)if(!c(e))return e;else{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:i.fromByteArray(new Uint8Array(t))}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:i.fromByteArray(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,i)=>g(e,t,r+`[${i}]`,!1));if(e instanceof Set)throw Error(m(r,"Set",[...e],t));if(e instanceof Map)throw Error(m(r,"Map",[...e],t));if(!(0,n.iY)(e)){let i=e?.constructor?.name;throw Error(m(r,i?`${i} `:"",e,t))}let l={},u=Object.entries(e);for(let[e,i]of(u.sort(([e,t],[r,i])=>e===r?0:e<r?-1:1),u))void 0!==i?(p(e),l[e]=g(i,t,r+`.${e}`,!1)):a&&(p(e),l[e]=y(i,t,r+`.${e}`));return l}function m(e,t,r,i){return e?`${t}${f(r)} is not a supported Convex type (present at path ${e} in original object ${f(i)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${f(r)} is not a supported Convex type.`}function y(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error(`Programming error. Current value is ${f(e)} but original value is undefined`);return g(e,t,r,!1)}function v(e){return g(e,e,"",!1)}function k(e){return y(e,e,"")}},2163:(e,t,r)=>{r.d(t,{FW:()=>u,HG:()=>l,Vc:()=>a,gE:()=>n,iM:()=>i,mG:()=>s,ub:()=>o});var i=[".lcl.dev",".lclstage.dev",".lclclerk.com"],n=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],s=[".lcl.dev","lclstage.dev",".lclclerk.com",".accounts.lclclerk.com"],o=[".accountsstage.dev"],a="https://api.lclclerk.com",l="https://api.clerkstage.dev",u="https://api.clerk.com"},2436:(e,t,r)=>{var i=r(2115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,o=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),i=s({inst:{value:r,getSnapshot:t}}),n=i[0].inst,c=i[1];return a(function(){n.value=r,n.getSnapshot=t,u(n)&&c({inst:n})},[e,r,t]),o(function(){return u(n)&&c({inst:n}),e(function(){u(n)&&c({inst:n})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},2690:(e,t,r)=>{r.d(t,{N:()=>a,Z:()=>o});var i=r(2115),n=r(8862);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.");return e}function a({children:e,client:t,useAuth:r}){let{isLoading:o,isAuthenticated:a,fetchAccessToken:c}=r(),[h,d]=(0,i.useState)(null);return o&&null!==h&&d(null),o||a||!1===h||d(!1),i.createElement(s.Provider,{value:{isLoading:null===h,isAuthenticated:a&&(h??!1)}},i.createElement(l,{authProviderAuthenticated:a,fetchAccessToken:c,authProviderLoading:o,client:t,setIsConvexAuthenticated:d}),i.createElement(n.hD,{client:t},e),i.createElement(u,{authProviderAuthenticated:a,fetchAccessToken:c,authProviderLoading:o,client:t,setIsConvexAuthenticated:d}))}function l({authProviderAuthenticated:e,fetchAccessToken:t,authProviderLoading:r,client:n,setIsConvexAuthenticated:s}){return(0,i.useEffect)(()=>{let r=!0;if(e)return n.setAuth(t,e=>{r&&s(()=>e)}),()=>{r=!1,s(e=>!e&&null)}},[e,t,r,n,s]),null}function u({authProviderAuthenticated:e,fetchAccessToken:t,authProviderLoading:r,client:n,setIsConvexAuthenticated:s}){return(0,i.useEffect)(()=>{if(e)return()=>{n.clearAuth(),s(()=>null)}},[e,t,r,n,s]),null}},2800:(e,t,r)=>{r.d(t,{i:()=>u});var i,n,s=r(1388),o=Object.defineProperty,a=(e,t,r)=>((e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);let l=Symbol.for("ConvexError");class u extends(n=Error,i=l,n){constructor(e){super("string"==typeof e?e:(0,s.E$)(e)),a(this,"name","ConvexError"),a(this,"data"),a(this,i,!0),this.data=e}}},2828:(e,t,r)=>{r.d(t,{Gg:()=>o,dp:()=>a,qQ:()=>s});var i=r(275),n=r(5947);function s(e){let t=(0,n.Jc)(e);if(void 0===t.name){if(void 0!==t.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`);if(void 0!==t.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`)}if("string"==typeof e)return e;let r=e[i.A];if(!r)throw Error(`${e} is not a functionReference`);return r}function o(e){return{[i.A]:e}}let a=function e(t=[]){return new Proxy({},{get(r,n){if("string"==typeof n)return e([...t,n]);if(n===i.A){if(t.length<2){let e=["api",...t].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${e}\``)}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return n===Symbol.toStringTag?"FunctionReference":void 0}})}()},2872:(e,t,r)=>{function i(e){return"clerkError"in e}r.d(t,{$R:()=>i,_r:()=>o,cR:()=>n});var n=class e extends Error{constructor(t,{code:r}){let i="\uD83D\uDD12 Clerk:",n=RegExp(i.replace(" ","\\s*"),"i"),s=t.replace(n,""),o=`${i} ${s.trim()}

(code="${r}")
`;super(o),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,e.prototype),this.code=r,this.message=o,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},s=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function o({packageName:e,customMessages:t}){let r=e;function i(e,t){if(!t)return`${r}: ${e}`;let i=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();i=i.replace(`{{${r[1]}}}`,e)}return`${r}: ${i}`}let n={...s,...t};return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(i(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(i(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(i(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(i(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(e){throw Error(i(n.MissingClerkProvider,e))},throw(e){throw Error(i(e))}}}},3018:(e,t,r)=>{let i,n;r.d(t,{ED:()=>eU,pc:()=>ez,TS:()=>eJ,IC:()=>eW,Rs:()=>eL,Rx:()=>eF,e3:()=>eT,MZ:()=>tt,Kz:()=>eK,ho:()=>te,hQ:()=>ex,WD:()=>e$,Z5:()=>e0,D_:()=>e2,Wp:()=>ti,wV:()=>e8,g7:()=>e4,Jd:()=>e7});var s={};r.r(s),r.d(s,{SWRConfig:()=>em,default:()=>ey,mutate:()=>K,preload:()=>ei,unstable_serialize:()=>ep,useSWRConfig:()=>er});var o=r(7937),a=(...e)=>{};r(852);var l=r(2872),u="reverification-error",c=r(5018),h=r(5649),d=r(2115),p=r(9033),f=Object.prototype.hasOwnProperty;let g=new WeakMap,m=()=>{},y=m(),v=Object,k=e=>e===y,b=(e,t)=>({...e,...t}),S={},w={},C="undefined",O=typeof window!=C,_=typeof document!=C,P=O&&"Deno"in window,E=(e,t)=>{let r=g.get(e);return[()=>!k(t)&&e.get(t)||S,i=>{if(!k(t)){let n=e.get(t);t in w||(w[t]=n),r[5](t,b(n,i),n||S)}},r[6],()=>!k(t)&&t in w?w[t]:!k(t)&&e.get(t)||S]},A=!0,[R,j]=O&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[m,m],M={initFocus:e=>(_&&document.addEventListener("visibilitychange",e),R("focus",e),()=>{_&&document.removeEventListener("visibilitychange",e),j("focus",e)}),initReconnect:e=>{let t=()=>{A=!0,e()},r=()=>{A=!1};return R("online",t),R("offline",r),()=>{j("online",t),j("offline",r)}}},T=!d.useId,I=!O||P,U=I?d.useEffect:d.useLayoutEffect,x="undefined"!=typeof navigator&&navigator.connection,L=!I&&x&&(["slow-2g","2g"].includes(x.effectiveType)||x.saveData),q=new WeakMap,z=(e,t)=>e==="[object ".concat(t,"]"),$=0,W=e=>{let t,r,i=typeof e,n=v.prototype.toString.call(e),s=z(n,"Date"),o=z(n,"RegExp"),a=z(n,"Object");if(v(e)!==e||s||o)t=s?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=q.get(e))return t;if(t=++$+"~",q.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=W(e[r])+",";q.set(e,t)}if(a){t="#";let i=v.keys(e).sort();for(;!k(r=i.pop());)k(e[r])||(t+=r+":"+W(e[r])+",");q.set(e,t)}}return t},V=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?W(e):"",t]},D=0,N=()=>++D;async function F(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,n,s,o]=t,a=b({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),l=a.populateCache,u=a.rollbackOnError,c=a.optimisticData,h=a.throwOnError;if("function"==typeof n){let e=[];for(let t of i.keys())!/^\$(inf|sub)\$/.test(t)&&n(i.get(t)._k)&&e.push(t);return Promise.all(e.map(d))}return d(n);async function d(e){let r,[n]=V(e);if(!n)return;let[o,d]=E(i,n),[p,f,m,v]=g.get(i),b=()=>{let t=p[n];return("function"==typeof a.revalidate?a.revalidate(o().data,e):!1!==a.revalidate)&&(delete m[n],delete v[n],t&&t[0])?t[0](2).then(()=>o().data):o().data};if(t.length<3)return b();let S=s,w=!1,C=N();f[n]=[C,0];let O=!k(c),_=o(),P=_.data,A=_._c,R=k(A)?P:A;if(O&&d({data:c="function"==typeof c?c(R,P):c,_c:R}),"function"==typeof S)try{S=S(R)}catch(e){r=e,w=!0}if(S&&"function"==typeof S.then){let e;if(S=await S.catch(e=>{r=e,w=!0}),C!==f[n][0]){if(w)throw r;return S}w&&O&&(e=r,"function"==typeof u?u(e):!1!==u)&&(l=!0,d({data:R,_c:y}))}if(l&&!w&&("function"==typeof l?d({data:l(S,R),error:y,_c:y}):d({data:S,error:y,_c:y})),f[n][1]=N(),Promise.resolve(b()).then(()=>{d({_c:y})}),w){if(h)throw r;return}return S}}let Q=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},B=(e,t)=>{if(!g.has(e)){let r=b(M,t),i=Object.create(null),n=F.bind(y,e),s=m,o=Object.create(null),a=(e,t)=>{let r=o[e]||[];return o[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},l=(t,r,i)=>{e.set(t,r);let n=o[t];if(n)for(let e of n)e(r,i)},u=()=>{if(!g.has(e)&&(g.set(e,[i,Object.create(null),Object.create(null),Object.create(null),n,l,a]),!I)){let t=r.initFocus(setTimeout.bind(y,Q.bind(y,i,0))),n=r.initReconnect(setTimeout.bind(y,Q.bind(y,i,1)));s=()=>{t&&t(),n&&n(),g.delete(e)}}};return u(),[e,n,u,s]}return[e,g.get(e)[4]]},[J,K]=B(new Map),G=b({onLoadingSlow:m,onSuccess:m,onError:m,onErrorRetry:(e,t,r,i,n)=>{let s=r.errorRetryCount,o=n.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;(k(s)||!(o>s))&&setTimeout(i,a,n)},onDiscarded:m,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:L?5e3:3e3,compare:function e(t,r){var i,n;if(t===r)return!0;if(t&&r&&(i=t.constructor)===r.constructor){if(i===Date)return t.getTime()===r.getTime();if(i===RegExp)return t.toString()===r.toString();if(i===Array){if((n=t.length)===r.length)for(;n--&&e(t[n],r[n]););return -1===n}if(!i||"object"==typeof t){for(i in n=0,t)if(f.call(t,i)&&++n&&!f.call(r,i)||!(i in r)||!e(t[i],r[i]))return!1;return Object.keys(r).length===n}}return t!=t&&r!=r},isPaused:()=>!1,cache:J,mutate:K,fallback:{}},{isOnline:()=>A,isVisible:()=>{let e=_&&document.visibilityState;return k(e)||"hidden"!==e}}),Z=(e,t)=>{let r=b(e,t);if(t){let{use:i,fallback:n}=e,{use:s,fallback:o}=t;i&&s&&(r.use=i.concat(s)),n&&o&&(r.fallback=b(n,o))}return r},H=(0,d.createContext)({}),X="$inf$",Y=O&&window.__SWR_DEVTOOLS_USE__,ee=Y?window.__SWR_DEVTOOLS_USE__:[],et=e=>"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],er=()=>b(G,(0,d.useContext)(H)),ei=(e,t)=>{let[r,i]=V(e),[,,,n]=g.get(J);if(n[r])return n[r];let s=t(i);return n[r]=s,s},en=ee.concat(e=>(t,r,i)=>{let n=r&&((...e)=>{let[i]=V(t),[,,,n]=g.get(J);if(i.startsWith(X))return r(...e);let s=n[i];return k(s)?r(...e):(delete n[i],s)});return e(t,n,i)});Y&&(window.__SWR_DEVTOOLS_REACT__=d);let es=()=>{},eo=es(),ea=Object,el=e=>e===eo,eu=new WeakMap,ec=(e,t)=>e===`[object ${t}]`,eh=0,ed=e=>{let t,r,i=typeof e,n=ea.prototype.toString.call(e),s=ec(n,"Date"),o=ec(n,"RegExp"),a=ec(n,"Object");if(ea(e)!==e||s||o)t=s?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=eu.get(e))return t;if(t=++eh+"~",eu.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=ed(e[r])+",";eu.set(e,t)}if(a){t="#";let i=ea.keys(e).sort();for(;!el(r=i.pop());)el(e[r])||(t+=r+":"+ed(e[r])+",");eu.set(e,t)}}return t},ep=e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ed(e):"",t]})(e)[0],ef=d.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),eg={dedupe:!0},em=v.defineProperty(e=>{let{value:t}=e,r=(0,d.useContext)(H),i="function"==typeof t,n=(0,d.useMemo)(()=>i?t(r):t,[i,r,t]),s=(0,d.useMemo)(()=>i?n:Z(r,n),[i,r,n]),o=n&&n.provider,a=(0,d.useRef)(y);o&&!a.current&&(a.current=B(o(s.cache||J),n));let l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),U(()=>{if(l)return l[2]&&l[2](),l[3]},[]),(0,d.createElement)(H.Provider,b(e,{value:s}))},"defaultValue",{value:G}),ey=(i=(e,t,r)=>{let{cache:i,compare:n,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:f}=r,[m,v,S,w]=g.get(i),[_,P]=V(e),A=(0,d.useRef)(!1),R=(0,d.useRef)(!1),j=(0,d.useRef)(_),M=(0,d.useRef)(t),x=(0,d.useRef)(r),L=()=>x.current.isVisible()&&x.current.isOnline(),[q,z,$,W]=E(i,_),D=(0,d.useRef)({}).current,Q=k(o)?k(r.fallback)?y:r.fallback[_]:o,B=(e,t)=>{for(let r in D)if("data"===r){if(!n(e[r],t[r])&&(!k(e[r])||!n(et,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},J=(0,d.useMemo)(()=>{let e=!!_&&!!t&&(k(a)?!x.current.isPaused()&&!s&&!1!==l:a),r=t=>{let r=b(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},i=q(),n=W(),o=r(i),u=i===n?o:r(n),c=o;return[()=>{let e=r(q());return B(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>u]},[i,_]),K=(0,p.useSyncExternalStore)((0,d.useCallback)(e=>$(_,(t,r)=>{B(r,t)||e()}),[i,_]),J[0],J[1]),G=!A.current,Z=m[_]&&m[_].length>0,H=K.data,X=k(H)?Q&&"function"==typeof Q.then?ef(Q):Q:H,Y=K.error,ee=(0,d.useRef)(X),et=f?k(H)?k(ee.current)?X:ee.current:H:X,er=(!Z||!!k(Y))&&(G&&!k(a)?a:!x.current.isPaused()&&(s?!k(X)&&l:k(X)||l)),ei=!!(_&&t&&G&&er),en=k(K.isValidating)?ei:K.isValidating,es=k(K.isLoading)?ei:K.isLoading,eo=(0,d.useCallback)(async e=>{let t,i,s=M.current;if(!_||!s||R.current||x.current.isPaused())return!1;let o=!0,a=e||{},l=!S[_]||!a.dedupe,u=()=>T?!R.current&&_===j.current&&A.current:_===j.current,c={isValidating:!1,isLoading:!1},h=()=>{z(c)},d=()=>{let e=S[_];e&&e[1]===i&&delete S[_]},p={isValidating:!0};k(q().data)&&(p.isLoading=!0);try{if(l&&(z(p),r.loadingTimeout&&k(q().data)&&setTimeout(()=>{o&&u()&&x.current.onLoadingSlow(_,r)},r.loadingTimeout),S[_]=[s(P),N()]),[t,i]=S[_],t=await t,l&&setTimeout(d,r.dedupingInterval),!S[_]||S[_][1]!==i)return l&&u()&&x.current.onDiscarded(_),!1;c.error=y;let e=v[_];if(!k(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return h(),l&&u()&&x.current.onDiscarded(_),!1;let a=q().data;c.data=n(a,t)?a:t,l&&u()&&x.current.onSuccess(t,_,r)}catch(r){d();let e=x.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,l&&u())&&(e.onError(r,_,e),(!0===t||"function"==typeof t&&t(r))&&(!x.current.revalidateOnFocus||!x.current.revalidateOnReconnect||L())&&e.onErrorRetry(r,_,e,e=>{let t=m[_];t&&t[0]&&t[0](3,e)},{retryCount:(a.retryCount||0)+1,dedupe:!0}))}return o=!1,h(),!0},[_,i]),ea=(0,d.useCallback)((...e)=>F(i,j.current,...e),[]);if(U(()=>{M.current=t,x.current=r,k(H)||(ee.current=H)}),U(()=>{if(!_)return;let e=eo.bind(y,eg),t=0;x.current.revalidateOnFocus&&(t=Date.now()+x.current.focusThrottleInterval);let r=((e,t,r)=>{let i=t[e]||(t[e]=[]);return i.push(r),()=>{let e=i.indexOf(r);e>=0&&(i[e]=i[i.length-1],i.pop())}})(_,m,(r,i={})=>{if(0==r){let r=Date.now();x.current.revalidateOnFocus&&r>t&&L()&&(t=r+x.current.focusThrottleInterval,e())}else if(1==r)x.current.revalidateOnReconnect&&L()&&e();else if(2==r)return eo();else if(3==r)return eo(i)});return R.current=!1,j.current=_,A.current=!0,z({_k:P}),er&&!S[_]&&(k(X)||I?e():(e=>O&&typeof window.requestAnimationFrame!=C?window.requestAnimationFrame(e):setTimeout(e,1))(e)),()=>{R.current=!0,r()}},[_]),U(()=>{let e;function t(){let t="function"==typeof u?u(q().data):u;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!q().error&&(c||x.current.isVisible())&&(h||x.current.isOnline())?eo(eg).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[u,c,h,_]),(0,d.useDebugValue)(et),s&&k(X)&&_){if(!T&&I)throw Error("Fallback data is required when using Suspense in SSR.");M.current=t,x.current=r,R.current=!1;let e=w[_];if(k(e)||ef(ea(e)),k(Y)){let e=eo(eg);k(et)||(e.status="fulfilled",e.value=!0),ef(e)}else throw Y}return{mutate:ea,get data(){return D.data=!0,et},get error(){return D.error=!0,Y},get isValidating(){return D.isValidating=!0,en},get isLoading(){return D.isLoading=!0,es}}},function(...e){let t=er(),[r,n,s]=et(e),o=Z(t,s),a=i,{use:l}=o,u=(l||[]).concat(en);for(let e=u.length;e--;)a=u[e](a);return a(r,n||o.fetcher||null,o)}),ev=()=>{},ek=ev(),eb=Object,eS=e=>e===ek,ew=new WeakMap,eC=(e,t)=>e===`[object ${t}]`,eO=0,e_=e=>{let t,r,i=typeof e,n=eb.prototype.toString.call(e),s=eC(n,"Date"),o=eC(n,"RegExp"),a=eC(n,"Object");if(eb(e)!==e||s||o)t=s?e.toJSON():"symbol"==i?e.toString():"string"==i?JSON.stringify(e):""+e;else{if(t=ew.get(e))return t;if(t=++eO+"~",ew.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=e_(e[r])+",";ew.set(e,t)}if(a){t="#";let i=eb.keys(e).sort();for(;!eS(r=i.pop());)eS(e[r])||(t+=r+":"+e_(e[r])+",");ew.set(e,t)}}return t},eP=Promise.resolve(),eE=(n=e=>(t,r,i)=>{let n,s=(0,d.useRef)(!1),{cache:o,initialSize:a=1,revalidateAll:l=!1,persistSize:u=!1,revalidateFirstPage:c=!0,revalidateOnMount:h=!1,parallel:f=!1}=i,[,,,m]=g.get(J);try{(n=(e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?e_(e):"",t]})(e?e(0,null):null)[0])(t))&&(n=X+n)}catch(e){}let[v,b,S]=E(o,n),w=(0,d.useCallback)(()=>k(v()._l)?a:v()._l,[o,n,a]);(0,p.useSyncExternalStore)((0,d.useCallback)(e=>n?S(n,()=>{e()}):()=>{},[o,n]),w,w);let C=(0,d.useCallback)(()=>{let e=v()._l;return k(e)?a:e},[n,a]),O=(0,d.useRef)(C());U(()=>{if(!s.current){s.current=!0;return}n&&b({_l:u?O.current:C()})},[n,o]);let _=h&&!s.current,P=e(n,async e=>{let n=v()._i,s=v()._r;b({_r:y});let a=[],u=C(),[h]=E(o,e),d=h().data,p=[],g=null;for(let e=0;e<u;++e){let[u,h]=V(t(e,f?null:g));if(!u)break;let[y,v]=E(o,u),b=y().data,S=l||n||k(b)||c&&!e&&!k(d)||_||d&&!k(d[e])&&!i.compare(d[e],b);if(r&&("function"==typeof s?s(b,h):S)){let t=async()=>{if(u in m){let e=m[u];delete m[u],b=await e}else b=await r(h);v({data:b,_k:h}),a[e]=b};f?p.push(t):await t()}else a[e]=b;f||(g=b)}return f&&await Promise.all(p.map(e=>e())),b({_i:y}),a},i),A=(0,d.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},i=!1!==r.revalidate;return n?(i&&(k(e)?b({_i:!0,_r:r.revalidate}):b({_i:!1,_r:r.revalidate})),arguments.length?P.mutate(e,{...r,revalidate:i}):P.mutate()):eP},[n,o]),R=(0,d.useCallback)(e=>{let r;if(!n)return eP;let[,i]=E(o,n);if("function"==typeof e?r=e(C()):"number"==typeof e&&(r=e),"number"!=typeof r)return eP;i({_l:r}),O.current=r;let s=[],[a]=E(o,n),l=null;for(let e=0;e<r;++e){let[r]=V(t(e,l)),[i]=E(o,r),n=r?i().data:y;if(k(n))return A(a().data);s.push(n),l=n}return A(s)},[n,o,A,C]);return{size:C(),setSize:R,mutate:A,get data(){return P.data},get error(){return P.error},get isValidating(){return P.isValidating},get isLoading(){return P.isLoading}}},(...e)=>{let[t,r,i]=et(e),s=(i.use||[]).concat(n);return ey(t,r,{...i,use:s})});var eA=Object.prototype.hasOwnProperty;function eR(e,t,r){for(r of e.keys())if(ej(r,t))return r}function ej(e,t){var r,i,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&ej(e[i],t[i]););return -1===i}if(r===Set){if(e.size!==t.size)return!1;for(i of e)if((n=i)&&"object"==typeof n&&!(n=eR(t,n))||!t.has(n))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(i of e)if((n=i[0])&&"object"==typeof n&&!(n=eR(t,n))||!ej(i[1],t.get(n)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return -1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return -1===i}if(!r||"object"==typeof e){for(r in i=0,e)if(eA.call(e,r)&&++i&&!eA.call(t,r)||!(r in t)||!ej(e[r],t[r]))return!1;return Object.keys(t).length===i}}return e!=e&&t!=t}function eM(e,t){if(!e)throw"string"==typeof t?Error(t):Error(`${t.displayName} not found`)}var eT=(e,t)=>{let{assertCtxFn:r=eM}=t||{},i=d.createContext(void 0);return i.displayName=e,[i,()=>{let t=d.useContext(i);return r(t,`${e} not found`),t.value},()=>{let e=d.useContext(i);return e?e.value:{}}]},eI={};(0,h.VA)(eI,{useSWR:()=>ey,useSWRInfinite:()=>eE}),(0,h.ie)(eI,s);var[eU,ex]=eT("ClerkInstanceContext"),[eL,eq]=eT("UserContext"),[ez,e$]=eT("ClientContext"),[eW,eV]=eT("SessionContext");d.createContext({});var[eD,eN]=eT("CheckoutContext"),eF=({children:e,...t})=>d.createElement(eD.Provider,{value:{value:t}},e),[eQ,eB]=eT("OrganizationContext"),eJ=({children:e,organization:t,swrConfig:r})=>d.createElement(eI.SWRConfig,{value:r},d.createElement(eQ.Provider,{value:{value:{organization:t}}},e));function eK(e){if(!d.useContext(eU)){if("function"==typeof e)return void e();throw Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}function eG(e,t){let r=new Set(Object.keys(t)),i={};for(let t of Object.keys(e))r.has(t)||(i[t]=e[t]);return i}var eZ=(e,t)=>{let r="boolean"==typeof e&&e,i=(0,d.useRef)(r?t.initialPage:e?.initialPage??t.initialPage),n=(0,d.useRef)(r?t.pageSize:e?.pageSize??t.pageSize),s={};for(let i of Object.keys(t))s[i]=r?t[i]:e?.[i]??t[i];return{...s,initialPage:i.current,pageSize:n.current}},eH={dedupingInterval:6e4,focusThrottleInterval:12e4},eX=(e,t,r,i)=>{let[n,s]=(0,d.useState)(e.initialPage??1),o=(0,d.useRef)(e.initialPage??1),a=(0,d.useRef)(e.pageSize??10),l=r.enabled??!0,u="cache"===r.__experimental_mode,c=r.infinite??!1,h=r.keepPreviousData??!1,p={...i,...e,initialPage:n,pageSize:a.current},{data:f,isValidating:g,isLoading:m,error:y,mutate:v}=ey(!c&&l&&(u||t)?p:null,!u&&t?r=>{let n=eG(r,i);return t({...e,...n})}:null,{keepPreviousData:h,...eH}),{data:k,isLoading:b,isValidating:S,error:w,size:C,setSize:O,mutate:_}=eE(t=>c&&l?{...e,...i,initialPage:o.current+t,pageSize:a.current}:null,e=>{let r=eG(e,i);return t?.(r)},eH),P=(0,d.useMemo)(()=>c?C:n,[c,C,n]),E=(0,d.useCallback)(e=>c?void O(e):s(e),[O]),A=(0,d.useMemo)(()=>c?k?.map(e=>e?.data).flat()??[]:f?.data??[],[c,f,k]),R=(0,d.useMemo)(()=>c?k?.[k?.length-1]?.total_count||0:f?.total_count??0,[c,f,k]),j=c?b:m,M=c?S:g,T=(c?w:y)??null,I=(0,d.useCallback)(()=>{E(e=>Math.max(0,e+1))},[E]),U=(0,d.useCallback)(()=>{E(e=>Math.max(0,e-1))},[E]),x=(o.current-1)*a.current,L=Math.ceil((R-x)/a.current),q=R-x*a.current>P*a.current,z=(P-1)*a.current>x*a.current,$=c?e=>_(e,{revalidate:!1}):e=>v(e,{revalidate:!1});return{data:A,count:R,error:T,isLoading:j,isFetching:M,isError:!!T,page:P,pageCount:L,fetchPage:E,fetchNext:I,fetchPrevious:U,hasNextPage:q,hasPreviousPage:z,revalidate:c?()=>_():()=>v(),setData:$}},eY={data:void 0,count:void 0,error:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0};function e0(e){var t,r;let{domains:i,membershipRequests:n,memberships:s,invitations:a,subscriptions:l}=e||{};eK("useOrganization");let{organization:u}=eB(),c=eV(),h=eZ(i,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,enrollmentMode:void 0}),d=eZ(n,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),p=eZ(s,{initialPage:1,pageSize:10,role:void 0,keepPreviousData:!1,infinite:!1,query:void 0}),f=eZ(a,{initialPage:1,pageSize:10,status:["pending"],keepPreviousData:!1,infinite:!1}),g=eZ(l,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),m=ex();m.telemetry?.record((0,o.FJ)("useOrganization"));let y=void 0===i?void 0:{initialPage:h.initialPage,pageSize:h.pageSize,enrollmentMode:h.enrollmentMode},v=void 0===n?void 0:{initialPage:d.initialPage,pageSize:d.pageSize,status:d.status},k=void 0===s?void 0:{initialPage:p.initialPage,pageSize:p.pageSize,role:p.role,query:p.query},b=void 0===a?void 0:{initialPage:f.initialPage,pageSize:f.pageSize,status:f.status},S=void 0===l?void 0:{initialPage:g.initialPage,pageSize:g.pageSize,orgId:u?.id},w=eX({...y},u?.getDomains,{keepPreviousData:h.keepPreviousData,infinite:h.infinite,enabled:!!y},{type:"domains",organizationId:u?.id}),C=eX({...v},u?.getMembershipRequests,{keepPreviousData:d.keepPreviousData,infinite:d.infinite,enabled:!!v},{type:"membershipRequests",organizationId:u?.id}),O=eX(k||{},u?.getMemberships,{keepPreviousData:p.keepPreviousData,infinite:p.infinite,enabled:!!k},{type:"members",organizationId:u?.id}),_=eX({...b},u?.getInvitations,{keepPreviousData:f.keepPreviousData,infinite:f.infinite,enabled:!!b},{type:"invitations",organizationId:u?.id}),P=eX({...S},u?.getSubscriptions,{keepPreviousData:g.keepPreviousData,infinite:g.infinite,enabled:!!S},{type:"subscriptions",organizationId:u?.id});return void 0===u?{isLoaded:!1,organization:void 0,membership:void 0,domains:eY,membershipRequests:eY,memberships:eY,invitations:eY,subscriptions:eY}:null===u?{isLoaded:!0,organization:null,membership:null,domains:null,membershipRequests:null,memberships:null,invitations:null,subscriptions:null}:!m.loaded&&u?{isLoaded:!0,organization:u,membership:void 0,domains:eY,membershipRequests:eY,memberships:eY,invitations:eY,subscriptions:eY}:{isLoaded:m.loaded,organization:u,membership:(t=c.user.organizationMemberships,r=u.id,t.find(e=>e.organization.id===r)),domains:w,membershipRequests:C,memberships:O,invitations:_,subscriptions:P}}var e1={data:void 0,count:void 0,error:void 0,isLoading:!1,isFetching:!1,isError:!1,page:void 0,pageCount:void 0,fetchPage:void 0,fetchNext:void 0,fetchPrevious:void 0,hasNextPage:!1,hasPreviousPage:!1,revalidate:void 0,setData:void 0};function e2(e){let{userMemberships:t,userInvitations:r,userSuggestions:i}=e||{};eK("useOrganizationList");let n=eZ(t,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1}),s=eZ(r,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),a=eZ(i,{initialPage:1,pageSize:10,status:"pending",keepPreviousData:!1,infinite:!1}),l=ex(),u=eq();l.telemetry?.record((0,o.FJ)("useOrganizationList"));let c=void 0===t?void 0:{initialPage:n.initialPage,pageSize:n.pageSize},h=void 0===r?void 0:{initialPage:s.initialPage,pageSize:s.pageSize,status:s.status},d=void 0===i?void 0:{initialPage:a.initialPage,pageSize:a.pageSize,status:a.status},p=!!(l.loaded&&u),f=eX(c||{},u?.getOrganizationMemberships,{keepPreviousData:n.keepPreviousData,infinite:n.infinite,enabled:!!c},{type:"userMemberships",userId:u?.id}),g=eX({...h},u?.getOrganizationInvitations,{keepPreviousData:s.keepPreviousData,infinite:s.infinite,enabled:!!h},{type:"userInvitations",userId:u?.id}),m=eX({...d},u?.getOrganizationSuggestions,{keepPreviousData:a.keepPreviousData,infinite:a.infinite,enabled:!!d},{type:"userSuggestions",userId:u?.id});return p?{isLoaded:p,setActive:l.setActive,createOrganization:l.createOrganization,userMemberships:f,userInvitations:g,userSuggestions:m}:{isLoaded:!1,createOrganization:void 0,setActive:void 0,userMemberships:e1,userInvitations:e1,userSuggestions:e1}}var e3="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,e5="useSession",e8=()=>{eK(e5);let e=eV(),t=ex();return(t.telemetry?.record((0,o.FJ)(e5)),void 0===e)?{isLoaded:!1,isSignedIn:void 0,session:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:t.isSignedIn,session:e}},e6="useSessionList",e4=()=>{eK(e6);let e=ex(),t=e$(),r=ex();return(r.telemetry?.record((0,o.FJ)(e6)),t)?{isLoaded:!0,sessions:t.sessions,setActive:e.setActive}:{isLoaded:!1,sessions:void 0,setActive:void 0}},e9="useUser";function e7(){eK(e9);let e=eq(),t=ex();return(t.telemetry?.record((0,o.FJ)(e9)),void 0===e)?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var te=()=>(eK("useClerk"),ex()),tt=ej;async function tr(e){try{let t=await e;if(t instanceof Response)return t.json();return t}catch(e){if((0,l.$R)(e)&&e.errors.find(({code:e})=>"session_reverification_required"===e))return{clerk_error:{type:"forbidden",reason:u,metadata:{reverification:void 0}}};throw e}}var ti=(e,t)=>{let{__internal_openReverification:r,telemetry:i}=te(),n=(0,d.useRef)(e),s=(0,d.useRef)(t);return i?.record((0,o.FJ)("useReverification",{onNeedsReverification:!!t?.onNeedsReverification})),e3(()=>{n.current=e,s.current=t}),(0,d.useCallback)((...e)=>(function(e){return function(t){return async(...r)=>{let i,n=await tr(t(...r));if((i=n)&&"object"==typeof i&&"clerk_error"in i&&i.clerk_error?.type==="forbidden"&&i.clerk_error?.reason===u){let i,s,o=(i=a,s=a,{promise:new Promise((e,t)=>{i=e,s=t}),resolve:i,reject:s}),u=(0,c.D)(n.clerk_error.metadata?.reverification),h=u?u().level:void 0,d=()=>{o.reject(new l.cR("User cancelled attempted verification",{code:"reverification_cancelled"}))},p=()=>{o.resolve(!0)};void 0===e.onNeedsReverification?e.openUIComponent?.({level:h,afterVerification:p,afterVerificationCancelled:d}):e.onNeedsReverification({cancel:d,complete:p,level:h}),await o.promise,n=await tr(t(...r))}return n}}})({openUIComponent:r,telemetry:i,...s.current})(n.current)(...e),[r,i])};function tn({hookName:e,resourceType:t,useFetcher:r,options:i}){return function(n){let{for:s,...a}=n||{for:"user"};eK(e);let l=r(s),u=eZ(a,{initialPage:1,pageSize:10,keepPreviousData:!1,infinite:!1,__experimental_mode:void 0}),c=ex(),h=eq(),{organization:d}=eB();c.telemetry?.record((0,o.FJ)(e));let p=void 0===a?void 0:{initialPage:u.initialPage,pageSize:u.pageSize,..."organization"===s?{orgId:d?.id}:{}},f=!!(c.loaded&&(i?.unauthenticated||h));return eX(p||{},l,{keepPreviousData:u.keepPreviousData,infinite:u.infinite,enabled:!!p&&f,__experimental_mode:u.__experimental_mode},{type:t,userId:h?.id,..."organization"===s?{orgId:d?.id}:{}})}}tn({hookName:"useStatements",resourceType:"commerce-statements",useFetcher:()=>ex().billing.getStatements}),tn({hookName:"usePaymentAttempts",resourceType:"commerce-payment-attempts",useFetcher:()=>ex().billing.getPaymentAttempts}),tn({hookName:"usePaymentMethods",resourceType:"commerce-payment-methods",useFetcher:e=>{let{organization:t}=eB(),r=eq();return"organization"===e?t?.getPaymentSources:r?.getPaymentSources}}),tn({hookName:"usePlans",resourceType:"commerce-plans",useFetcher:e=>{let t=ex();return({orgId:r,...i})=>t.billing.getPlans({...i,for:e})},options:{unauthenticated:!0}});var ts=(e,t,r)=>{let i=!!r,n=(0,d.useRef)(r);(0,d.useEffect)(()=>{n.current=r},[r]),(0,d.useEffect)(()=>{if(!i||!e)return()=>{};let r=(...e)=>{n.current&&n.current(...e)};return e.on(t,r),()=>{e.off(t,r)}},[i,t,e,n])},to=d.createContext(null);to.displayName="ElementsContext";var ta=e=>null!==e&&"object"==typeof e,tl="[object Object]",tu=(e,t)=>{if(!ta(e)||!ta(t))return e===t;let r=Array.isArray(e);if(r!==Array.isArray(t))return!1;let i=Object.prototype.toString.call(e)===tl;if(i!==(Object.prototype.toString.call(t)===tl))return!1;if(!i&&!r)return e===t;let n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;let o={};for(let e=0;e<n.length;e+=1)o[n[e]]=!0;for(let e=0;e<s.length;e+=1)o[s[e]]=!0;let a=Object.keys(o);return a.length===n.length&&a.every(r=>tu(e[r],t[r]))},tc=e=>((e,t)=>{if(!e)throw Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e})(d.useContext(to),e);((e,t)=>{let r=`${(e=>e.charAt(0).toUpperCase()+e.slice(1))(e)}Element`,i=t?e=>{tc(`mounts <${r}>`);let{id:t,className:i}=e;return d.createElement("div",{id:t,className:i})}:({id:t,className:i,fallback:n,options:s={},onBlur:o,onFocus:a,onReady:l,onChange:u,onEscape:c,onClick:h,onLoadError:p,onLoaderStart:f,onNetworksChange:g,onConfirm:m,onCancel:y,onShippingAddressChange:v,onShippingRateChange:k})=>{let b,S=tc(`mounts <${r}>`),w="elements"in S?S.elements:null,[C,O]=d.useState(null),_=d.useRef(null),P=d.useRef(null),[E,A]=(0,d.useState)(!1);ts(C,"blur",o),ts(C,"focus",a),ts(C,"escape",c),ts(C,"click",h),ts(C,"loaderror",p),ts(C,"loaderstart",f),ts(C,"networkschange",g),ts(C,"confirm",m),ts(C,"cancel",y),ts(C,"shippingaddresschange",v),ts(C,"shippingratechange",k),ts(C,"change",u),l&&(b=()=>{A(!0),l(C)}),ts(C,"ready",b),d.useLayoutEffect(()=>{if(null===_.current&&null!==P.current&&w){let t=null;w&&(t=w.create(e,s)),_.current=t,O(t),t&&t.mount(P.current)}},[w,s]);let R=(e=>{let t=(0,d.useRef)(e);return(0,d.useEffect)(()=>{t.current=e},[e]),t.current})(s);return d.useEffect(()=>{if(!_.current)return;let e=((e,t,r)=>ta(e)?Object.keys(e).reduce((i,n)=>{let s=!ta(t)||!tu(e[n],t[n]);return r.includes(n)?(s&&console.warn(`Unsupported prop change: options.${n} is not a mutable property.`),i):s?{...i||{},[n]:e[n]}:i},null):null)(s,R,["paymentRequest"]);e&&"update"in _.current&&_.current.update(e)},[s,R]),d.useLayoutEffect(()=>()=>{if(_.current&&"function"==typeof _.current.destroy)try{_.current.destroy(),_.current=null}catch{}},[]),d.createElement(d.Fragment,null,!E&&n,d.createElement("div",{id:t,style:{height:E?"unset":"0px",visibility:E?"visible":"hidden"},className:i,ref:P}))};return i.displayName=r,i.__elementType=e})("payment","undefined"==typeof window);var[th,td]=eT("StripeLibsContext"),[tp,tf]=eT("PaymentElementContext"),[tg,tm]=eT("StripeUtilsContext")},3216:(e,t,r)=>{r.d(t,{r:()=>i});let i="1.25.4"},3789:(e,t,r)=>{r.d(t,{_r:()=>i._r});var i=r(2872);r(5649)},3877:(e,t,r)=>{function i(){return"undefined"!=typeof window}r.d(t,{M:()=>i}),RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i"),r(5649)},4129:(e,t,r)=>{r.d(t,{Fj:()=>s,MC:()=>n,b_:()=>i});var i=()=>!1,n=()=>!1,s=()=>{try{return!0}catch{}return!1}},4761:(e,t,r)=>{r.d(t,{n5:()=>l,Yz:()=>o,eH:()=>n.eH,hE:()=>a,Z:()=>s.Z,n_:()=>n.n_,IT:()=>n.IT});var i=r(2115);r(9089),r(6339),r(2828);var n=r(8862);r(6643);var s=r(2690);function o({children:e}){let{isLoading:t,isAuthenticated:r}=(0,s.Z)();return t||!r?null:i.createElement(i.Fragment,null,e)}function a({children:e}){let{isLoading:t,isAuthenticated:r}=(0,s.Z)();return t||r?null:i.createElement(i.Fragment,null,e)}function l({children:e}){let{isLoading:t}=(0,s.Z)();return t?i.createElement(i.Fragment,null,e):null}r(7373)},5018:(e,t,r)=>{r.d(t,{D:()=>u,M2:()=>h,MR:()=>c});var i={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},n=new Set(["first_factor","second_factor","multi_factor"]),s=new Set(["strict_mfa","strict","moderate","lax"]),o=e=>e.replace(/^(org:)*/,"org:"),a=(e,t)=>{let{org:r,user:i}=l(e),[n,s]=t.split(":"),o=s||n;return"org"===n?r.includes(o):"user"===n?i.includes(o):[...r,...i].includes(o)},l=e=>{let t=e?e.split(",").map(e=>e.trim()):[];return{org:t.filter(e=>e.split(":")[0].includes("o")).map(e=>e.split(":")[1]),user:t.filter(e=>e.split(":")[0].includes("u")).map(e=>e.split(":")[1])}},u=e=>{let t;if(!e)return!1;let r="string"==typeof e&&s.has(e),o="object"==typeof e&&(t=e.level,n.has(t))&&(e=>"number"==typeof e&&e>0)(e.afterMinutes);return(!!r||!!o)&&(e=>"string"==typeof e?i[e]:e).bind(null,e)},c=e=>t=>{if(!e.userId)return!1;let r=((e,t)=>{let{features:r,plans:i}=t;return e.feature&&r?a(r,e.feature):e.plan&&i?a(i,e.plan):null})(t,e),i=((e,t)=>{let{orgId:r,orgRole:i,orgPermissions:n}=t;return(e.role||e.permission)&&r&&i&&n?e.permission?n.includes(o(e.permission)):e.role?o(i)===o(e.role):null:null})(t,e),n=((e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;let r=u(e.reverification);if(!r)return null;let{level:i,afterMinutes:n}=r(),[s,o]=t,a=-1!==s?n>s:null,l=-1!==o?n>o:null;switch(i){case"first_factor":return a;case"second_factor":return -1!==o?l:a;case"multi_factor":return -1===o?a:a&&l}})(t,e);return[r||i,n].some(e=>null===e)?[r||i,n].some(e=>!0===e):[r||i,n].every(e=>!0===e)},h=({authObject:{sessionId:e,sessionStatus:t,userId:r,actor:i,orgId:n,orgRole:s,orgSlug:o,signOut:a,getToken:l,has:u,sessionClaims:c},options:{treatPendingAsSignedOut:h=!0}})=>void 0===e&&void 0===r?{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:a,getToken:l}:null===e&&null===r?{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l}:h&&"pending"===t?{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l}:e&&c&&r&&n&&s?{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:c,userId:r,actor:i||null,orgId:n,orgRole:s,orgSlug:o||null,has:u,signOut:a,getToken:l}:e&&c&&r&&!n?{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:c,userId:r,actor:i||null,orgId:null,orgRole:null,orgSlug:null,has:u,signOut:a,getToken:l}:void 0},5649:(e,t,r)=>{r.d(t,{OV:()=>d,S7:()=>h,VA:()=>a,ie:()=>u,jq:()=>p});var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},l=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))o.call(e,l)||l===r||i(e,l,{get:()=>t[l],enumerable:!(a=n(t,l))||a.enumerable});return e},u=(e,t,r)=>(l(e,t,"default"),r&&l(r,t,"default")),c=(e,t,r)=>t.has(e)||(e=>{throw TypeError(e)})("Cannot "+r),h=(e,t,r)=>(c(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r,i)=>(c(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),p=(e,t,r)=>(c(e,t,"access private method"),r)},5930:(e,t,r)=>{r.d(t,{T5:()=>k,nO:()=>v,_R:()=>y,kX:()=>f});function i(e){return e.startsWith("/")}var n={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},s=async e=>new Promise(t=>setTimeout(t,e)),o=(e,t)=>t?e*(1+Math.random()):e,a=async(e,t={})=>{let r=0,{shouldRetry:i,initialDelay:a,maxDelayBetweenRetries:l,factor:u,retryImmediately:c,jitter:h}={...n,...t},d=(e=>{let t=0;return async()=>{await s((()=>{let r=e.initialDelay*Math.pow(e.factor,t);return r=o(r,e.jitter),Math.min(e.maxDelayBetweenRetries||r,r)})()),t++}})({initialDelay:a,maxDelayBetweenRetries:l,factor:u,jitter:h});for(;;)try{return await e()}catch(e){if(!i(e,++r))throw e;c&&1===r?await s(o(100,h)):await d()}};async function l(e="",t){let{async:r,defer:i,beforeLoad:n,crossOrigin:s,nonce:o}=t||{};return a(()=>new Promise((t,a)=>{e||a(Error("loadScript cannot be called without a src")),document&&document.body||a("loadScript cannot be called when document does not exist");let l=document.createElement("script");s&&l.setAttribute("crossorigin",s),l.async=r||!1,l.defer=i||!1,l.addEventListener("load",()=>{l.remove(),t(l)}),l.addEventListener("error",()=>{l.remove(),a()}),l.src=e,l.nonce=o,n?.(l),document.body.appendChild(l)}),{shouldRetry:(e,t)=>t<=5})}var u=r(2872),c=r(6829),h="Clerk: Failed to load Clerk",{isDevOrStagingUrl:d}=(0,c.RZ)(),p=(0,u._r)({packageName:"@clerk/shared"});function f(e){p.setPackageName({packageName:e})}function g(){if("undefined"==typeof window||!window.Clerk)return!1;let e=window.Clerk;return"object"==typeof e&&"function"==typeof e.load}function m(e){return new Promise((t,r)=>{let i=!1,n=(e,t)=>{clearTimeout(e),clearInterval(t)},s=()=>{!i&&g()&&(i=!0,n(o,a),t(null))},o=setTimeout(()=>{i||(i=!0,n(o,a),g()?t(null):r(Error(h)))},e);s();let a=setInterval(()=>{if(i)return void clearInterval(a);s()},100)})}var y=async e=>{let t=e?.scriptLoadTimeout??15e3;if(g())return null;if(document.querySelector("script[data-clerk-js-script]"))return m(t);if(!e?.publishableKey)return p.throwMissingPublishableKeyError(),null;let r=m(t);return l(v(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:b(e)}).catch(()=>{throw Error(h)}),r},v=e=>{let{clerkJSUrl:t,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:o,publishableKey:a}=e;if(t)return t;let l="";l=s&&function(e){var t;return!e||(t=e,/^http(s)?:\/\//.test(t||""))||i(e)}(s)?(function(e){return e?i(e)?new URL(e,window.location.origin).toString():e:""})(s).replace(/http(s)?:\/\//,""):o&&!d((0,c.q5)(a)?.frontendApi||"")?function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}(o):(0,c.q5)(a)?.frontendApi||"";let u=r?`${r.replace(/\.+$/,"")}.`:"",h=((e,t="5.79.0")=>{let r;if(e)return e;let i=(r=t,r.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1]);if(i)return"snapshot"===i?"5.79.0":i;return t.trim().replace(/^v/,"").split(".")[0]})(n);return`https://${l}/npm/@clerk/clerk-js@${h}/dist/clerk.${u}browser.js`},k=e=>{let t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},b=e=>t=>{let r=k(e);for(let e in r)t.setAttribute(e,r[e])};r(5649)},5947:(e,t,r)=>{r.d(t,{Jc:()=>s});var i=r(275);let n=Symbol.for("toReferencePath");function s(e){let t;if("string"==typeof e)t=e.startsWith("function://")?{functionHandle:e}:{name:e};else if(e[i.A])t={name:e[i.A]};else{let r=e[n]??null;if(!r)throw Error(`${e} is not a functionReference`);t={reference:r}}return t}},5996:(e,t,r)=>{r.r(t),r.d(t,{byteLength:()=>c,fromByteArray:()=>d,toByteArray:()=>h});for(var i=[],n=[],s=Uint8Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)i[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function c(e){var t=u(e),r=t[0],i=t[1];return(r+i)*3/4-i}function h(e){var t,r,i=u(e),o=i[0],a=i[1],l=new s((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function d(e){for(var t,r=e.length,n=r%3,s=[],o=0,a=r-n;o<a;o+=16383)s.push(function(e,t,r){for(var n,s=[],o=t;o<r;o+=3)n=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===n?s.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&s.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")}n[45]=62,n[95]=63},6339:(e,t,r)=>{r.d(t,{E:()=>h});var i=r(2115),n=r(8862),s=r(9089),o=r(2828),a=Object.defineProperty,l=(e,t,r)=>((e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class u{constructor(e){l(this,"createWatch"),l(this,"queries"),l(this,"listeners"),this.createWatch=e,this.queries={},this.listeners=new Set}setQueries(e){for(let t of Object.keys(e)){let{query:r,args:i}=e[t];if((0,o.qQ)(r),void 0===this.queries[t])this.addQuery(t,r,i);else{let e=this.queries[t];((0,o.qQ)(r)!==(0,o.qQ)(e.query)||JSON.stringify((0,s.rz)(i))!==JSON.stringify((0,s.rz)(e.args)))&&(this.removeQuery(t),this.addQuery(t,r,i))}}for(let t of Object.keys(this.queries))void 0===e[t]&&this.removeQuery(t)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){let t={};for(let r of Object.keys(e)){let i,{query:n,args:s}=e[r];(0,o.qQ)(n);let a=this.createWatch(n,s);try{i=a.localQueryResult()}catch(e){if(e instanceof Error)i=e;else throw e}t[r]=i}return t}setCreateWatch(e){for(let t of(this.createWatch=e,Object.keys(this.queries))){let{query:e,args:r,watch:i}=this.queries[t],n=i.journal();this.removeQuery(t),this.addQuery(t,e,r,n)}}destroy(){for(let e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,t,r,i){if(void 0!==this.queries[e])throw Error(`Tried to add a new query with identifier ${e} when it already exists.`);let n=this.createWatch(t,r,i),s=n.onUpdate(()=>this.notifyListeners());this.queries[e]={query:t,args:r,watch:n,unsubscribe:s}}removeQuery(e){let t=this.queries[e];if(void 0===t)throw Error(`No query found with identifier ${e}.`);t.unsubscribe(),delete this.queries[e]}notifyListeners(){for(let e of this.listeners)e()}}var c=r(7373);function h(e){let t=(0,n.BN)();if(void 0===t)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");var r=e,s=(0,i.useMemo)(()=>(e,r,i)=>t.watchQuery(e,r,{journal:i}),[t]);let[o]=(0,i.useState)(()=>new u(s));o.createWatch!==s&&o.setCreateWatch(s),(0,i.useEffect)(()=>()=>o.destroy(),[o]);let a=(0,i.useMemo)(()=>({getCurrentValue:()=>o.getLocalResults(r),subscribe:e=>(o.setQueries(r),o.subscribe(e))}),[o,r]);return(0,c.R)(a)}},6643:()=>{let e=()=>Array.from({length:4},()=>0);e(),e()},6829:(e,t,r)=>{r.d(t,{RZ:()=>u,rA:()=>l,q5:()=>a});var i=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,n=r(2163),s="pk_live_";function o(e){if(!e.endsWith("$"))return!1;let t=e.slice(0,-1);return!t.includes("$")&&t.includes(".")}function a(e,t={}){let r;if(!(e=e||"")||!l(e)){if(t.fatal&&!e)throw Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!l(e))throw Error("Publishable key not valid.");return null}let n=e.startsWith(s)?"production":"development";try{r=i(e.split("_")[2])}catch{if(t.fatal)throw Error("Publishable key not valid: Failed to decode key.");return null}if(!o(r)){if(t.fatal)throw Error("Publishable key not valid: Decoded key has invalid format.");return null}let u=r.slice(0,-1);return t.proxyUrl?u=t.proxyUrl:"development"!==n&&t.domain&&t.isSatellite&&(u=`clerk.${t.domain}`),{instanceType:n,frontendApi:u}}function l(e=""){try{if(!(e.startsWith(s)||e.startsWith("pk_test_")))return!1;let t=e.split("_");if(3!==t.length)return!1;let r=t[2];if(!r)return!1;let n=i(r);return o(n)}catch{return!1}}function u(){let e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;let r="string"==typeof t?t:t.hostname,i=e.get(r);return void 0===i&&(i=n.gE.some(e=>r.endsWith(e)),e.set(r,i)),i}}}},6898:(e,t,r)=>{r.d(t,{FJ:()=>i.FJ,YF:()=>i.YF});var i=r(7937);r(852),r(5649)},7373:(e,t,r)=>{r.d(t,{R:()=>n});var i=r(2115);function n({getCurrentValue:e,subscribe:t}){let[r,n]=(0,i.useState)(()=>({getCurrentValue:e,subscribe:t,value:e()})),s=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(s=e(),n({getCurrentValue:e,subscribe:t,value:s})),(0,i.useEffect)(()=>{let r=!1,i=()=>{r||n(r=>{if(r.getCurrentValue!==e||r.subscribe!==t)return r;let i=e();return r.value===i?r:{...r,value:i}})},s=t(i);return i(),()=>{r=!0,s()}},[e,t]),s}},7937:(e,t,r)=>{r.d(t,{FJ:()=>l,YF:()=>u}),r(852);var i,n,s,o,a=r(5649);r(9509),new WeakMap,new WeakMap,new WeakSet,i=new WeakMap,n=new WeakMap,s=new WeakMap,o=new WeakMap,new WeakMap,new WeakSet;function l(e,t){return{event:"METHOD_CALLED",payload:{method:e,...t}}}function u(e){return{event:"FRAMEWORK_METADATA",eventSamplingRate:.1,payload:e}}},8039:(e,t,r)=>{r.d(t,{d:()=>b,v:()=>S});var i=r(1388),n=Object.defineProperty,s=(e,t,r)=>((e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class o{constructor({isOptional:e}){s(this,"type"),s(this,"fieldPaths"),s(this,"isOptional"),s(this,"isConvexValidator"),this.isOptional=e,this.isConvexValidator=!0}get optional(){return"optional"===this.isOptional}}class a extends o{constructor({isOptional:e,tableName:t}){if(super({isOptional:e}),s(this,"tableName"),s(this,"kind","id"),"string"!=typeof t)throw Error("v.id(tableName) requires a string");this.tableName=t}get json(){return{type:"id",tableName:this.tableName}}asOptional(){return new a({isOptional:"optional",tableName:this.tableName})}}class l extends o{constructor(){super(...arguments),s(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new l({isOptional:"optional"})}}class u extends o{constructor(){super(...arguments),s(this,"kind","int64")}get json(){return{type:"bigint"}}asOptional(){return new u({isOptional:"optional"})}}class c extends o{constructor(){super(...arguments),s(this,"kind","boolean")}get json(){return{type:this.kind}}asOptional(){return new c({isOptional:"optional"})}}class h extends o{constructor(){super(...arguments),s(this,"kind","bytes")}get json(){return{type:this.kind}}asOptional(){return new h({isOptional:"optional"})}}class d extends o{constructor(){super(...arguments),s(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new d({isOptional:"optional"})}}class p extends o{constructor(){super(...arguments),s(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new p({isOptional:"optional"})}}class f extends o{constructor(){super(...arguments),s(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new f({isOptional:"optional"})}}class g extends o{constructor({isOptional:e,fields:t}){super({isOptional:e}),s(this,"fields"),s(this,"kind","object"),globalThis.Object.values(t).forEach(e=>{if(!e.isConvexValidator)throw Error("v.object() entries must be valiators")}),this.fields=t}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([e,t])=>[e,{fieldType:t.json,optional:"optional"===t.isOptional}]))}}asOptional(){return new g({isOptional:"optional",fields:this.fields})}}class m extends o{constructor({isOptional:e,value:t}){if(super({isOptional:e}),s(this,"value"),s(this,"kind","literal"),"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t)throw Error("v.literal(value) must be a string, number, or boolean");this.value=t}get json(){return{type:this.kind,value:(0,i.rz)(this.value)}}asOptional(){return new m({isOptional:"optional",value:this.value})}}class y extends o{constructor({isOptional:e,element:t}){super({isOptional:e}),s(this,"element"),s(this,"kind","array"),this.element=t}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new y({isOptional:"optional",element:this.element})}}class v extends o{constructor({isOptional:e,key:t,value:r}){if(super({isOptional:e}),s(this,"key"),s(this,"value"),s(this,"kind","record"),"optional"===t.isOptional)throw Error("Record validator cannot have optional keys");if("optional"===r.isOptional)throw Error("Record validator cannot have optional values");if(!t.isConvexValidator||!r.isConvexValidator)throw Error("Key and value of v.record() but be validators");this.key=t,this.value=r}get json(){return{type:this.kind,keys:this.key.json,values:{fieldType:this.value.json,optional:!1}}}asOptional(){return new v({isOptional:"optional",key:this.key,value:this.value})}}class k extends o{constructor({isOptional:e,members:t}){super({isOptional:e}),s(this,"members"),s(this,"kind","union"),t.forEach(e=>{if(!e.isConvexValidator)throw Error("All members of v.union() must be validators")}),this.members=t}get json(){return{type:this.kind,value:this.members.map(e=>e.json)}}asOptional(){return new k({isOptional:"optional",members:this.members})}}function b(e){return!!e.isConvexValidator}let S={id:e=>new a({isOptional:"required",tableName:e}),null:()=>new p({isOptional:"required"}),number:()=>new l({isOptional:"required"}),float64:()=>new l({isOptional:"required"}),bigint:()=>new u({isOptional:"required"}),int64:()=>new u({isOptional:"required"}),boolean:()=>new c({isOptional:"required"}),string:()=>new d({isOptional:"required"}),bytes:()=>new h({isOptional:"required"}),literal:e=>new m({isOptional:"required",value:e}),array:e=>new y({isOptional:"required",element:e}),object:e=>new g({isOptional:"required",fields:e}),record:(e,t)=>new v({isOptional:"required",key:e,value:t}),union:(...e)=>new k({isOptional:"required",members:e}),any:()=>new f({isOptional:"required"}),optional:e=>e.asOptional()}},8416:(e,t,r)=>{r.d(t,{VK:()=>s,b_:()=>i.b_,Fj:()=>i.Fj,s2:()=>n});var i=r(4129),n=e=>{(0,i.b_)()&&console.error(`Clerk: ${e}`)};function s(e,t,r){return"function"==typeof e?e(t):void 0!==e?e:void 0!==r?r:void 0}r(5649)},8862:(e,t,r)=>{r.d(t,{hD:()=>es,eH:()=>er,BN:()=>en,n_:()=>ea,IT:()=>eo});var i=r(3216),n=r(9089),s=Object.defineProperty,o=(e,t,r)=>((e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function a(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class l{constructor(e){o(this,"_onLogLineFuncs"),o(this,"_verbose"),this._onLogLineFuncs={},this._verbose=e.verbose}addLogLineListener(e){let t=Math.random().toString(36).substring(2,15);for(let e=0;e<10&&void 0!==this._onLogLineFuncs[t];e++)t=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[t]=e,()=>{delete this._onLogLineFuncs[t]}}logVerbose(...e){if(this._verbose)for(let t of Object.values(this._onLogLineFuncs))t("debug",`${new Date().toISOString()}`,...e)}log(...e){for(let t of Object.values(this._onLogLineFuncs))t("info",...e)}warn(...e){for(let t of Object.values(this._onLogLineFuncs))t("warn",...e)}error(...e){for(let t of Object.values(this._onLogLineFuncs))t("error",...e)}}function u(e){let t=new l(e);return t.addLogLineListener((e,...t)=>{switch(e){case"debug":console.debug(...t);break;case"info":default:console.log(...t);break;case"warn":console.warn(...t);break;case"error":console.error(...t)}}),t}function c(e,t,r,i,n){let s=a(r);if("object"==typeof n&&(n=`ConvexError ${JSON.stringify(n.errorData,null,2)}`),"info"===t){let t=n.match(/^\[.*?\] /);if(null===t)return void e.error(`[CONVEX ${s}(${i})] Could not parse console.log`);let r=n.slice(1,t[0].length-2),o=n.slice(t[0].length);e.log(`%c[CONVEX ${s}(${i})] [${r}]`,"color:rgb(0, 145, 255)",o)}else e.error(`[CONVEX ${s}(${i})] ${n}`)}function h(e,t,r){let i=a(e);return`[CONVEX ${i}(${t})] ${r.errorMessage}
  Called by client`}function d(e,t){return t.data=e.errorData,t}function p(e){let t,r,i=e.split(":");return 1===i.length?(t=i[0],r="default"):(t=i.slice(0,i.length-1).join(":"),r=i[i.length-1]),t.endsWith(".js")&&(t=t.slice(0,-3)),`${t}:${r}`}function f(e,t){return JSON.stringify({udfPath:p(e),args:(0,n.rz)(t)})}var g=Object.defineProperty,m=(e,t,r)=>((e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class y{constructor(){m(this,"nextQueryId"),m(this,"querySetVersion"),m(this,"querySet"),m(this,"queryIdToToken"),m(this,"identityVersion"),m(this,"auth"),m(this,"outstandingQueriesOlderThanRestart"),m(this,"outstandingAuthOlderThanRestart"),m(this,"paused"),m(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,t,r,i){let s=p(e),o=f(s,t),a=this.querySet.get(o);if(void 0!==a)return a.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{let e=this.nextQueryId++;this.querySet.set(o,{id:e,canonicalizedUdfPath:s,args:t,numSubscribers:1,journal:r,componentPath:i}),this.queryIdToToken.set(e,o);let a=this.querySetVersion,l=this.querySetVersion+1,u={type:"Add",queryId:e,udfPath:s,args:[(0,n.rz)(t)],journal:r,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(e,u):this.querySetVersion=l,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:a,newVersion:l,modifications:[u]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(e){for(let t of e.modifications)switch(t.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);let e=t.journal;if(void 0!==e){let r=this.queryIdToToken.get(t.queryId);void 0!==r&&(this.querySet.get(r).journal=e)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}}queryId(e,t){let r=f(p(e),t),i=this.querySet.get(r);return void 0!==i?i.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}setAuth(e){this.auth={tokenType:"User",value:e};let t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",baseVersion:t,...this.auth}}setAdminAuth(e,t){let r={tokenType:"Admin",value:e,impersonating:t};this.auth=r;let i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...r}}clearAuth(){this.auth=void 0,this.markAuthCompletion();let e=this.identityVersion;return this.paused||(this.identityVersion=e+1),{type:"Authenticate",tokenType:"None",baseVersion:e}}hasAuth(){return!!this.auth}isNewAuth(e){return this.auth?.value!==e}queryPath(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).canonicalizedUdfPath:null}queryArgs(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).args:null}queryToken(e){return this.queryIdToToken.get(e)??null}queryJournal(e){return this.querySet.get(e)?.journal}restart(e){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();let t=[];for(let r of this.querySet.values()){let i={type:"Add",queryId:r.id,udfPath:r.canonicalizedUdfPath,args:[(0,n.rz)(r.args)],journal:r.journal,componentPath:r.componentPath};t.push(i),e.has(r.id)||this.outstandingQueriesOlderThanRestart.add(r.id)}this.querySetVersion=1;let r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:t};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;let i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,i]}pause(){this.paused=!0}resume(){let e=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,t=void 0!==this.auth?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[e,t]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(e){let t=this.querySet.get(e);if(t.numSubscribers>1)return t.numSubscribers-=1,null;{this.querySet.delete(e),this.queryIdToToken.delete(t.id),this.outstandingQueriesOlderThanRestart.delete(t.id);let r=this.querySetVersion,i=this.querySetVersion+1,n={type:"Remove",queryId:t.id};return this.paused?this.pendingQuerySetModifications.has(t.id)?this.pendingQuerySetModifications.delete(t.id):this.pendingQuerySetModifications.set(t.id,n):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:r,newVersion:i,modifications:[n]}}}}var v=Object.defineProperty,k=(e,t,r)=>((e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class b{constructor(e,t){this.logger=e,this.markConnectionStateDirty=t,k(this,"inflightRequests"),k(this,"requestsOlderThanRestart"),k(this,"inflightMutationsCount",0),k(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(e,t){let r=new Promise(r=>{this.inflightRequests.set(e.requestId,{message:e,status:{status:t?"Requested":"NotSent",requestedAt:new Date,onResult:r}}),"Mutation"===e.type?this.inflightMutationsCount++:"Action"===e.type&&this.inflightActionsCount++});return this.markConnectionStateDirty(),r}onResponse(e){let t,r,i=this.inflightRequests.get(e.requestId);if(void 0===i||"Completed"===i.status.status)return null;let s="Mutation"===i.message.type?"mutation":"action",o=i.message.udfPath;for(let t of e.logLines)c(this.logger,"info",s,o,t);let a=i.status;if(e.success)t={success:!0,logLines:e.logLines,value:(0,n.du)(e.result)},r=()=>a.onResult(t);else{let i=e.result,{errorData:l}=e;c(this.logger,"error",s,o,i),t={success:!1,errorMessage:i,errorData:void 0!==l?(0,n.du)(l):void 0,logLines:e.logLines},r=()=>a.onResult(t)}return"ActionResponse"!==e.type&&e.success?(i.status={status:"Completed",result:t,ts:e.ts,onResolve:r},null):(r(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),"Action"===i.message.type?this.inflightActionsCount--:"Mutation"===i.message.type&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:e.requestId,result:t})}removeCompleted(e){let t=new Map;for(let[r,i]of this.inflightRequests.entries()){let n=i.status;"Completed"===n.status&&n.ts.lessThanOrEqual(e)&&(n.onResolve(),t.set(r,n.result),"Mutation"===i.message.type?this.inflightMutationsCount--:"Action"===i.message.type&&this.inflightActionsCount--,this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return t.size>0&&this.markConnectionStateDirty(),t}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let e=[];for(let[t,r]of this.inflightRequests){if("NotSent"===r.status.status){r.status.status="Requested",e.push(r.message);continue}if("Mutation"===r.message.type)e.push(r.message);else if("Action"===r.message.type){if(this.inflightRequests.delete(t),this.requestsOlderThanRestart.delete(t),this.inflightActionsCount--,"Completed"===r.status.status)throw Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),e}resume(){let e=[];for(let[,t]of this.inflightRequests)if("NotSent"===t.status.status){t.status.status="Requested",e.push(t.message);continue}return e}hasIncompleteRequests(){for(let e of this.inflightRequests.values())if("Requested"===e.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let e=Date.now();for(let t of this.inflightRequests.values())"Completed"!==t.status.status&&t.status.requestedAt.getTime()<e&&(e=t.status.requestedAt.getTime());return new Date(e)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}var S=r(2828),w=r(9414),C=r(2800),O=Object.defineProperty,_=(e,t,r)=>((e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class P{constructor(e){_(this,"queryResults"),_(this,"modifiedQueries"),this.queryResults=e,this.modifiedQueries=[]}getQuery(e,...t){let r=(0,w.Zy)(t[0]),i=(0,S.qQ)(e),n=this.queryResults.get(f(i,r));if(void 0!==n)return P.queryValue(n.result)}getAllQueries(e){let t=[],r=(0,S.qQ)(e);for(let e of this.queryResults.values())e.udfPath===p(r)&&t.push({args:e.args,value:P.queryValue(e.result)});return t}setQuery(e,t,r){let i=(0,w.Zy)(t),n=(0,S.qQ)(e),s=f(n,i);this.queryResults.set(s,{udfPath:n,args:i,result:void 0===r?void 0:{success:!0,value:r,logLines:[]}}),this.modifiedQueries.push(s)}static queryValue(e){return void 0===e?void 0:e.success?e.value:void 0}}class E{constructor(){_(this,"queryResults"),_(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(e,t){this.optimisticUpdates=this.optimisticUpdates.filter(e=>!t.has(e.mutationId));let r=this.queryResults;this.queryResults=new Map(e);let i=new P(this.queryResults);for(let e of this.optimisticUpdates)e.update(i);let n=[];for(let[e,t]of this.queryResults){let i=r.get(e);(void 0===i||i.result!==t.result)&&n.push(e)}return n}applyOptimisticUpdate(e,t){this.optimisticUpdates.push({update:e,mutationId:t});let r=new P(this.queryResults);return e(r),r.modifiedQueries}rawQueryResult(e){return this.queryResults.get(e)}queryResult(e){let t=this.queryResults.get(e);if(void 0===t)return;let r=t.result;if(void 0!==r){if(r.success)return r.value;if(void 0!==r.errorData)throw d(r,new C.i(h("query",t.udfPath,r)));throw Error(h("query",t.udfPath,r))}}hasQueryResult(e){return void 0!==this.queryResults.get(e)}queryLogs(e){let t=this.queryResults.get(e);return t?.result?.logLines}}var A=Object.defineProperty,R=(e,t,r)=>((e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class j{constructor(e,t){R(this,"low"),R(this,"high"),R(this,"__isUnsignedLong__"),this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}static isLong(e){return!0===(e&&e.__isUnsignedLong__)}static fromBytesLE(e){return new j(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?M:e>=I?U:new j(e%T|0,e/T|0)}toString(){return(BigInt(this.high)*BigInt(T)+BigInt(this.low)).toString()}equals(e){return j.isLong(e)||(e=j.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(j.isLong(e)||(e=j.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?j.fromNumber(e):new j(e.low,e.high)}}let M=new j(0,0),T=0x100000000,I=0xffffffffffffffff,U=new j(-1,-1);var x=Object.defineProperty,L=(e,t,r)=>((e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class q{constructor(e,t){L(this,"version"),L(this,"remoteQuerySet"),L(this,"queryPath"),L(this,"logger"),this.version={querySet:0,ts:j.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e,this.logger=t}transition(e){let t=e.startVersion;if(this.version.querySet!==t.querySet||this.version.ts.notEquals(t.ts)||this.version.identity!==t.identity)throw Error(`Invalid start version: ${t.ts.toString()}:${t.querySet}`);for(let t of e.modifications)switch(t.type){case"QueryUpdated":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)c(this.logger,"info","query",e,r);let r=(0,n.du)(t.value??null);this.remoteQuerySet.set(t.queryId,{success:!0,value:r,logLines:t.logLines});break}case"QueryFailed":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)c(this.logger,"info","query",e,r);let{errorData:r}=t;this.remoteQuerySet.set(t.queryId,{success:!1,errorMessage:t.errorMessage,errorData:void 0!==r?(0,n.du)(r):void 0,logLines:t.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function z(e){let t=n.o4.toByteArray(e);return j.fromBytesLE(Array.from(t))}var $=Object.defineProperty,W=(e,t,r)=>((e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);let V={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};class D{constructor(e,t,r,i,n){this.markConnectionStateDirty=n,W(this,"socket"),W(this,"connectionCount"),W(this,"_hasEverConnected",!1),W(this,"lastCloseReason"),W(this,"defaultInitialBackoff"),W(this,"maxBackoff"),W(this,"retries"),W(this,"serverInactivityThreshold"),W(this,"reconnectDueToServerInactivityTimeout"),W(this,"uri"),W(this,"onOpen"),W(this,"onResume"),W(this,"onMessage"),W(this,"webSocketConstructor"),W(this,"logger"),W(this,"onServerDisconnectError"),this.webSocketConstructor=r,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=t.onOpen,this.onResume=t.onResume,this.onMessage=t.onMessage,this.onServerDisconnectError=t.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(e){this.socket=e,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}connect(){if("terminated"===this.socket.state)return;if("disconnected"!==this.socket.state&&"stopped"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:e,paused:"no"}),this.resetServerInactivityTimeout(),e.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:e,paused:"yes"===this.socket.paused?"uninitialized":"no"}),this.resetServerInactivityTimeout(),"no"===this.socket.paused&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})),"InitialConnect"!==this.lastCloseReason&&this.logger.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},e.onerror=e=>{let t=e.message;this.logger.log(`WebSocket error: ${t}`)},e.onmessage=e=>{this.resetServerInactivityTimeout();let t=function(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...e};case"MutationResponse":if(e.success)return{...e,ts:z(e.ts)};return{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:z(e.startVersion.ts)},endVersion:{...e.endVersion,ts:z(e.endVersion.ts)}}}}(JSON.parse(e.data));this._logVerbose(`received ws message with type ${t.type}`),this.onMessage(t).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},e.onclose=e=>{if(this._logVerbose("begin ws.onclose"),null===this.lastCloseReason&&(this.lastCloseReason=e.reason??"OnCloseInvoked"),1e3!==e.code&&1001!==e.code&&1005!==e.code&&4040!==e.code){let t=`WebSocket closed with code ${e.code}`;e.reason&&(t+=`: ${e.reason}`),this.logger.log(t),this.onServerDisconnectError&&e.reason&&this.onServerDisconnectError(t)}let t=function(e){if(void 0===e)return"Unknown";for(let t of Object.keys(V))if(e.startsWith(t))return t;return"Unknown"}(e.reason);this.scheduleReconnect(t)}}socketState(){return this.socket.state}sendMessage(e){let t={type:e.type,..."Authenticate"===e.type&&"User"===e.tokenType?{value:`...${e.value.slice(-7)}`}:{}};if("ready"===this.socket.state&&"no"===this.socket.paused){let r=JSON.stringify(function(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":if(void 0!==e.maxObservedTimestamp)return{...e,maxObservedTimestamp:function(e){let t=new Uint8Array(e.toBytesLE());return n.o4.fromByteArray(t)}(e.maxObservedTimestamp)};return{...e,maxObservedTimestamp:void 0}}}(e));try{this.socket.ws.send(r)}catch(e){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${e}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`sent message with type ${e.type}: ${JSON.stringify(t)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(t)}`),!1}resetServerInactivityTimeout(){"terminated"!==this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(e){this.socket={state:"disconnected"};let t=this.nextBackoff(e);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${t}ms`),setTimeout(()=>this.connect(),t)}closeAndReconnect(e){switch(this._logVerbose(`begin closeAndReconnect with reason ${e}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":this.lastCloseReason=e,this.close(),this.scheduleReconnect("client");return;default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{let e=this.socket.ws;return new Promise(t=>{e.onclose=()=>{this._logVerbose("Closed after connecting"),t()},e.onopen=()=>{this._logVerbose("Opened after connecting"),e.close()}})}case"ready":{this._logVerbose("ws.close called");let e=this.socket.ws,t=new Promise(t=>{e.onclose=()=>{t()}});return e.close(),t}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{let e=this.close();return this.setSocketState({state:"terminated"}),e}default:throw this.socket,Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{let e=this.close();return this.socket={state:"stopped"},e}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":this.socket={...this.socket,paused:"yes"};return;default:return void this.socket}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":"uninitialized"===this.socket.paused?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason})):"yes"===this.socket.paused&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:"ready"===this.socket.state,hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(e){this.logger.logVerbose(e)}nextBackoff(e){let t=("client"===e?100:"Unknown"===e?this.defaultInitialBackoff:V[e].timeout)*Math.pow(2,this.retries);this.retries+=1;let r=Math.min(t,this.maxBackoff),i=r*(Math.random()-.5);return r+i}}class N extends Error{}N.prototype.name="InvalidTokenError";var F=Object.defineProperty,Q=(e,t,r)=>((e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class B{constructor(e,t,r){Q(this,"authState",{state:"noAuth"}),Q(this,"configVersion",0),Q(this,"syncState"),Q(this,"authenticate"),Q(this,"stopSocket"),Q(this,"tryRestartSocket"),Q(this,"pauseSocket"),Q(this,"resumeSocket"),Q(this,"clearAuth"),Q(this,"logger"),Q(this,"refreshTokenLeewaySeconds"),Q(this,"tokenConfirmationAttempts",0),this.syncState=e,this.authenticate=t.authenticate,this.stopSocket=t.stopSocket,this.tryRestartSocket=t.tryRestartSocket,this.pauseSocket=t.pauseSocket,this.resumeSocket=t.resumeSocket,this.clearAuth=t.clearAuth,this.logger=r.logger,this.refreshTokenLeewaySeconds=r.refreshTokenLeewaySeconds}async setConfig(e,t){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();let r=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:t},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:t}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){if(!1===e.authUpdateAttempted&&("waitingForServerConfirmationOfFreshToken"===this.authState.state||"waitingForServerConfirmationOfCachedToken"===this.authState.state))return void this._logVerbose("ignoring non-auth token expired error");let{baseVersion:t}=e;if(!this.syncState.isCurrentOrNewerAuthVersion(t+1))return void this._logVerbose("ignoring auth error for previous auth attempt");this.tryToReauthenticate(e)}async tryToReauthenticate(e){if(this._logVerbose(`attempting to reauthenticate: ${e.error}`),"noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state&&this.tokenConfirmationAttempts>=2){this.logger.error(`Failed to authenticate: "${e.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${2-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();let t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value&&this.syncState.isNewAuth(t.value)?(this.authenticate(t.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:t.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(e){if("noAuth"===this.authState.state)return;let t=this.decodeToken(e);if(!t)return void this.logger.error("Auth token is not a valid JWT, cannot refetch the token");let{iat:r,exp:i}=t;if(!r||!i)return void this.logger.error("Auth token does not have required fields, cannot refetch the token");let n=i-r;if(n<=2)return void this.logger.error("Auth token does not live long enough, cannot refetch the token");let s=Math.min(1728e6,(n-this.refreshTokenLeewaySeconds)*1e3);s<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${n}s`),s=0);let o=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},s);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:o,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${s}ms`)}async fetchTokenAndGuardAgainstRace(e,t){let r=++this.configVersion;this._logVerbose(`fetching token with config version ${r}`);let i=await e(t);return this.configVersion!==r?(this._logVerbose(`stale config version, expected ${r}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){let t="waitingForServerConfirmationOfFreshToken"===e.state?{hadAuth:e.hadAuth,state:e.state,token:`...${e.token.slice(-7)}`}:{state:e.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(t)}`),e.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0}"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return function(e,t){let r;if("string"!=typeof e)throw new N("Invalid token specified: must be a string");t||(t={});let i=+(!0!==t.header),n=e.split(".")[i];if("string"!=typeof n)throw new N(`Invalid token specified: missing part #${i+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(n)}catch(e){throw new N(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new N(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}(e)}catch(e){return this._logVerbose(`Error decoding token: ${e instanceof Error?e.message:"Unknown error"}`),null}}_logVerbose(e){this.logger.logVerbose(`${e} [v${this.configVersion}]`)}}let J=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function K(e){let t=e.name.slice(6);return{name:t=t.charAt(0).toLowerCase()+t.slice(1),startTime:e.startTime}}var G=Object.defineProperty,Z=(e,t,r)=>((e,t,r)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class H{constructor(e,t,r){let n;if(Z(this,"address"),Z(this,"state"),Z(this,"requestManager"),Z(this,"webSocketManager"),Z(this,"authenticationManager"),Z(this,"remoteQuerySet"),Z(this,"optimisticQueryResults"),Z(this,"_transitionHandlerCounter",0),Z(this,"_nextRequestId"),Z(this,"_onTransitionFns",new Map),Z(this,"_sessionId"),Z(this,"firstMessageReceived",!1),Z(this,"debug"),Z(this,"logger"),Z(this,"maxObservedTimestamp"),Z(this,"connectionStateSubscribers",new Map),Z(this,"nextConnectionStateSubscriberId",0),Z(this,"_lastPublishedConnectionState"),Z(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{let e=this.connectionState();if(JSON.stringify(e)!==JSON.stringify(this._lastPublishedConnectionState))for(let t of(this._lastPublishedConnectionState=e,this.connectionStateSubscribers.values()))t(e)})}),Z(this,"mark",e=>{var t;this.debug&&(t=this.sessionId,"undefined"!=typeof performance&&performance.mark&&performance.mark(e,{detail:{sessionId:t}}))}),"object"==typeof e)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");r?.skipConvexDeploymentUrlCheck!==!0&&(0,w.R6)(e);let s=(r={...r}).authRefreshTokenLeewaySeconds??2,o=r.webSocketConstructor;if(!o&&"undefined"==typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");o=o||WebSocket,this.debug=r.reportDebugInfoToConvex??!1,this.address=e,this.logger=!1===r.logger?new l({verbose:r.verbose??!1}):!0!==r.logger&&r.logger?r.logger:u({verbose:r.verbose??!1});let a=e.search("://");if(-1===a)throw Error("Provided address was not an absolute URL.");let c=e.substring(a+3),h=e.substring(0,a);if("http"===h)n="ws";else if("https"===h)n="wss";else throw Error(`Unknown parent protocol ${h}`);let d=`${n}://${c}/api/${i.r}/sync`;this.state=new y,this.remoteQuerySet=new q(e=>this.state.queryPath(e),this.logger),this.requestManager=new b(this.logger,this.markConnectionStateDirty),this.authenticationManager=new B(this.state,{authenticate:e=>{let t=this.state.setAuth(e);return this.webSocketManager.sendMessage(t),t.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:()=>{this.webSocketManager.pause(),this.state.pause()},resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:s}),this.optimisticQueryResults=new E,this.addOnTransitionHandler(e=>{t(e.queries.map(e=>e.token))}),this._nextRequestId=0,this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});let{unsavedChangesWarning:p}=r;if("undefined"==typeof window||void 0===window.addEventListener){if(!0===p)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else!1!==p&&window.addEventListener("beforeunload",e=>{if(this.requestManager.hasIncompleteRequests()){e.preventDefault();let t="Are you sure you want to leave? Your changes may not be saved.";return(e||window.event).returnValue=t,t}});this.webSocketManager=new D(d,{onOpen:e=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...e,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let t=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new q(e=>this.state.queryPath(e),this.logger);let[r,i]=this.state.restart(t);for(let e of(i&&this.webSocketManager.sendMessage(i),this.webSocketManager.sendMessage(r),this.requestManager.restart()))this.webSocketManager.sendMessage(e)},onResume:()=>{let[e,t]=this.state.resume();for(let r of(t&&this.webSocketManager.sendMessage(t),e&&this.webSocketManager.sendMessage(e),this.requestManager.resume()))this.webSocketManager.sendMessage(r)},onMessage:e=>{switch(!this.firstMessageReceived&&(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),e.type){case"Transition":{this.observedTimestamp(e.endVersion.ts),this.authenticationManager.onTransition(e),this.remoteQuerySet.transition(e),this.state.transition(e);let t=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(t);break}case"MutationResponse":{e.success&&this.observedTimestamp(e.ts);let t=this.requestManager.onResponse(e);null!==t&&this.notifyOnQueryResultChanges(new Map([[t.requestId,t.result]]));break}case"ActionResponse":this.requestManager.onResponse(e);break;case"AuthError":this.authenticationManager.onAuthError(e);break;case"FatalError":{let t=function(e,t){let r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),Error(r)}(this.logger,e.error);throw this.webSocketManager.terminate(),t}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:r.onServerDisconnectError},o,this.logger,this.markConnectionStateDirty),this.mark("convexClientConstructed")}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){let t=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(let[e,i]of t){let t=this.state.queryToken(e);if(null!==t){let n={result:i,udfPath:this.state.queryPath(e),args:this.state.queryArgs(e)};r.set(t,n)}}let i=this.optimisticQueryResults.ingestQueryResultsFromServer(r,new Set(e.keys()));this.handleTransition({queries:i.map(e=>{let t=this.optimisticQueryResults.rawQueryResult(e);return{token:e,modification:{kind:"Updated",result:t.result}}}),reflectedMutations:Array.from(e).map(([e,t])=>({requestId:e,result:t})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(e){for(let t of this._onTransitionFns.values())t(e)}addOnTransitionHandler(e){let t=this._transitionHandlerCounter++;return this._onTransitionFns.set(t,e),()=>this._onTransitionFns.delete(t)}setAuth(e,t){this.authenticationManager.setConfig(e,t)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,t){let r=this.state.setAdminAuth(e,t);this.webSocketManager.sendMessage(r)}clearAuth(){let e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,t,r){let i=(0,w.Zy)(t),{modification:n,queryToken:s,unsubscribe:o}=this.state.subscribe(e,i,r?.journal,r?.componentPath);return null!==n&&this.webSocketManager.sendMessage(n),{queryToken:s,unsubscribe:()=>{let e=o();e&&this.webSocketManager.sendMessage(e)}}}localQueryResult(e,t){let r=f(e,(0,w.Zy)(t));return this.optimisticQueryResults.queryResult(r)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,t){let r=f(e,(0,w.Zy)(t));return this.optimisticQueryResults.queryLogs(r)}queryJournal(e,t){let r=f(e,(0,w.Zy)(t));return this.state.queryJournal(r)}connectionState(){let e=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:e.isConnected,hasEverConnected:e.hasEverConnected,connectionCount:e.connectionCount,connectionRetries:e.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(e){let t=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(t,e),()=>{this.connectionStateSubscribers.delete(t)}}async mutation(e,t,r){let i=await this.mutationInternal(e,t,r);if(!i.success){if(void 0!==i.errorData)throw d(i,new C.i(h("mutation",e,i)));throw Error(h("mutation",e,i))}return i.value}async mutationInternal(e,t,r,i){let{mutationPromise:n}=this.enqueueMutation(e,t,r,i);return n}enqueueMutation(e,t,r,i){let s=(0,w.Zy)(t);this.tryReportLongDisconnect();let o=this.nextRequestId;if(this._nextRequestId++,void 0!==r){let e=r.optimisticUpdate;if(void 0!==e){let t=t=>{e(t,s)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},r=this.optimisticQueryResults.applyOptimisticUpdate(t,o).map(e=>{let t=this.localQueryResultByToken(e);return{token:e,modification:{kind:"Updated",result:void 0===t?void 0:{success:!0,value:t,logLines:[]}}}});this.handleTransition({queries:r,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}let a={type:"Mutation",requestId:o,udfPath:e,componentPath:i,args:[(0,n.rz)(s)]},l=this.webSocketManager.sendMessage(a);return{requestId:o,mutationPromise:this.requestManager.request(a,l)}}async action(e,t){let r=await this.actionInternal(e,t);if(!r.success){if(void 0!==r.errorData)throw d(r,new C.i(h("action",e,r)));throw Error(h("action",e,r))}return r.value}async actionInternal(e,t,r){let i=(0,w.Zy)(t),s=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();let o={type:"Action",requestId:s,udfPath:e,componentPath:r,args:[(0,n.rz)(i)]},a=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,a)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){let e=function(e){if("undefined"==typeof performance||!performance.getEntriesByName)return[];let t=[];for(let r of J){let i=performance.getEntriesByName(r).filter(e=>"mark"===e.entryType).filter(t=>t.detail.sessionId===e);t.push(...i)}return t.map(K)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;let e=this.connectionState().timeOfOldestInflightRequest;null===e||Date.now()-e.getTime()<=6e4||fetch(`${this.address}/api/debug_event`,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${i.r}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(e=>{e.ok||this.logger.warn("Analytics request failed with response:",e.body)}).catch(e=>{this.logger.warn("Analytics response failed with error:",e)})}}var X=r(2115),Y=r(6339);r(7373);var ee=Object.defineProperty,et=(e,t,r)=>((e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);if(void 0===X)throw Error("Required dependency 'react' not found");class er{constructor(e,t){if(et(this,"address"),et(this,"cachedSync"),et(this,"listeners"),et(this,"options"),et(this,"closed",!1),et(this,"_logger"),et(this,"adminAuth"),et(this,"fakeUserIdentity"),void 0===e)throw Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if("string"!=typeof e)throw Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof e} instead.`);if(!e.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this._logger=t?.logger===!1?new l({verbose:t?.verbose??!1}):t?.logger!==!0&&t?.logger?t.logger:u({verbose:t?.verbose??!1}),this.options={...t,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new H(this.address,e=>this.transition(e),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity)),this.cachedSync}setAuth(e,t){if("string"==typeof e)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,t??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,t){if(this.adminAuth=e,this.fakeUserIdentity=t,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,t)}watchQuery(e,...t){let[r,i]=t,n=(0,S.qQ)(e);return{onUpdate:e=>{let{queryToken:t,unsubscribe:s}=this.sync.subscribe(n,r,i),o=this.listeners.get(t);return void 0!==o?o.add(e):this.listeners.set(t,new Set([e])),()=>{if(this.closed)return;let r=this.listeners.get(t);r.delete(e),0===r.size&&this.listeners.delete(t),s()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(n,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(n,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(n,r)}}}mutation(e,...t){let[r,i]=t,n=(0,S.qQ)(e);return this.sync.mutation(n,r,i)}action(e,...t){let r=(0,S.qQ)(e);return this.sync.action(r,...t)}query(e,...t){let r=this.watchQuery(e,...t),i=r.localQueryResult();return void 0!==i?Promise.resolve(i):new Promise((e,t)=>{let i=r.onUpdate(()=>{i();try{e(r.localQueryResult())}catch(e){t(e)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(e){return this.sync.subscribeToConnectionState(e)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){let e=this.cachedSync;this.cachedSync=void 0,await e.close()}}transition(e){for(let t of e){let e=this.listeners.get(t);if(e)for(let t of e)t()}}}let ei=X.createContext(void 0);function en(){return(0,X.useContext)(ei)}let es=({client:e,children:t})=>X.createElement(ei.Provider,{value:e},t);function eo(e,...t){let r="skip"===t[0],i="skip"===t[0]?{}:(0,w.Zy)(t[0]),s="string"==typeof e?(0,S.Gg)(e):e,o=(0,S.qQ)(s),a=(0,X.useMemo)(()=>r?{}:{query:{query:s,args:i}},[JSON.stringify((0,n.rz)(i)),o,r]),l=(0,Y.E)(a).query;if(l instanceof Error)throw l;return l}function ea(e){let t="string"==typeof e?(0,S.Gg)(e):e,r=(0,X.useContext)(ei);if(void 0===r)throw Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,X.useMemo)(()=>(function e(t,r,i){function n(e){return function(e){if("object"==typeof e&&null!==e&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}(e),r.mutation(t,e,{optimisticUpdate:i})}return n.withOptimisticUpdate=function(n){if(void 0!==i)throw Error(`Already specified optimistic update for mutation ${(0,S.qQ)(t)}`);return e(t,r,n)},n})(t,r),[r,(0,S.qQ)(t)])}},8879:(e,t,r)=>{r.d(t,{Lq:()=>en,B$:()=>h.B$,wF:()=>h.wF,lT:()=>h.lT,z0:()=>h.z0,A0:()=>h.A0,lJ:()=>eE,ul:()=>H,PQ:()=>et,oE:()=>ee,nC:()=>Z,NC:()=>Y,nm:()=>ei,rm:()=>h.rm,m2:()=>h.m2,W5:()=>h.W5,mO:()=>h.mO,Xn:()=>h.Xn,eG:()=>h.eG,Ls:()=>z,hZ:()=>ek,M_:()=>eb,ct:()=>eS,Hx:()=>$,Ny:()=>ew,Rv:()=>es,uF:()=>J,Fv:()=>D,cP:()=>er,As:()=>d.As,ho:()=>d.ho,ui:()=>d.ui,Z5:()=>d.Z5,D_:()=>d.D_,Wp:()=>d.Wp,wV:()=>d.dy,g7:()=>d.g7,go:()=>d.go,yC:()=>d.yC,Jd:()=>d.Jd});var i,n,s,o,a,l,u,c,h=r(9419),d=r(9693),p=r(8416),f=r(2115),g=r(7650),m=(e,...t)=>{let r={...e};for(let e of t)delete r[e];return r};r(5649);var y=r(3018),v=e=>t=>{try{return f.Children.only(e)}catch{return d.sb.throw((0,d.Wq)(t))}},k=(e,t)=>(e||(e=t),"string"==typeof e&&(e=f.createElement("button",null,e)),e),b=e=>(...t)=>{if(e&&"function"==typeof e)return e(...t)},S=new Map,w=e=>{let[t,r]=(0,f.useState)(new Map);return e.map(e=>({id:e.id,mount:t=>r(r=>new Map(r).set(String(e.id),t)),unmount:()=>r(t=>{let r=new Map(t);return r.set(String(e.id),null),r}),portal:()=>{let r=t.get(String(e.id));return r?(0,g.createPortal)(e.component,r):null}}))},C=(e,t)=>!!e&&f.isValidElement(e)&&(null==e?void 0:e.type)===t,O=(e,t)=>E({children:e,reorderItemsLabels:["account","security"],LinkComponent:V,PageComponent:W,MenuItemsComponent:F,componentName:"UserProfile"},t),_=(e,t)=>E({children:e,reorderItemsLabels:["general","members"],LinkComponent:G,PageComponent:K,componentName:"OrganizationProfile"},t),P=e=>{let t=[],r=[G,K,F,W,V];return f.Children.forEach(e,e=>{r.some(t=>C(e,t))||t.push(e)}),t},E=(e,t)=>{let{children:r,LinkComponent:i,PageComponent:n,MenuItemsComponent:s,reorderItemsLabels:o,componentName:a}=e,{allowForAnyChildren:l=!1}=t||{},u=[];f.Children.forEach(r,e=>{if(!C(e,n)&&!C(e,i)&&!C(e,s)){e&&!l&&(0,p.s2)((0,d.n)(a));return}let{props:t}=e,{children:r,label:c,url:h,labelIcon:f}=t;if(C(e,n))if(A(t,o))u.push({label:c});else{if(!R(t))return void(0,p.s2)((0,d.sR)(a));u.push({label:c,labelIcon:f,children:r,url:h})}if(C(e,i))if(!j(t))return void(0,p.s2)((0,d.D)(a));else u.push({label:c,labelIcon:f,url:h})});let c=[],h=[],g=[];u.forEach((e,t)=>{if(R(e)){c.push({component:e.children,id:t}),h.push({component:e.labelIcon,id:t});return}j(e)&&g.push({component:e.labelIcon,id:t})});let m=w(c),y=w(h),v=w(g),k=[],b=[];return u.forEach((e,t)=>{if(A(e,o))return void k.push({label:e.label});if(R(e)){let{portal:r,mount:i,unmount:n}=m.find(e=>e.id===t),{portal:s,mount:o,unmount:a}=y.find(e=>e.id===t);k.push({label:e.label,url:e.url,mount:i,unmount:n,mountIcon:o,unmountIcon:a}),b.push(r),b.push(s);return}if(j(e)){let{portal:r,mount:i,unmount:n}=v.find(e=>e.id===t);k.push({label:e.label,url:e.url,mountIcon:i,unmountIcon:n}),b.push(r);return}}),{customPages:k,customPagesPortals:b}},A=(e,t)=>{let{children:r,label:i,url:n,labelIcon:s}=e;return!r&&!n&&!s&&t.some(e=>e===i)},R=e=>{let{children:t,label:r,url:i,labelIcon:n}=e;return!!t&&!!i&&!!n&&!!r},j=e=>{let{children:t,label:r,url:i,labelIcon:n}=e;return!t&&!!i&&!!n&&!!r},M=(e,t)=>{let{children:r,label:i,onClick:n,labelIcon:s}=e;return!r&&!n&&!s&&t.some(e=>e===i)},T=e=>{let{label:t,labelIcon:r,onClick:i,open:n}=e;return!!r&&!!t&&("function"==typeof i||"string"==typeof n)},I=e=>{let{label:t,href:r,labelIcon:i}=e;return!!r&&!!i&&!!t};function U(e){let t=(0,f.useRef)(),[r,i]=(0,f.useState)("rendering");return(0,f.useEffect)(()=>{if(!e)throw Error("Clerk: no component name provided, unable to detect mount.");"undefined"==typeof window||t.current||(t.current=(function(e){let{root:t=null==document?void 0:document.body,selector:r,timeout:i=0}=e;return new Promise((e,n)=>{if(!t)return void n(Error("No root element provided"));let s=t;if(r&&(s=null==t?void 0:t.querySelector(r)),(null==s?void 0:s.childElementCount)&&s.childElementCount>0)return void e();let o=new MutationObserver(i=>{for(let n of i)if("childList"===n.type&&(!s&&r&&(s=null==t?void 0:t.querySelector(r)),(null==s?void 0:s.childElementCount)&&s.childElementCount>0)){o.disconnect(),e();return}});o.observe(t,{childList:!0,subtree:!0}),i>0&&setTimeout(()=>{o.disconnect(),n(Error("Timeout waiting for element children"))},i)})})({selector:`[data-clerk-component="${e}"]`}).then(()=>{i("rendered")}).catch(()=>{i("error")}))},[e]),r}var x=e=>null==e?void 0:e.map(({mountIcon:e,unmountIcon:t,...r})=>r),L=class extends f.PureComponent{constructor(){super(...arguments),this.rootRef=f.createRef()}componentDidUpdate(e){var t,r,i,n;if(!("mount"in e)||!("mount"in this.props))return;let s=m(e.props,"customPages","customMenuItems","children"),o=m(this.props.props,"customPages","customMenuItems","children"),a=(null==(t=s.customPages)?void 0:t.length)!==(null==(r=o.customPages)?void 0:r.length),l=(null==(i=s.customMenuItems)?void 0:i.length)!==(null==(n=o.customMenuItems)?void 0:n.length),u=x(e.props.customMenuItems),c=x(this.props.props.customMenuItems);(!(0,y.MZ)(s,o)||!(0,y.MZ)(u,c)||a||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&("mount"in this.props&&this.props.mount(this.rootRef.current,this.props.props),"open"in this.props&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&("mount"in this.props&&this.props.unmount(this.rootRef.current),"open"in this.props&&this.props.close())}render(){let{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return f.createElement(f.Fragment,null,!e&&f.createElement("div",{...t}),this.props.children)}},q=e=>{var t,r;return f.createElement(f.Fragment,null,null==(t=null==e?void 0:e.customPagesPortals)?void 0:t.map((e,t)=>(0,f.createElement)(e,{key:t})),null==(r=null==e?void 0:e.customMenuItemsPortals)?void 0:r.map((e,t)=>(0,f.createElement)(e,{key:t})))},z=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"SignIn",renderWhileLoading:!0}),$=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"SignUp",renderWhileLoading:!0});function W({children:e}){return(0,p.s2)(d.$n),f.createElement(f.Fragment,null,e)}function V({children:e}){return(0,p.s2)(d._I),f.createElement(f.Fragment,null,e)}var D=Object.assign((0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:a}=O(i.children);return f.createElement(f.Fragment,null,n&&r,f.createElement(L,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:o},rootProps:s},f.createElement(q,{customPagesPortals:a})))},{component:"UserProfile",renderWhileLoading:!0}),{Page:W,Link:V}),N=(0,f.createContext)({mount:()=>{},unmount:()=>{},updateProps:()=>{}});function F({children:e}){return(0,p.s2)(d.UX),f.createElement(f.Fragment,null,e)}function Q({children:e}){return(0,p.s2)(d.aU),f.createElement(f.Fragment,null,e)}function B({children:e}){return(0,p.s2)(d.Uw),f.createElement(f.Fragment,null,e)}var J=Object.assign((0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:a}=O(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),l=Object.assign(i.userProfileProps||{},{customPages:o}),{customMenuItems:u,customMenuItemsPortals:c}=(({children:e,MenuItemsComponent:t,MenuActionComponent:r,MenuLinkComponent:i,UserProfileLinkComponent:n,UserProfilePageComponent:s,reorderItemsLabels:o})=>{let a=[],l=[],u=[];f.Children.forEach(e,e=>{if(!C(e,t)&&!C(e,n)&&!C(e,s)){e&&(0,p.s2)(d.P6);return}if(C(e,n)||C(e,s))return;let{props:l}=e;f.Children.forEach(l.children,e=>{if(!C(e,r)&&!C(e,i)){e&&(0,p.s2)(d.wm);return}let{props:t}=e,{label:n,labelIcon:s,href:l,onClick:u,open:c}=t;if(C(e,r))if(M(t,o))a.push({label:n});else{if(!T(t))return void(0,p.s2)(d.Wv);let e={label:n,labelIcon:s};if(void 0!==u)a.push({...e,onClick:u});else{if(void 0===c)return void(0,p.s2)("Custom menu item must have either onClick or open property");a.push({...e,open:c.startsWith("/")?c:`/${c}`})}}if(C(e,i))if(!I(t))return void(0,p.s2)(d.ld);else a.push({label:n,labelIcon:s,href:l})})});let c=[],h=[];a.forEach((e,t)=>{T(e)&&c.push({component:e.labelIcon,id:t}),I(e)&&h.push({component:e.labelIcon,id:t})});let g=w(c),m=w(h);return a.forEach((e,t)=>{if(M(e,o)&&l.push({label:e.label}),T(e)){let{portal:r,mount:i,unmount:n}=g.find(e=>e.id===t),s={label:e.label,mountIcon:i,unmountIcon:n};"onClick"in e?s.onClick=e.onClick:"open"in e&&(s.open=e.open),l.push(s),u.push(r)}if(I(e)){let{portal:r,mount:i,unmount:n}=m.find(e=>e.id===t);l.push({label:e.label,href:e.href,mountIcon:i,unmountIcon:n}),u.push(r)}}),{customMenuItems:l,customMenuItemsPortals:u}})({children:i.children,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:F,MenuActionComponent:Q,MenuLinkComponent:B,UserProfileLinkComponent:V,UserProfilePageComponent:W}),h=P(i.children),g={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...i,userProfileProps:l,customMenuItems:u}};return f.createElement(N.Provider,{value:g},n&&r,e.loaded&&f.createElement(L,{component:t,...g,hideRootHtmlElement:!!i.__experimental_asProvider,rootProps:s},i.__experimental_asProvider?h:null,f.createElement(q,{customPagesPortals:a,customMenuItemsPortals:c})))},{component:"UserButton",renderWhileLoading:!0}),{UserProfilePage:W,UserProfileLink:V,MenuItems:F,Action:Q,Link:B,__experimental_Outlet:function(e){let t=(0,f.useContext)(N),r={...t,props:{...t.props,...e}};return f.createElement(L,{...r})}});function K({children:e}){return(0,p.s2)(d.vb),f.createElement(f.Fragment,null,e)}function G({children:e}){return(0,p.s2)(d.kf),f.createElement(f.Fragment,null,e)}var Z=Object.assign((0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:a}=_(i.children);return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...i,customPages:o},rootProps:s},f.createElement(q,{customPagesPortals:a})))},{component:"OrganizationProfile",renderWhileLoading:!0}),{Page:K,Link:G}),H=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"CreateOrganization",renderWhileLoading:!0}),X=(0,f.createContext)({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Y=Object.assign((0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}},{customPages:o,customPagesPortals:a}=_(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),l=Object.assign(i.organizationProfileProps||{},{customPages:o}),u=P(i.children),c={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...i,organizationProfileProps:l},rootProps:s,component:t};return e.__experimental_prefetchOrganizationSwitcher(),f.createElement(X.Provider,{value:c},f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{...c,hideRootHtmlElement:!!i.__experimental_asProvider},i.__experimental_asProvider?u:null,f.createElement(q,{customPagesPortals:a}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0}),{OrganizationProfilePage:K,OrganizationProfileLink:G,__experimental_Outlet:function(e){let t=(0,f.useContext)(X),r={...t,props:{...t.props,...e}};return f.createElement(L,{...r})}}),ee=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"OrganizationList",renderWhileLoading:!0}),et=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"GoogleOneTap",renderWhileLoading:!0}),er=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"Waitlist",renderWhileLoading:!0}),ei=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"PricingTable",renderWhileLoading:!0}),en=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"ApiKeys",renderWhileLoading:!0}),es=(0,d.Q)(({clerk:e,component:t,fallback:r,...i})=>{let n="rendering"===U(t)||!e.loaded,s={...n&&r&&{style:{display:"none"}}};return f.createElement(f.Fragment,null,n&&r,e.loaded&&f.createElement(L,{component:t,mount:e.mountTaskSelectOrganization,unmount:e.unmountTaskSelectOrganization,updateProps:e.__unstable__updateProps,props:i,rootProps:s}))},{component:"TaskSelectOrganization",renderWhileLoading:!0}),eo=e=>{throw TypeError(e)},ea=(e,t,r)=>t.has(e)||eo("Cannot "+r),el=(e,t,r)=>(ea(e,t,"read from private field"),r?r.call(e):t.get(e)),eu=(e,t,r)=>t.has(e)?eo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ec=(e,t,r,i)=>(ea(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),eh=(e,t,r)=>(ea(e,t,"access private method"),r),ed=r(5930),ep=r(6829),ef=r(3877),eg=(e,t,r,i,n)=>{let{notify:s}=n||{},o=e.get(r);o||(o=[],e.set(r,o)),o.push(i),s&&t.has(r)&&i(t.get(r))},em=(e,t,r)=>(e.get(t)||[]).map(e=>e(r)),ey=(e,t,r)=>{let i=e.get(t);i&&(r?i.splice(i.indexOf(r)>>>0,1):e.set(t,[]))},ev={Status:"status"};"undefined"==typeof window||window.global||(window.global="undefined"==typeof global?window:global);var ek=(0,d.Q)(({clerk:e,children:t,...r})=>{let{signUpFallbackRedirectUrl:i,forceRedirectUrl:n,fallbackRedirectUrl:s,signUpForceRedirectUrl:o,mode:a,initialValues:l,withSignUp:u,oauthFlow:c,...h}=r,d=v(t=k(t,"Sign in"))("SignInButton"),p=async t=>(d&&"object"==typeof d&&"props"in d&&await b(d.props.onClick)(t),(()=>{let t={forceRedirectUrl:n,fallbackRedirectUrl:s,signUpFallbackRedirectUrl:i,signUpForceRedirectUrl:o,initialValues:l,withSignUp:u,oauthFlow:c};return"modal"===a?e.openSignIn({...t,appearance:r.appearance}):e.redirectToSignIn({...t,signInFallbackRedirectUrl:s,signInForceRedirectUrl:n})})()),g={...h,onClick:p};return f.cloneElement(d,g)},{component:"SignInButton",renderWhileLoading:!0}),eb=(0,d.Q)(({clerk:e,children:t,...r})=>{let{redirectUrl:i,...n}=r,s=v(t=k(t,"Sign in with Metamask"))("SignInWithMetamaskButton"),o=async()=>{!async function(){await e.authenticateWithMetamask({redirectUrl:i||void 0})}()},a=async e=>(await b(s.props.onClick)(e),o()),l={...n,onClick:a};return f.cloneElement(s,l)},{component:"SignInWithMetamask",renderWhileLoading:!0}),eS=(0,d.Q)(({clerk:e,children:t,...r})=>{let{redirectUrl:i="/",signOutOptions:n,...s}=r,o=v(t=k(t,"Sign out"))("SignOutButton"),a=async t=>(await b(o.props.onClick)(t),e.signOut({redirectUrl:i,...n})),l={...s,onClick:a};return f.cloneElement(o,l)},{component:"SignOutButton",renderWhileLoading:!0}),ew=(0,d.Q)(({clerk:e,children:t,...r})=>{let{fallbackRedirectUrl:i,forceRedirectUrl:n,signInFallbackRedirectUrl:s,signInForceRedirectUrl:o,mode:a,initialValues:l,oauthFlow:u,...c}=r,h=v(t=k(t,"Sign up"))("SignUpButton"),d=async t=>(h&&"object"==typeof h&&"props"in h&&await b(h.props.onClick)(t),(()=>{let t={fallbackRedirectUrl:i,forceRedirectUrl:n,signInFallbackRedirectUrl:s,signInForceRedirectUrl:o,initialValues:l,oauthFlow:u};return"modal"===a?e.openSignUp({...t,appearance:r.appearance,unsafeMetadata:r.unsafeMetadata}):e.redirectToSignUp({...t,signUpFallbackRedirectUrl:i,signUpForceRedirectUrl:n})})()),p={...c,onClick:d};return f.cloneElement(h,p)},{component:"SignUpButton",renderWhileLoading:!0});void 0===globalThis.__BUILD_DISABLE_RHC__&&(globalThis.__BUILD_DISABLE_RHC__=!1);var eC={name:"@clerk/clerk-react",version:"5.38.1",environment:"production"},eO=class e{constructor(e){eu(this,u),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskSelectOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],eu(this,i,"loading"),eu(this,n),eu(this,s),eu(this,o),eu(this,a,(()=>{let e=new Map,t=new Map,r=new Map;return{on:(...r)=>eg(e,t,...r),prioritizedOn:(...e)=>eg(r,t,...e),emit:(i,n)=>{t.set(i,n),em(r,i,n),em(e,i,n)},off:(...t)=>ey(e,...t),prioritizedOff:(...e)=>ey(r,...e),internal:{retrieveListeners:t=>e.get(t)||[]}}})()),this.buildSignInUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignInUrl(e))||""};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("buildSignInUrl",t)},this.buildSignUpUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignUpUrl(e))||""};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("buildSignUpUrl",t)},this.buildAfterSignInUrl=(...e)=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildAfterSignInUrl(...e))||""};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("buildAfterSignInUrl",t)},this.buildAfterSignUpUrl=(...e)=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildAfterSignUpUrl(...e))||""};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("buildAfterSignUpUrl",t)},this.buildAfterSignOutUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildAfterSignOutUrl",e)},this.buildNewSubscriptionRedirectUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",e)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",e)},this.buildUserProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildUserProfileUrl",e)},this.buildCreateOrganizationUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildCreateOrganizationUrl",e)},this.buildOrganizationProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildOrganizationProfileUrl",e)},this.buildWaitlistUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("buildWaitlistUrl",e)},this.buildUrlWithAuth=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildUrlWithAuth(e))||""};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("buildUrlWithAuth",t)},this.handleUnauthenticated=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.handleUnauthenticated()};this.clerkjs&&this.loaded?e():this.premountMethodCalls.set("handleUnauthenticated",e)},this.on=(...e)=>{var t;if(null==(t=this.clerkjs)?void 0:t.on)return this.clerkjs.on(...e);el(this,a).on(...e)},this.off=(...e)=>{var t;if(null==(t=this.clerkjs)?void 0:t.off)return this.clerkjs.off(...e);el(this,a).off(...e)},this.addOnLoaded=e=>{this.loadedListeners.push(e),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(e=>e()),this.loadedListeners=[]},this.beforeLoad=e=>{if(!e)throw Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=e=>{var t;if(!e)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=e,this.premountMethodCalls.forEach(e=>e()),this.premountAddListenerCalls.forEach((t,r)=>{t.nativeUnsubscribe=e.addListener(r)}),null==(t=el(this,a).internal.retrieveListeners("status"))||t.forEach(e=>{this.on("status",e,{notify:!0})}),null!==this.preopenSignIn&&e.openSignIn(this.preopenSignIn),null!==this.preopenCheckout&&e.__internal_openCheckout(this.preopenCheckout),null!==this.preopenPlanDetails&&e.__internal_openPlanDetails(this.preopenPlanDetails),null!==this.preopenSubscriptionDetails&&e.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),null!==this.preopenSignUp&&e.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&e.openUserProfile(this.preopenUserProfile),null!==this.preopenUserVerification&&e.__internal_openReverification(this.preopenUserVerification),null!==this.preopenOneTap&&e.openGoogleOneTap(this.preopenOneTap),null!==this.preopenOrganizationProfile&&e.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&e.openCreateOrganization(this.preopenCreateOrganization),null!==this.preOpenWaitlist&&e.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((t,r)=>{e.mountSignIn(r,t)}),this.premountSignUpNodes.forEach((t,r)=>{e.mountSignUp(r,t)}),this.premountUserProfileNodes.forEach((t,r)=>{e.mountUserProfile(r,t)}),this.premountUserButtonNodes.forEach((t,r)=>{e.mountUserButton(r,t)}),this.premountOrganizationListNodes.forEach((t,r)=>{e.mountOrganizationList(r,t)}),this.premountWaitlistNodes.forEach((t,r)=>{e.mountWaitlist(r,t)}),this.premountPricingTableNodes.forEach((t,r)=>{e.mountPricingTable(r,t)}),this.premountApiKeysNodes.forEach((t,r)=>{e.mountApiKeys(r,t)}),this.premountOAuthConsentNodes.forEach((t,r)=>{e.__internal_mountOAuthConsent(r,t)}),this.premountTaskSelectOrganizationNodes.forEach((t,r)=>{e.mountTaskSelectOrganization(r,t)}),void 0===this.clerkjs.status&&el(this,a).emit(ev.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...e)=>{var t;return null==(t=this.clerkjs)?void 0:t.__experimental_checkout(...e)},this.__unstable__updateProps=async e=>{let t=await eh(this,u,c).call(this);if(t&&"__unstable__updateProps"in t)return t.__unstable__updateProps(e)},this.__internal_navigateToTaskIfAvailable=async e=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(e):Promise.reject(),this.setActive=e=>this.clerkjs?this.clerkjs.setActive(e):Promise.reject(),this.openSignIn=e=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(e):this.preopenSignIn=e},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=e=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(e):this.preopenCheckout=e},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=e=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(e):this.preopenPlanDetails=e},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=e=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(e):this.preopenSubscriptionDetails=null!=e?e:null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=e=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(e):this.preopenUserVerification=e},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=e=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(e):this.preopenOneTap=e},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=e=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(e):this.preopenUserProfile=e},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=e=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(e):this.preopenOrganizationProfile=e},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=e=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(e):this.preopenCreateOrganization=e},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=e=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(e):this.preOpenWaitlist=e},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=e=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(e):this.preopenSignUp=e},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(e,t):this.premountSignInNodes.set(e,t)},this.unmountSignIn=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(e):this.premountSignInNodes.delete(e)},this.mountSignUp=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(e,t):this.premountSignUpNodes.set(e,t)},this.unmountSignUp=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(e):this.premountSignUpNodes.delete(e)},this.mountUserProfile=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(e,t):this.premountUserProfileNodes.set(e,t)},this.unmountUserProfile=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(e):this.premountUserProfileNodes.delete(e)},this.mountOrganizationProfile=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(e,t):this.premountOrganizationProfileNodes.set(e,t)},this.unmountOrganizationProfile=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(e):this.premountOrganizationProfileNodes.delete(e)},this.mountCreateOrganization=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(e,t):this.premountCreateOrganizationNodes.set(e,t)},this.unmountCreateOrganization=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(e):this.premountCreateOrganizationNodes.delete(e)},this.mountOrganizationSwitcher=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(e,t):this.premountOrganizationSwitcherNodes.set(e,t)},this.unmountOrganizationSwitcher=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(e):this.premountOrganizationSwitcherNodes.delete(e)},this.__experimental_prefetchOrganizationSwitcher=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?e():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",e)},this.mountOrganizationList=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(e,t):this.premountOrganizationListNodes.set(e,t)},this.unmountOrganizationList=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(e):this.premountOrganizationListNodes.delete(e)},this.mountUserButton=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(e,t):this.premountUserButtonNodes.set(e,t)},this.unmountUserButton=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(e):this.premountUserButtonNodes.delete(e)},this.mountWaitlist=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(e,t):this.premountWaitlistNodes.set(e,t)},this.unmountWaitlist=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(e):this.premountWaitlistNodes.delete(e)},this.mountPricingTable=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(e,t):this.premountPricingTableNodes.set(e,t)},this.unmountPricingTable=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(e):this.premountPricingTableNodes.delete(e)},this.mountApiKeys=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(e,t):this.premountApiKeysNodes.set(e,t)},this.unmountApiKeys=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(e):this.premountApiKeysNodes.delete(e)},this.__internal_mountOAuthConsent=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(e,t):this.premountOAuthConsentNodes.set(e,t)},this.__internal_unmountOAuthConsent=e=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(e):this.premountOAuthConsentNodes.delete(e)},this.mountTaskSelectOrganization=(e,t)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSelectOrganization(e,t):this.premountTaskSelectOrganizationNodes.set(e,t)},this.unmountTaskSelectOrganization=e=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSelectOrganization(e):this.premountTaskSelectOrganizationNodes.delete(e)},this.addListener=e=>{if(this.clerkjs)return this.clerkjs.addListener(e);{let t=()=>{var t;let r=this.premountAddListenerCalls.get(e);r&&(null==(t=r.nativeUnsubscribe)||t.call(r),this.premountAddListenerCalls.delete(e))};return this.premountAddListenerCalls.set(e,{unsubscribe:t,nativeUnsubscribe:void 0}),t}},this.navigate=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.navigate(e)};this.clerkjs&&this.loaded?t():this.premountMethodCalls.set("navigate",t)},this.redirectWithAuth=async(...e)=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectWithAuth(...e)};return this.clerkjs&&this.loaded?t():void this.premountMethodCalls.set("redirectWithAuth",t)},this.redirectToSignIn=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignIn(e)};return this.clerkjs&&this.loaded?t():void this.premountMethodCalls.set("redirectToSignIn",t)},this.redirectToSignUp=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignUp(e)};return this.clerkjs&&this.loaded?t():void this.premountMethodCalls.set("redirectToSignUp",t)},this.redirectToUserProfile=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToUserProfile()};return this.clerkjs&&this.loaded?e():void this.premountMethodCalls.set("redirectToUserProfile",e)},this.redirectToAfterSignUp=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return e();this.premountMethodCalls.set("redirectToAfterSignUp",e)},this.redirectToAfterSignIn=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToAfterSignIn()};this.clerkjs&&this.loaded?e():this.premountMethodCalls.set("redirectToAfterSignIn",e)},this.redirectToAfterSignOut=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToAfterSignOut()};this.clerkjs&&this.loaded?e():this.premountMethodCalls.set("redirectToAfterSignOut",e)},this.redirectToOrganizationProfile=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToOrganizationProfile()};return this.clerkjs&&this.loaded?e():void this.premountMethodCalls.set("redirectToOrganizationProfile",e)},this.redirectToCreateOrganization=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToCreateOrganization()};return this.clerkjs&&this.loaded?e():void this.premountMethodCalls.set("redirectToCreateOrganization",e)},this.redirectToWaitlist=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToWaitlist()};return this.clerkjs&&this.loaded?e():void this.premountMethodCalls.set("redirectToWaitlist",e)},this.handleRedirectCallback=async e=>{var t;let r=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleRedirectCallback(e)};this.clerkjs&&this.loaded?null==(t=r())||t.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",r)},this.handleGoogleOneTapCallback=async(e,t)=>{var r;let i=()=>{var r;return null==(r=this.clerkjs)?void 0:r.handleGoogleOneTapCallback(e,t)};this.clerkjs&&this.loaded?null==(r=i())||r.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",i)},this.handleEmailLinkVerification=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleEmailLinkVerification(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("handleEmailLinkVerification",t)},this.authenticateWithMetamask=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithMetamask(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("authenticateWithMetamask",t)},this.authenticateWithCoinbaseWallet=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithCoinbaseWallet(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",t)},this.authenticateWithOKXWallet=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithOKXWallet(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("authenticateWithOKXWallet",t)},this.authenticateWithWeb3=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithWeb3(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("authenticateWithWeb3",t)},this.authenticateWithGoogleOneTap=async e=>(await eh(this,u,c).call(this)).authenticateWithGoogleOneTap(e),this.__internal_loadStripeJs=async()=>(await eh(this,u,c).call(this)).__internal_loadStripeJs(),this.createOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.createOrganization(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("createOrganization",t)},this.getOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.getOrganization(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("getOrganization",t)},this.joinWaitlist=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.joinWaitlist(e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("joinWaitlist",t)},this.signOut=async(...e)=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.signOut(...e)};if(this.clerkjs&&this.loaded)return t();this.premountMethodCalls.set("signOut",t)};let{Clerk:t=null,publishableKey:r}=e||{};ec(this,o,r),ec(this,s,null==e?void 0:e.proxyUrl),ec(this,n,null==e?void 0:e.domain),this.options=e,this.Clerk=t,this.mode=(0,ef.M)()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=eC),el(this,a).emit(ev.Status,"loading"),el(this,a).prioritizedOn(ev.Status,e=>ec(this,i,e)),el(this,o)&&this.loadClerkJS()}get publishableKey(){return el(this,o)}get loaded(){var e;return(null==(e=this.clerkjs)?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?(null==(e=this.clerkjs)?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):el(this,i)}static getOrCreateInstance(t){return(0,ef.M)()&&el(this,l)&&(!t.Clerk||el(this,l).Clerk===t.Clerk)&&el(this,l).publishableKey===t.publishableKey||ec(this,l,new e(t)),el(this,l)}static clearInstance(){ec(this,l,null)}get domain(){return"undefined"!=typeof window&&window.location?(0,p.VK)(el(this,n),new URL(window.location.href),""):"function"==typeof el(this,n)?d.sb.throw(d.Vo):el(this,n)||""}get proxyUrl(){return"undefined"!=typeof window&&window.location?(0,p.VK)(el(this,s),new URL(window.location.href),""):"function"==typeof el(this,s)?d.sb.throw(d.Vo):el(this,s)||""}__internal_getOption(e){var t,r;return(null==(t=this.clerkjs)?void 0:t.__internal_getOption)?null==(r=this.clerkjs)?void 0:r.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return(null==(e=this.clerkjs)?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return null==(e=this.clerkjs)?void 0:e.instanceType}get frontendApi(){var e;return(null==(e=this.clerkjs)?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return(null==(e=this.clerkjs)?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return"undefined"!=typeof window&&window.location?(0,p.VK)(this.options.isSatellite,new URL(window.location.href),!1):"function"==typeof this.options.isSatellite&&d.sb.throw(d.Vo)}async loadClerkJS(){var e,t;if("browser"===this.mode&&!this.loaded){"undefined"!=typeof window&&(window.__clerk_publishable_key=el(this,o),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let e;(t=this.Clerk,"function"==typeof t)?(e=new this.Clerk(el(this,o),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(e),await e.load(this.options)):(e=this.Clerk).loaded||(this.beforeLoad(e),await e.load(this.options)),global.Clerk=e}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await (0,ed._R)({...this.options,publishableKey:el(this,o),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}if(null==(e=global.Clerk)?void 0:e.loaded)return this.hydrateClerkJS(global.Clerk);return}catch(e){el(this,a).emit(ev.Status,"error"),console.error(e.stack||e.message||e);return}}}get version(){var e;return null==(e=this.clerkjs)?void 0:e.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get telemetry(){return this.clerkjs?this.clerkjs.telemetry:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}get isSignedIn(){return!!this.clerkjs&&this.clerkjs.isSignedIn}get billing(){var e;return null==(e=this.clerkjs)?void 0:e.billing}get apiKeys(){var e;return null==(e=this.clerkjs)?void 0:e.apiKeys}__unstable__setEnvironment(...e){this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(e)}};function e_(e){var t;let{isomorphicClerkOptions:r,initialState:i,children:n}=e,{isomorphicClerk:s,clerkStatus:o}=eP(r),[a,l]=f.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});f.useEffect(()=>s.addListener(e=>l({...e})),[]);let u=(t=s.loaded,!t&&i?(e=>{let t=e.userId,r=e.user,i=e.sessionId,n=e.sessionStatus,s=e.sessionClaims,o=e.session,a=e.organization,l=e.orgId,u=e.orgRole,c=e.orgPermissions,h=e.orgSlug;return{userId:t,user:r,sessionId:i,session:o,sessionStatus:n,sessionClaims:s,organization:a,orgId:l,orgRole:u,orgPermissions:c,orgSlug:h,actor:e.actor,factorVerificationAge:e.factorVerificationAge}})(i):(e=>{let t=e.user?e.user.id:e.user,r=e.user,i=e.session?e.session.id:e.session,n=e.session,s=e.session?.status,o=e.session?e.session.lastActiveToken?.jwt?.claims:null,a=e.session?e.session.factorVerificationAge:null,l=n?.actor,u=e.organization,c=e.organization?e.organization.id:e.organization,h=u?.slug,d=u?r?.organizationMemberships?.find(e=>e.organization.id===c):u,p=d?d.permissions:d;return{userId:t,user:r,sessionId:i,session:n,sessionStatus:s,sessionClaims:o,organization:u,orgId:c,orgRole:d?d.role:d,orgSlug:h,orgPermissions:p,actor:l,factorVerificationAge:a}})(a)),c=f.useMemo(()=>({value:s}),[o]),h=f.useMemo(()=>({value:a.client}),[a.client]),{sessionId:p,sessionStatus:g,sessionClaims:m,session:v,userId:k,user:b,orgId:S,actor:w,organization:C,orgRole:O,orgSlug:_,orgPermissions:P,factorVerificationAge:E}=u,A=f.useMemo(()=>({value:{sessionId:p,sessionStatus:g,sessionClaims:m,userId:k,actor:w,orgId:S,orgRole:O,orgSlug:_,orgPermissions:P,factorVerificationAge:E}}),[p,g,k,w,S,O,_,E,null==m?void 0:m.__raw]),R=f.useMemo(()=>({value:v}),[p,v]),j=f.useMemo(()=>({value:b}),[k,b]),M=f.useMemo(()=>({value:{organization:C}}),[S,C]);return f.createElement(d.SW.Provider,{value:c},f.createElement(y.pc.Provider,{value:h},f.createElement(y.IC.Provider,{value:R},f.createElement(y.TS,{...M.value},f.createElement(d.cy.Provider,{value:A},f.createElement(y.Rs.Provider,{value:j},f.createElement(y.Rx,{value:void 0},n)))))))}i=new WeakMap,n=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakSet,c=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})},eu(eO,l);var eP=e=>{let t=f.useRef(eO.getOrCreateInstance(e)),[r,i]=f.useState(t.current.status);return f.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),f.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),f.useEffect(()=>(t.current.on("status",i),()=>{t.current&&t.current.off("status",i),eO.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:r}},eE=function(e,t,r){let i=e.displayName||e.name||t||"Component",n=i=>(!function(e,t,r=1){f.useEffect(()=>{let i=S.get(e)||0;return i==r?d.sb.throw(t):(S.set(e,i+1),()=>{S.set(e,(S.get(e)||1)-1)})},[])}(t,r),f.createElement(e,{...i}));return n.displayName=`withMaxAllowedInstancesGuard(${i})`,n}(function(e){let{initialState:t,children:r,__internal_bypassMissingPublishableKey:i,...n}=e,{publishableKey:s="",Clerk:o}=n;return o||i||(s?s&&!(0,ep.rA)(s)&&d.sb.throwInvalidPublishableKeyError({key:s}):d.sb.throwMissingPublishableKeyError()),f.createElement(e_,{initialState:t,isomorphicClerkOptions:n},r)},"ClerkProvider",d.yN);eE.displayName="ClerkProvider",(0,d.wV)({packageName:"@clerk/clerk-react"}),(0,ed.kX)("@clerk/clerk-react")},9033:(e,t,r)=>{e.exports=r(2436)},9089:(e,t,r)=>{r.d(t,{du:()=>i.du,o4:()=>n,rz:()=>i.rz});var i=r(1388);r(8039);var n=r(5996);r(2800),r(6643)},9414:(e,t,r)=>{function i(e){if(void 0===e)return{};if(!s(e))throw Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function n(e){if(void 0===e)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof e)throw Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function s(e){let t="object"==typeof e,r=Object.getPrototypeOf(e),i=null===r||r===Object.prototype||r?.constructor?.name==="Object";return t&&i}r.d(t,{R6:()=>n,Zy:()=>i,iY:()=>s})},9419:(e,t,r)=>{r.d(t,{B$:()=>v,wF:()=>h,lT:()=>c,z0:()=>l,A0:()=>u,rm:()=>y,m2:()=>m,W5:()=>d,mO:()=>p,Xn:()=>f,eG:()=>g});var i=r(9693),n=r(4129),s=new Set,o=(e,t,r)=>{let i=(0,n.MC)()||(0,n.Fj)(),o=r??e;s.has(o)||i||(s.add(o),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};r(5649);var a=r(2115);r(3018);var l=({children:e})=>((0,i.Kz)("ClerkLoaded"),(0,i.FE)().loaded)?e:null,u=({children:e})=>((0,i.Kz)("ClerkLoading"),"loading"!==(0,i.FE)().status)?null:e,c=({children:e})=>((0,i.Kz)("ClerkFailed"),"error"!==(0,i.FE)().status)?null:e,h=({children:e})=>((0,i.Kz)("ClerkDegraded"),"degraded"!==(0,i.FE)().status)?null:e,d=(0,i.Q)(({clerk:e,...t})=>{let{client:r,session:i}=e,n=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return a.useEffect(()=>{null===i&&n?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn"),p=(0,i.Q)(({clerk:e,...t})=>(a.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp"),f=(0,i.Q)(({clerk:e})=>{let{session:t}=e;return a.useEffect(()=>{if(!t)return void e.redirectToSignIn();e.__internal_navigateToTaskIfAvailable()},[]),null},"RedirectToTask"),g=(0,i.Q)(({clerk:e})=>(a.useEffect(()=>{o("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile"),m=(0,i.Q)(({clerk:e})=>(a.useEffect(()=>{o("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile"),y=(0,i.Q)(({clerk:e})=>(a.useEffect(()=>{o("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization"),v=(0,i.Q)(({clerk:e,...t})=>(a.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback")},9693:(e,t,r)=>{r.d(t,{cy:()=>c,SW:()=>d,D:()=>C,wm:()=>E,sR:()=>w,n:()=>S,sb:()=>l,s7:()=>_,Wq:()=>g,yN:()=>f,kd:()=>O,kf:()=>b,vb:()=>k,wV:()=>u,Vo:()=>m,Kz:()=>I,As:()=>x,ho:()=>a.ho,hP:()=>L,ui:()=>q,FE:()=>p,Z5:()=>a.Z5,D_:()=>a.D_,Wp:()=>a.Wp,dy:()=>a.wV,g7:()=>a.g7,go:()=>z,yC:()=>$,Jd:()=>a.Jd,P6:()=>P,aU:()=>R,ld:()=>M,Wv:()=>T,UX:()=>A,Uw:()=>j,_I:()=>v,$n:()=>y,Q:()=>W});var i=r(3789),n=r(5018);r(5649);var s=r(6898),o=r(2115),a=r(3018),l=(0,i._r)({packageName:"@clerk/clerk-react"});function u(e){l.setMessages(e).setPackageName(e)}var[c,h]=(0,a.e3)("AuthContext"),d=a.ED,p=a.hQ,f="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",g=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,m="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",y="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",v="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",k="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",b="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",S=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,w=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,C=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,O=e=>`The <${e}/> component uses path-based routing by default unless a different routing strategy is provided using the \`routing\` prop. When path-based routing is used, you need to provide the path where the component is mounted on by using the \`path\` prop. Example: <${e} path={'/my-path'} />`,_=e=>`The \`path\` prop will only be respected when the Clerk component uses path-based routing. To resolve this error, pass \`routing='path'\` to the <${e}/> component, or drop the \`path\` prop to switch to hash-based routing. For more details please refer to our docs: https://clerk.com/docs`,P="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",E="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",A="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",R="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",j="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",M="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",T="Missing props. <UserButton.Action /> component requires the following props: label.",I=e=>{(0,a.Kz)(()=>{l.throwMissingClerkProviderError({source:e})})},U=e=>new Promise(t=>{let r=i=>{["ready","degraded"].includes(i)&&(t(),e.off("status",r))};e.on("status",r,{notify:!0})}),x=(e={})=>{var t,r;I("useAuth");let{treatPendingAsSignedOut:i,...n}=null!=e?e:{},a=h();void 0===a.sessionId&&void 0===a.userId&&(a=null!=n?n:{});let l=p(),u=(0,o.useCallback)((e=>async t=>(await U(e),e.session)?e.session.getToken(t):null)(l),[l]),c=(0,o.useCallback)((e=>async(...t)=>(await U(e),e.signOut(...t)))(l),[l]);return null==(t=l.telemetry)||t.record((0,s.FJ)("useAuth",{treatPendingAsSignedOut:i})),L({...a,getToken:u,signOut:c},{treatPendingAsSignedOut:null!=i?i:null==(r=l.__internal_getOption)?void 0:r.call(l,"treatPendingAsSignedOut")})};function L(e,{treatPendingAsSignedOut:t=!0}={}){let{userId:r,orgId:i,orgRole:s,has:a,signOut:u,getToken:c,orgPermissions:h,factorVerificationAge:d,sessionClaims:p}=null!=e?e:{},f=(0,o.useCallback)(e=>a?a(e):(0,n.MR)({userId:r,orgId:i,orgRole:s,orgPermissions:h,factorVerificationAge:d,features:(null==p?void 0:p.fea)||"",plans:(null==p?void 0:p.pla)||""})(e),[a,r,i,s,h,d]),g=(0,n.M2)({authObject:{...e,getToken:c,signOut:u,has:f},options:{treatPendingAsSignedOut:t}});return g||l.throw("Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")}function q(e){let{startEmailLinkFlow:t,cancelEmailLinkFlow:r}=o.useMemo(()=>e.createEmailLinkFlow(),[e]);return o.useEffect(()=>r,[]),{startEmailLinkFlow:t,cancelEmailLinkFlow:r}}var z=()=>{var e;I("useSignIn");let t=p(),r=(0,a.WD)();return(null==(e=t.telemetry)||e.record((0,s.FJ)("useSignIn")),r)?{isLoaded:!0,signIn:r.signIn,setActive:t.setActive}:{isLoaded:!1,signIn:void 0,setActive:void 0}},$=()=>{var e;I("useSignUp");let t=p(),r=(0,a.WD)();return(null==(e=t.telemetry)||e.record((0,s.FJ)("useSignUp")),r)?{isLoaded:!0,signUp:r.signUp,setActive:t.setActive}:{isLoaded:!1,signUp:void 0,setActive:void 0}},W=(e,t)=>{let r=("string"==typeof t?t:null==t?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=r;let i="string"==typeof t?void 0:t,n=t=>{I(r||"withClerk");let n=p();return n.loaded||(null==i?void 0:i.renderWhileLoading)?o.createElement(e,{...t,component:r,clerk:n}):null};return n.displayName=`withClerk(${r})`,n}}}]);