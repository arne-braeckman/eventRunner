(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[528],{1639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eS});var a=s(95155),l=s(24761),r=s(48879),n=s(12115),i=s(84616),c=s(78087),d=s(75143),o=s(50402),m=s(78266),u=s(13717),x=s(62525),p=s(5623),g=s(41897),h=s(69074),b=s(1243),f=s(17580),v=s(4516),j=s(14186),y=s(71007),N=s(13319);let w={WEDDING:"bg-pink-100 text-pink-800",CORPORATE:"bg-blue-100 text-blue-800",GALA:"bg-purple-100 text-purple-800",CONFERENCE:"bg-green-100 text-green-800",BIRTHDAY:"bg-yellow-100 text-yellow-800",ANNIVERSARY:"bg-indigo-100 text-indigo-800",OTHER:"bg-gray-100 text-gray-800"};function A(e){let{opportunity:t,isDragging:s,onEdit:l,onDelete:r,isSelected:i,onToggleSelection:c,isSelectionMode:d,allOpportunities:A=[]}=e,[C,S]=(0,n.useState)(!1),{attributes:O,listeners:D,setNodeRef:R,transform:E,transition:P,isDragging:T}=(0,o.gl)({id:t._id}),L={transform:m.Ks.Transform.toString(E),transition:P},I=w[t.eventType]||w.OTHER,k=A.some(e=>e._id!==t._id&&e.isActive&&new Date(e.eventDate).toDateString()===new Date(t.eventDate).toDateString()),_=A.filter(e=>e._id!==t._id&&e.isActive&&new Date(e.eventDate).toDateString()===new Date(t.eventDate).toDateString());return s||T?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg border-2 border-blue-300 p-4 opacity-50 rotate-2",children:(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:t.name})})}):(0,a.jsxs)("div",{ref:R,style:L,...O,...D,className:"\n        bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-all cursor-grab active:cursor-grabbing\n        ".concat(i?"border-blue-500 bg-blue-50":k?"border-orange-300 bg-orange-50":"border-gray-200","\n        ").concat(d?"cursor-pointer":"","\n        ").concat(k?"ring-1 ring-orange-200":"","\n      "),onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onClick:e=>{(d&&e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.stopPropagation(),null==c||c(t))},children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[d&&(0,a.jsx)("input",{type:"checkbox",checked:i,onChange:e=>{e.stopPropagation(),null==c||c(t)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:t.name})]}),C&&!d&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),null==l||l(t)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit opportunity",children:(0,a.jsx)(u.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),confirm("Are you sure you want to delete this opportunity?")&&(null==r||r(t._id))},className:"p-1 hover:bg-gray-100 rounded",title:"Delete opportunity",children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-red-500"})}),(0,a.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-500"})})]})]}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(I),children:t.eventType.toLowerCase().replace("_"," ")})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-1"}),(0,a.jsxs)("span",{className:"font-medium",children:["€",t.value.toLocaleString()]})]}),(0,a.jsx)("div",{className:"flex items-center text-sm text-gray-600",children:(0,a.jsxs)("span",{className:"font-medium",children:[t.probability||0,"%"]})})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:(0,N.GP)(new Date(t.eventDate),"MMM dd, yyyy")})]}),k&&(0,a.jsxs)("div",{className:"flex items-center",title:"Date conflict with ".concat(_.length," other opportunity/opportunities"),children:[(0,a.jsx)(b.A,{className:"w-4 h-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-xs text-orange-600 ml-1",children:_.length})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:[t.guestCount," guests"]})]}),t.venueRequirements&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{className:"truncate",children:t.venueRequirements})]}),t.expectedCloseDate&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:["Close: ",(0,N.GP)(new Date(t.expectedCloseDate),"MMM dd")]})]})]}),t.description&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.description})}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Updated ",(0,N.GP)(new Date(t.updatedAt),"MMM dd")]}),t.assignedTo&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,a.jsx)(y.A,{className:"w-3 h-3 mr-1"}),(0,a.jsx)("span",{children:"Assigned"})]})]})]})}function C(e){let{id:t,title:s,color:l,opportunities:r,allOpportunities:n=[],onEditOpportunity:i,onDeleteOpportunity:c,selectedOpportunities:m=[],onToggleSelection:u,isSelectionMode:x=!1}=e,{setNodeRef:p,isOver:g}=(0,d.zM)({id:t}),h=r.reduce((e,t)=>e+t.value,0),b=r.length;return(0,a.jsxs)("div",{ref:p,className:"\n        flex flex-col rounded-lg border-2 border-dashed p-4 min-h-[500px]\n        ".concat(l,"\n        ").concat(g?"border-blue-500 bg-blue-50":"","\n        transition-colors duration-200\n      "),children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:s}),(0,a.jsx)("span",{className:"bg-white rounded-full px-2 py-1 text-xs font-medium text-gray-600",children:b})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["€",h.toLocaleString()]})]}),(0,a.jsx)(o.gB,{items:r.map(e=>e._id),strategy:o._G,children:(0,a.jsx)("div",{className:"space-y-3 flex-1",children:r.map(e=>(0,a.jsx)(A,{opportunity:e,allOpportunities:n,onEdit:i,onDelete:c,isSelected:m.some(t=>t._id===e._id),onToggleSelection:u,isSelectionMode:x},e._id))})}),0===b&&(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:(0,a.jsx)("p",{className:"text-sm",children:"Drop opportunities here"})})]})}let S=[{id:"PROSPECT",title:"Prospect",color:"bg-gray-100 border-gray-300"},{id:"QUALIFIED",title:"Qualified",color:"bg-blue-100 border-blue-300"},{id:"PROPOSAL",title:"Proposal",color:"bg-yellow-100 border-yellow-300"},{id:"NEGOTIATION",title:"Negotiation",color:"bg-orange-100 border-orange-300"},{id:"CLOSED_WON",title:"Closed Won",color:"bg-green-100 border-green-300"},{id:"CLOSED_LOST",title:"Closed Lost",color:"bg-red-100 border-red-300"}];function O(e){let{opportunities:t,onEditOpportunity:s,onDeleteOpportunity:r,selectedOpportunities:i=[],onToggleSelection:o,isSelectionMode:m=!1}=e,[u,x]=(0,n.useState)(null),p=(0,l.n_)(c.F.opportunities.updateOpportunityStage),g=(0,d.FR)((0,d.MS)(d.AN,{activationConstraint:{distance:8}})),h=S.reduce((e,s)=>(e[s.id]=t.filter(e=>e.stage===s.id),e),{}),b=async e=>{let{active:s,over:a}=e;if(x(null),!a)return;let l=t.find(e=>e._id===s.id),r=a.id;if(!S.map(e=>e.id).includes(r))return void console.warn("Invalid drop target:",a.id);if(l&&l.stage!==r)try{console.log("Updating opportunity stage:",{opportunityId:l._id,currentStage:l.stage,newStage:r,overId:a.id}),await p({opportunityId:l._id,stage:r})}catch(e){console.error("Failed to update opportunity stage:",e)}},f=u?t.find(e=>e._id===u):null;return(0,a.jsxs)(d.Mp,{sensors:g,onDragStart:e=>{x(e.active.id)},onDragEnd:b,children:[(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6 min-h-[600px]",children:S.map(e=>(0,a.jsx)(C,{id:e.id,title:e.title,color:e.color,opportunities:h[e.id]||[],allOpportunities:t,onEditOpportunity:s,onDeleteOpportunity:r,selectedOpportunities:i,onToggleSelection:o,isSelectionMode:m},e.id))}),(0,a.jsx)(d.Hd,{children:f?(0,a.jsx)(A,{opportunity:f,isDragging:!0}):null})]})}var D=s(66932),R=s(47924);let E=[{value:"PROSPECT",label:"Prospect"},{value:"QUALIFIED",label:"Qualified"},{value:"PROPOSAL",label:"Proposal"},{value:"NEGOTIATION",label:"Negotiation"},{value:"CLOSED_WON",label:"Closed Won"},{value:"CLOSED_LOST",label:"Closed Lost"}],P=[{value:"WEDDING",label:"Wedding"},{value:"CORPORATE",label:"Corporate"},{value:"GALA",label:"Gala"},{value:"CONFERENCE",label:"Conference"},{value:"BIRTHDAY",label:"Birthday"},{value:"ANNIVERSARY",label:"Anniversary"},{value:"OTHER",label:"Other"}];function T(e){let{filters:t,onFilterChange:s}=e,l=(e,a)=>{s({...t,[e]:a||void 0})},r=Object.values(t).some(e=>e);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-gray-500"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Filters"}),r&&(0,a.jsx)("button",{onClick:()=>{s({})},className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear all"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(R.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search opportunities...",value:t.searchTerm||"",onChange:e=>l("searchTerm",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:t.stage||"",onChange:e=>l("stage",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All stages"}),E.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,a.jsxs)("select",{value:t.eventType||"",onChange:e=>l("eventType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All event types"}),P.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]})}var L=s(62177),I=s(54416),k=s(57434);let _=[{value:"PROSPECT",label:"Prospect"},{value:"QUALIFIED",label:"Qualified"},{value:"PROPOSAL",label:"Proposal"},{value:"NEGOTIATION",label:"Negotiation"},{value:"CLOSED_WON",label:"Closed Won"},{value:"CLOSED_LOST",label:"Closed Lost"}],M=[{value:"WEDDING",label:"Wedding"},{value:"CORPORATE",label:"Corporate Event"},{value:"GALA",label:"Gala"},{value:"CONFERENCE",label:"Conference"},{value:"BIRTHDAY",label:"Birthday Party"},{value:"ANNIVERSARY",label:"Anniversary"},{value:"OTHER",label:"Other"}];function W(e){let{isOpen:t,onClose:s,initialData:r,opportunityId:i}=e,[d,o]=(0,n.useState)(!1),m=(0,l.IT)(c.F.contacts.getAllContacts,{}),u=(0,l.n_)(c.F.opportunities.createOpportunity),x=(0,l.n_)(c.F.opportunities.updateOpportunity),{register:p,handleSubmit:b,formState:{errors:y},reset:N,watch:w}=(0,L.mN)({defaultValues:{stage:"PROSPECT",eventType:"WEDDING",requiresCatering:!1,...r}}),A=!!i,C=async e=>{o(!0);try{let t={...e,eventDate:new Date(e.eventDate).getTime(),expectedCloseDate:e.expectedCloseDate?new Date(e.expectedCloseDate).getTime():void 0};A&&i?await x({opportunityId:i,...t}):await u(t),N(),s()}catch(e){console.error("Error saving opportunity:",e)}finally{o(!1)}};return(w("eventType"),t)?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:A?"Edit Opportunity":"Create New Opportunity"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)(I.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:b(C),className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4 inline mr-1"}),"Opportunity Name *"]}),(0,a.jsx)("input",{type:"text",...p("name",{required:"Opportunity name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter opportunity name..."}),y.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact *"}),(0,a.jsxs)("select",{...p("contactId",{required:"Contact is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select a contact..."}),null==m?void 0:m.map(e=>(0,a.jsxs)("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id))]}),y.contactId&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.contactId.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pipeline Stage *"}),(0,a.jsx)("select",{...p("stage",{required:"Stage is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:_.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),(0,a.jsx)("select",{...p("eventType",{required:"Event type is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:M.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 inline mr-1"}),"Opportunity Value *"]}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",...p("value",{required:"Value is required",min:{value:0,message:"Value must be positive"},valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"}),y.value&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.value.message})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Event Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 inline mr-1"}),"Event Date *"]}),(0,a.jsx)("input",{type:"date",...p("eventDate",{required:"Event date is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),y.eventDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.eventDate.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 inline mr-1"}),"Expected Close Date"]}),(0,a.jsx)("input",{type:"date",...p("expectedCloseDate"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 inline mr-1"}),"Guest Count *"]}),(0,a.jsx)("input",{type:"number",min:"1",...p("guestCount",{required:"Guest count is required",min:{value:1,message:"Must have at least 1 guest"},valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"100"}),y.guestCount&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.guestCount.message})]}),(0,a.jsxs)("div",{className:"flex items-center mt-6",children:[(0,a.jsx)("input",{type:"checkbox",...p("requiresCatering"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Requires catering"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 inline mr-1"}),"Venue Requirements"]}),(0,a.jsx)("textarea",{rows:3,...p("venueRequirements"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe venue requirements, location preferences, etc..."})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{rows:4,...p("description"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Additional notes about this opportunity..."})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?A?"Updating...":"Creating...":A?"Update Opportunity":"Create Opportunity"})]})]})]})}):null}var F=s(5196),q=s(92138);let V=[{value:"PROSPECT",label:"Prospect"},{value:"QUALIFIED",label:"Qualified"},{value:"PROPOSAL",label:"Proposal"},{value:"NEGOTIATION",label:"Negotiation"},{value:"CLOSED_WON",label:"Closed Won"},{value:"CLOSED_LOST",label:"Closed Lost"}];function G(e){let{selectedOpportunities:t,onClearSelection:s,onBulkComplete:r}=e,[i,d]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[u,p]=(0,n.useState)("QUALIFIED"),g=(0,l.n_)(c.F.opportunities.updateOpportunityStage),h=(0,l.n_)(c.F.opportunities.deleteOpportunity),b=async()=>{d(!0);try{await Promise.all(t.map(e=>g({opportunityId:e._id,stage:u}))),r()}catch(e){console.error("Error updating opportunities:",e)}finally{d(!1),m(null)}},f=async()=>{if(confirm("Are you sure you want to delete ".concat(t.length," opportunities?"))){d(!0);try{await Promise.all(t.map(e=>h({opportunityId:e._id}))),r()}catch(e){console.error("Error deleting opportunities:",e)}finally{d(!1),m(null)}}};return 0===t.length?null:(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:[t.length," opportunities selected"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Total value: €",t.reduce((e,t)=>e+t.value,0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[null===o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>m("stage"),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(q.A,{className:"w-4 h-4 mr-1"}),"Move to Stage"]}),(0,a.jsxs)("button",{onClick:()=>m("delete"),className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded text-red-700 bg-white hover:bg-red-50",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-1"}),"Delete"]})]}),"stage"===o&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("select",{value:u,onChange:e=>p(e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:V.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)("button",{onClick:b,disabled:i,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:i?"Processing...":"Update"}),(0,a.jsx)("button",{onClick:()=>m(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]}),"delete"===o&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:f,disabled:i,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-red-600 hover:bg-red-700 disabled:opacity-50",children:i?"Deleting...":"Confirm Delete"}),(0,a.jsx)("button",{onClick:()=>m(null),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]}),(0,a.jsxs)("button",{onClick:s,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 mr-1"}),"Clear Selection"]})]})]})})})}function Z(){let[e,t]=(0,n.useState)({}),[s,r]=(0,n.useState)(!1),[d,o]=(0,n.useState)(null),[m,u]=(0,n.useState)([]),[x,p]=(0,n.useState)(!1),g=(0,l.IT)(c.F.opportunities.getAllOpportunities,e),h=(0,l.n_)(c.F.opportunities.deleteOpportunity),b=async e=>{try{await h({opportunityId:e})}catch(e){console.error("Error deleting opportunity:",e)}};return void 0===g?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Pipeline Overview"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[g.length," opportunities • Total value: €",g.reduce((e,t)=>e+t.value,0).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{p(!x),x||u([])},className:"inline-flex items-center px-3 py-2 border text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(x?"border-blue-600 text-blue-600 bg-blue-50 hover:bg-blue-100":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"),children:x?"Exit Selection":"Select Multiple"}),(0,a.jsxs)("button",{onClick:()=>r(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"New Opportunity"]})]})]}),(0,a.jsx)(T,{filters:e,onFilterChange:e=>{t(e)}}),(0,a.jsx)(O,{opportunities:g||[],onEditOpportunity:e=>{o(e)},onDeleteOpportunity:b,selectedOpportunities:m,onToggleSelection:e=>{u(t=>t.some(t=>t._id===e._id)?t.filter(t=>t._id!==e._id):[...t,e])},isSelectionMode:x}),(0,a.jsx)(W,{isOpen:s||!!d,onClose:()=>{r(!1),o(null)},initialData:d?{name:d.name,contactId:d.contactId,stage:d.stage,value:d.value,eventType:d.eventType,eventDate:new Date(d.eventDate).toISOString().split("T")[0],guestCount:d.guestCount,requiresCatering:d.requiresCatering,venueRequirements:d.venueRequirements,description:d.description,expectedCloseDate:d.expectedCloseDate?new Date(d.expectedCloseDate).toISOString().split("T")[0]:void 0}:void 0,opportunityId:null==d?void 0:d._id}),(0,a.jsx)(G,{selectedOpportunities:m,onClearSelection:()=>{u([]),p(!1)},onBulkComplete:()=>{u([]),p(!1)}})]})}var z=s(66695),B=s(30285),U=s(59409),H=s(53904),Q=s(91788),Y=s(55868),$=s(16785),K=s(33109),J=s(72713),X=s(84355),ee=s(68500);let et=[{value:"7d",label:"Last 7 days",days:7},{value:"30d",label:"Last 30 days",days:30},{value:"90d",label:"Last 90 days",days:90},{value:"6m",label:"Last 6 months",days:180},{value:"1y",label:"Last year",days:365},{value:"all",label:"All time",days:0}],es={PROSPECT:"bg-gray-500",QUALIFIED:"bg-blue-500",PROPOSAL:"bg-yellow-500",NEGOTIATION:"bg-orange-500",CLOSED_WON:"bg-green-500",CLOSED_LOST:"bg-red-500"};function ea(e){let{className:t}=e,[s,r]=(0,n.useState)("30d"),[i,d]=(0,n.useState)(!1),o=(0,l.IT)(c.F.opportunities.getAllOpportunities,{isActive:!0}),m=(0,l.IT)(c.F.opportunities.getRevenueForecasting,{}),u=(0,n.useMemo)(()=>{if(!o)return[];let e=et.find(e=>e.value===s);if(!e||0===e.days)return o;let t=Date.now()-24*e.days*36e5;return o.filter(e=>e.createdAt>=t)},[o,s]),x=(0,n.useMemo)(()=>{if(!u||!o)return[];let e=["PROSPECT","QUALIFIED","PROPOSAL","NEGOTIATION","CLOSED_WON","CLOSED_LOST"];return e.map(t=>{let s=u.filter(e=>e.stage===t),a=s.reduce((e,t)=>e+t.value,0),l=s.reduce((e,t)=>e+t.value*((t.probability||0)/100),0),r=s.length>0?s.reduce((e,t)=>e+(t.probability||0),0)/s.length:0,n=Date.now(),i=s.length>0?s.reduce((e,t)=>e+(n-t.updatedAt)/864e5,0)/s.length:0,c=e.indexOf(t)+1,d=c<e.length?o.filter(t=>t.stage===e[c]||"CLOSED_WON"===t.stage):[],m=s.length>0?d.length/(s.length+d.length)*100:0;return{stage:t,count:s.length,value:a,weightedValue:l,avgProbability:r,avgDaysInStage:Math.round(i),conversionRate:Math.round(m)}})},[u,o]),p=(0,n.useMemo)(()=>{if(!u)return null;let e=u.length,t=u.reduce((e,t)=>e+t.value,0),s=u.reduce((e,t)=>e+t.value*((t.probability||0)/100),0),a=u.filter(e=>"CLOSED_WON"===e.stage),l=e>0?a.length/e*100:0,r=u.filter(e=>!["CLOSED_WON","CLOSED_LOST"].includes(e.stage)),n=a.length>0?a.reduce((e,t)=>e+(t.updatedAt-t.createdAt)/864e5,0)/a.length:0;return{totalOpportunities:e,totalValue:t,totalWeightedValue:s,avgDealSize:e>0?t/e:0,winRate:l,activeOpportunities:r.length,avgSalesCycle:Math.round(n),closedWonValue:a.reduce((e,t)=>e+t.value,0)}},[u]),g=async()=>{d(!0),await new Promise(e=>setTimeout(e,1e3)),d(!1)};return o&&p?(0,a.jsxs)("div",{className:"space-y-6 ".concat(t),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Pipeline Analytics"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Sales performance metrics and insights"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(U.l6,{value:s,onValueChange:r,children:[(0,a.jsx)(U.bq,{className:"w-48",children:(0,a.jsx)(U.yv,{})}),(0,a.jsx)(U.gC,{children:et.map(e=>(0,a.jsx)(U.eb,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(B.$,{variant:"outline",size:"sm",onClick:g,disabled:i,children:[(0,a.jsx)(H.A,{className:"w-4 h-4 mr-2 ".concat(i?"animate-spin":"")}),"Refresh"]}),(0,a.jsxs)(B.$,{variant:"outline",size:"sm",onClick:()=>{console.log("Exporting analytics data...",{stageMetrics:x,overallMetrics:p})},children:[(0,a.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(el,{title:"Total Pipeline Value",value:"€".concat(p.totalValue.toLocaleString()),change:12.5,icon:Y.A,trend:"up"}),(0,a.jsx)(el,{title:"Weighted Pipeline",value:"€".concat(Math.round(p.totalWeightedValue).toLocaleString()),change:8.3,icon:$.A,trend:"up"}),(0,a.jsx)(el,{title:"Win Rate",value:"".concat(Math.round(p.winRate),"%"),change:-2.1,icon:K.A,trend:"down"}),(0,a.jsx)(el,{title:"Avg Deal Size",value:"€".concat(Math.round(p.avgDealSize).toLocaleString()),change:15.7,icon:J.A,trend:"up"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(z.Zp,{children:[(0,a.jsx)(z.aR,{children:(0,a.jsxs)(z.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(X.A,{className:"w-5 h-5"}),"Pipeline Stage Breakdown"]})}),(0,a.jsx)(z.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(es[e.stage])}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.stage.replace("_"," ")}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.count," opportunities • ",e.avgDaysInStage," avg days"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:["€",e.value.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.conversionRate,"% conversion"]})]})]},e.stage))})})]}),(0,a.jsxs)(z.Zp,{children:[(0,a.jsx)(z.aR,{children:(0,a.jsxs)(z.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-5 h-5"}),"Performance Indicators"]})}),(0,a.jsxs)(z.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(K.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"Revenue Closed"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"This period"})]})]}),(0,a.jsxs)("p",{className:"font-medium text-lg text-green-700",children:["€",p.closedWonValue.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"Avg Sales Cycle"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Days to close"})]})]}),(0,a.jsxs)("p",{className:"font-medium text-lg text-blue-700",children:[p.avgSalesCycle," days"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-orange-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.A,{className:"w-5 h-5 text-orange-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:"Active Opportunities"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"In pipeline"})]})]}),(0,a.jsx)("p",{className:"font-medium text-lg text-orange-700",children:p.activeOpportunities})]}),p.winRate<20&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-red-50 border border-red-200",children:[(0,a.jsx)(b.A,{className:"w-5 h-5 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm text-red-800",children:"Low Win Rate Alert"}),(0,a.jsx)("p",{className:"text-xs text-red-600",children:"Consider reviewing qualification criteria"})]})]})]})]})]}),m&&(0,a.jsxs)(z.Zp,{children:[(0,a.jsx)(z.aR,{children:(0,a.jsxs)(z.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)($.A,{className:"w-5 h-5"}),"Revenue Forecasting"]})}),(0,a.jsx)(z.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg bg-gray-50",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Total Pipeline"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["€",m.summary.totalValue.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[m.summary.totalOpportunities," opportunities"]})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg bg-blue-50",children:[(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-2",children:"Weighted Forecast"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-700",children:["€",Math.round(m.summary.totalWeightedValue).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-blue-500 mt-1",children:[Math.round(m.summary.averageProbability),"% avg probability"]})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg bg-green-50",children:[(0,a.jsx)("p",{className:"text-sm text-green-600 mb-2",children:"Expected Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:["€",Math.round(.8*m.summary.totalWeightedValue).toLocaleString()]}),(0,a.jsx)("p",{className:"text-xs text-green-500 mt-1",children:"Conservative estimate"})]})]})})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64 ".concat(t),children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function el(e){let{title:t,value:s,change:l,icon:r,trend:n}=e;return(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(r,{className:"w-8 h-8 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:["up"===n?(0,a.jsx)(K.A,{className:"w-4 h-4 text-green-500 mr-1"}):(0,a.jsx)(ee.A,{className:"w-4 h-4 text-red-500 mr-1"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat("up"===n?"text-green-600":"text-red-600"),children:[Math.abs(l),"%"]}),(0,a.jsx)("span",{className:"text-sm text-gray-600 ml-1",children:"vs previous period"})]})]})})}var er=s(26126),en=s(59434);let ei=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,en.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});ei.displayName="Avatar",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("img",{ref:t,className:(0,en.cn)("aspect-square h-full w-full",s),...l})}).displayName="AvatarImage";let ec=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,en.cn)("flex h-full w-full items-center justify-center rounded-full bg-gray-100 text-gray-600",s),...l})});ec.displayName="AvatarFallback";let ed=e=>{let{name:t}=e,s=t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,a.jsx)("span",{className:"text-sm font-medium",children:s})},eo=n.forwardRef((e,t)=>{let{className:s,value:l=0,max:r=100,...n}=e,i=Math.min(Math.max(l/r*100,0),100);return(0,a.jsx)("div",{ref:t,className:(0,en.cn)("relative h-4 w-full overflow-hidden rounded-full bg-gray-200",s),...n,children:(0,a.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-in-out",style:{width:"".concat(i,"%")}})})});eo.displayName="Progress";var em=s(17951),eu=s(69037),ex=s(18186);let ep=[{value:"7d",label:"Last 7 days",days:7},{value:"30d",label:"Last 30 days",days:30},{value:"90d",label:"Last 90 days",days:90},{value:"6m",label:"Last 6 months",days:180},{value:"1y",label:"Last year",days:365},{value:"all",label:"All time",days:0}],eg=[{key:"closedValue",label:"Revenue",icon:Y.A,format:"currency"},{key:"winRate",label:"Win Rate",icon:$.A,format:"percentage"},{key:"avgDealSize",label:"Avg Deal Size",icon:J.A,format:"currency"},{key:"avgSalesCycle",label:"Sales Cycle",icon:h.A,format:"days"}];function eh(e){var t,s,r,i;let{className:d}=e,[o,m]=(0,n.useState)("30d"),[u,x]=(0,n.useState)("closedValue"),[p,g]=(0,n.useState)("desc"),h=(0,l.IT)(c.F.opportunities.getSalesPerformance,{startDate:"all"!==o?Date.now()-24*((null==(t=ep.find(e=>e.value===o))?void 0:t.days)||30)*36e5:void 0,endDate:Date.now()});(0,l.IT)(c.F.opportunities.getPipelineAnalytics,{startDate:"all"!==o?Date.now()-24*((null==(s=ep.find(e=>e.value===o))?void 0:s.days)||30)*36e5:void 0,endDate:Date.now()});let b=(0,n.useMemo)(()=>h?[...h].sort((e,t)=>{let s=e[u],a=t[u];return"desc"===p?a-s:s-a}):[],[h,u,p]),v=(0,n.useMemo)(()=>{if(!h)return null;let e=h.reduce((e,t)=>e+t.closedValue,0),t=h.reduce((e,t)=>e+t.totalOpportunities,0),s=h.reduce((e,t)=>e+t.closedWon,0),a=h.length>0?h.reduce((e,t)=>e+t.winRate,0)/h.length:0;return{totalMembers:h.length,totalRevenue:e,totalOpportunities:t,totalClosedWon:s,avgWinRate:a,topPerformer:b[0],activeMembersThisPeriod:h.filter(e=>e.totalOpportunities>0).length}},[h,b]);if(!h||!v)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64 ".concat(d),children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});let j=v.avgWinRate,y=h.length>0?h.reduce((e,t)=>e+t.avgDealSize,0)/h.length:0;return(0,a.jsxs)("div",{className:"space-y-6 ".concat(d),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sales Performance Report"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Team and individual performance metrics"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(U.l6,{value:o,onValueChange:m,children:[(0,a.jsx)(U.bq,{className:"w-48",children:(0,a.jsx)(U.yv,{})}),(0,a.jsx)(U.gC,{children:ep.map(e=>(0,a.jsx)(U.eb,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(B.$,{variant:"outline",size:"sm",onClick:()=>{console.log("Exporting sales performance data...",{salesPerformance:h,teamSummary:v})},children:[(0,a.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["€",v.totalRevenue.toLocaleString()]})]}),(0,a.jsx)(Y.A,{className:"w-8 h-8 text-green-500"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[v.totalClosedWon," deals closed"]})]})}),(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Team Win Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(v.avgWinRate),"%"]})]}),(0,a.jsx)($.A,{className:"w-8 h-8 text-blue-500"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[v.totalOpportunities," total opportunities"]})]})}),(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.activeMembersThisPeriod})]}),(0,a.jsx)(f.A,{className:"w-8 h-8 text-purple-500"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["out of ",v.totalMembers," total"]})]})}),(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Top Performer"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900 truncate",children:(null==(r=v.topPerformer)?void 0:r.name)||"N/A"})]}),(0,a.jsx)(ex.A,{className:"w-8 h-8 text-yellow-500"})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["€",(null==(i=v.topPerformer)?void 0:i.closedValue.toLocaleString())||"0"," revenue"]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Sort by:"})]}),(0,a.jsxs)(U.l6,{value:u,onValueChange:x,children:[(0,a.jsx)(U.bq,{className:"w-40",children:(0,a.jsx)(U.yv,{})}),(0,a.jsx)(U.gC,{children:eg.map(e=>(0,a.jsx)(U.eb,{value:e.key,children:e.label},e.key))})]}),(0,a.jsx)(B.$,{variant:"outline",size:"sm",onClick:()=>g("desc"===p?"asc":"desc"),children:"desc"===p?(0,a.jsx)(ee.A,{className:"w-4 h-4"}):(0,a.jsx)(K.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[b.length," team members"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:b.map((e,t)=>{var s,l,r,n;let i=(s=e.winRate,l=e.avgDealSize,r=j,n=y,s>=1.2*r&&l>=1.2*n?{level:"Excellent",color:"bg-green-100 text-green-800",icon:em.A}:s>=r&&l>=n?{level:"Good",color:"bg-blue-100 text-blue-800",icon:eu.A}:s>=.8*r&&l>=.8*n?{level:"Average",color:"bg-yellow-100 text-yellow-800",icon:$.A}:{level:"Needs Improvement",color:"bg-red-100 text-red-800",icon:K.A}),c=i.icon;return(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-400",children:["#",t+1]}),(0,a.jsx)(ei,{className:"w-10 h-10",children:(0,a.jsx)(ec,{children:(0,a.jsx)(ed,{name:e.name})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,a.jsxs)(er.E,{variant:"secondary",className:i.color,children:[(0,a.jsx)(c,{className:"w-3 h-3 mr-1"}),i.level]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6",children:eg.map(t=>{let s=e[t.key],l=t.icon;return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(0,a.jsx)(l,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:t.label})]}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900",children:((e,t)=>{switch(t){case"currency":return"€".concat(e.toLocaleString());case"percentage":return"".concat(Math.round(e),"%");case"days":return"".concat(Math.round(e)," days");default:return e.toString()}})(s,t.format)}),"winRate"===t.key&&(0,a.jsx)(eo,{value:s,className:"mt-2 h-2"})]},t.key)})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:e.totalOpportunities})," total opportunities •",(0,a.jsx)("span",{className:"font-medium text-green-600 ml-1",children:e.closedWon})," won"]}),e.winRate>j&&(0,a.jsxs)(er.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,a.jsx)(K.A,{className:"w-3 h-3 mr-1"}),"Above Average"]})]})]})},e.userId)})}),0===b.length&&(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-12 text-center",children:[(0,a.jsx)(f.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Sales Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No sales team members have opportunities in the selected time period."})]})})]})}let eb=n.forwardRef((e,t)=>{let{className:s,variant:l="default",...r}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,en.cn)("relative w-full rounded-lg border p-4",{"bg-gray-50 border-gray-200 text-gray-900":"default"===l,"bg-red-50 border-red-200 text-red-900":"destructive"===l},s),...r})});eb.displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("h5",{ref:t,className:(0,en.cn)("mb-1 font-medium leading-none tracking-tight",s),...l})}).displayName="AlertTitle";let ef=n.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,en.cn)("text-sm [&_p]:leading-relaxed",s),...l})});ef.displayName="AlertDescription";var ev=s(40646),ej=s(54861),ey=s(81284),eN=s(79397),ew=s(85339),eA=s(71539);function eC(e){let{className:t}=e,[s,r]=(0,n.useState)(!1),i=(0,l.IT)(c.F.opportunities.getPipelineAnalytics,{}),d=(0,l.IT)(c.F.opportunities.getAllOpportunities,{isActive:!0}),o=(0,n.useMemo)(()=>{if(!i||!d)return[];let e=[],{summary:t,stageMetrics:s,conversionRates:a}=i,l=t.winRate>=30?"healthy":t.winRate>=20?"warning":"critical";e.push({id:"win-rate",title:"Overall Win Rate",status:l,value:"".concat(Math.round(t.winRate),"%"),description:"Percentage of opportunities that close successfully",recommendation:"healthy"!==l?"Consider improving lead qualification and sales training":void 0,trend:"stable"});let r=t.avgSalesCycle,n=r<=30?"healthy":r<=60?"warning":"critical";e.push({id:"sales-velocity",title:"Sales Cycle Length",status:n,value:"".concat(r," days"),description:"Average time to close opportunities",recommendation:"healthy"!==n?"Focus on accelerating deal progression and removing blockers":void 0});let c=d.filter(e=>!["CLOSED_WON","CLOSED_LOST"].includes(e.stage)),o=c.filter(e=>"PROSPECT"===e.stage).length/c.length,m=o<=.4?"healthy":o<=.6?"warning":"critical";e.push({id:"pipeline-balance",title:"Pipeline Balance",status:m,value:"".concat(Math.round(100*o),"%"),description:"Percentage of opportunities in early stages",recommendation:"healthy"!==m?"Increase focus on advancing prospects through the pipeline":void 0});let u=a.overallWinRate,x=u>=25?"healthy":u>=15?"warning":"critical";e.push({id:"conversion-health",title:"Conversion Health",status:x,value:"".concat(u,"%"),description:"Overall pipeline conversion performance",recommendation:"healthy"!==x?"Review lead sources and qualification criteria":void 0});let p=Date.now(),g=c.filter(e=>p-e.updatedAt>2592e6),h=0===g.length?"healthy":g.length<=5?"warning":"critical";e.push({id:"stale-opportunities",title:"Stale Opportunities",status:h,value:g.length,description:"Opportunities inactive for over 30 days",recommendation:"healthy"!==h?"Review and update stale opportunities or mark as lost":void 0});let b=Math.max(...c.map(e=>e.value))/c.reduce((e,t)=>e+t.value,0),f=b<=.3?"healthy":b<=.5?"warning":"critical";return e.push({id:"concentration-risk",title:"Revenue Concentration",status:f,value:"".concat(Math.round(100*b),"%"),description:"Percentage of pipeline value in largest opportunity",recommendation:"healthy"!==f?"Diversify pipeline to reduce dependency on single large deals":void 0}),e},[i,d]),m=(0,n.useMemo)(()=>{if(!i)return[];let{stageMetrics:e}=i,t=[];return e.forEach(e=>{if(0===e.count)return;let s="low",a="";e.avgDaysInStage>45&&e.count>5?(s="high",a="Opportunities are spending too long in ".concat(e.stage,". Review stage requirements and provide additional support.")):(e.avgDaysInStage>30||e.count>10)&&(s="medium",a="Monitor ".concat(e.stage," stage for potential process improvements.")),"low"!==s&&t.push({stage:e.stage,avgDaysInStage:e.avgDaysInStage,conversionRate:0,opportunityCount:e.count,severity:s,recommendation:a})}),t.sort((e,t)=>{let s={high:3,medium:2,low:1};return s[t.severity]-s[e.severity]})},[i]),u=(0,n.useMemo)(()=>{if(0===o.length)return 0;let e=o.map(e=>{switch(e.status){case"healthy":return 100;case"warning":return 60;case"critical":return 20;default:return 80}});return Math.round(e.reduce((e,t)=>e+t,0)/e.length)},[o]),x=async()=>{r(!0),await new Promise(e=>setTimeout(e,1e3)),r(!1)};return i&&d?(0,a.jsxs)("div",{className:"space-y-6 ".concat(t),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Pipeline Health"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time health indicators and bottleneck analysis"})]}),(0,a.jsxs)(B.$,{variant:"outline",size:"sm",onClick:x,disabled:s,children:[(0,a.jsx)(H.A,{className:"w-4 h-4 mr-2 ".concat(s?"animate-spin":"")}),"Refresh"]})]}),(0,a.jsxs)(z.Zp,{children:[(0,a.jsx)(z.aR,{children:(0,a.jsxs)(z.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(eN.A,{className:"w-5 h-5"}),"Overall Pipeline Health"]})}),(0,a.jsxs)(z.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[u,"/100"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Health Score"})]}),(0,a.jsxs)("div",{className:"text-right",children:[u>=80&&(0,a.jsx)(er.E,{className:"bg-green-100 text-green-800",children:"Excellent"}),u>=60&&u<80&&(0,a.jsx)(er.E,{className:"bg-yellow-100 text-yellow-800",children:"Good"}),u<60&&(0,a.jsx)(er.E,{className:"bg-red-100 text-red-800",children:"Needs Attention"})]})]}),(0,a.jsx)(eo,{value:u,className:"h-2"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,a.jsx)(z.Zp,{className:(e=>{switch(e){case"healthy":return"border-green-200 bg-green-50";case"warning":return"border-yellow-200 bg-yellow-50";case"critical":return"border-red-200 bg-red-50";default:return"border-blue-200 bg-blue-50"}})(e.status),children:(0,a.jsxs)(z.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(e=>{switch(e){case"healthy":return(0,a.jsx)(ev.A,{className:"w-5 h-5 text-green-500"});case"warning":return(0,a.jsx)(b.A,{className:"w-5 h-5 text-yellow-500"});case"critical":return(0,a.jsx)(ej.A,{className:"w-5 h-5 text-red-500"});default:return(0,a.jsx)(ey.A,{className:"w-5 h-5 text-blue-500"})}})(e.status)]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),e.trend&&(0,a.jsxs)("div",{className:"flex items-center mb-2",children:["up"===e.trend?(0,a.jsx)(K.A,{className:"w-4 h-4 text-green-500 mr-1"}):"down"===e.trend?(0,a.jsx)(ee.A,{className:"w-4 h-4 text-red-500 mr-1"}):null,e.trendValue&&(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.trendValue,"% vs last period"]})]}),e.recommendation&&(0,a.jsxs)(eb,{className:"mt-4",children:[(0,a.jsx)(ew.A,{className:"h-4 w-4"}),(0,a.jsx)(ef,{className:"text-sm",children:e.recommendation})]})]})},e.id))}),m.length>0&&(0,a.jsxs)(z.Zp,{children:[(0,a.jsx)(z.aR,{children:(0,a.jsxs)(z.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)($.A,{className:"w-5 h-5"}),"Pipeline Bottlenecks"]})}),(0,a.jsx)(z.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,a.jsx)("div",{className:"flex items-start justify-between p-4 rounded-lg border",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(er.E,{variant:"outline",className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.severity),children:e.severity.toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.stage.replace("_"," ")}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.recommendation}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(j.A,{className:"w-3 h-3"}),e.avgDaysInStage," days avg"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(eA.A,{className:"w-3 h-3"}),e.opportunityCount," opportunities"]})]})]})]})},e.stage))})})]}),0===m.length&&(0,a.jsx)(z.Zp,{children:(0,a.jsxs)(z.Wu,{className:"p-8 text-center",children:[(0,a.jsx)(ev.A,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bottlenecks Detected"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Your pipeline is flowing smoothly with no significant bottlenecks identified."})]})})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64 ".concat(t),children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function eS(){return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)(l.Yz,{children:(0,a.jsx)(eD,{})}),(0,a.jsx)(l.hE,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to view opportunities."}),(0,a.jsx)(r.hZ,{mode:"modal",children:(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Sign In"})})]})})]})})}let eO=[{id:"pipeline",label:"Pipeline",icon:s(19491).A,description:"Kanban board view"},{id:"analytics",label:"Analytics",icon:J.A,description:"Pipeline metrics"},{id:"performance",label:"Performance",icon:K.A,description:"Team performance"},{id:"health",label:"Health",icon:eN.A,description:"Pipeline health"}];function eD(){let[e,t]=(0,n.useState)("pipeline");return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Pipeline"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage opportunities, analyze performance, and track pipeline health"})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:eO.map(s=>{let l=s.icon,r=e===s.id;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"\n                  group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                  ".concat(r?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","\n                "),children:[(0,a.jsx)(l,{className:"\n                  -ml-0.5 mr-2 h-5 w-5 transition-colors\n                  ".concat(r?"text-blue-500":"text-gray-400 group-hover:text-gray-500","\n                ")}),(0,a.jsx)("span",{children:s.label})]},s.id)})})}),(0,a.jsx)("div",{className:"tab-content",children:(()=>{switch(e){case"pipeline":default:return(0,a.jsx)(Z,{});case"analytics":return(0,a.jsx)(ea,{});case"performance":return(0,a.jsx)(eh,{});case"health":return(0,a.jsx)(eC,{})}})()})]})}},26126:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(95155);s(12115);var l=s(74466),r=s(59434);let n=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...l}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({variant:s}),t),...l})}},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(95155),l=s(12115),r=s(74466),n=s(59434);let i=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:s,variant:l,size:r,asChild:c=!1,...d}=e;return(0,a.jsx)("button",{className:(0,n.cn)(i({variant:l,size:r,className:s})),ref:t,...d})});c.displayName="Button"},46444:(e,t,s)=>{Promise.resolve().then(s.bind(s,1639))},59409:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>h,gC:()=>g,l6:()=>o,yv:()=>m});var a=s(95155),l=s(12115),r=s(1396),n=s(66474),i=s(47863),c=s(5196),d=s(59434);let o=r.bL;r.YJ;let m=r.WT,u=l.forwardRef((e,t)=>{let{className:s,children:l,...i}=e;return(0,a.jsxs)(r.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=r.PP.displayName;let p=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=r.wn.displayName;let g=l.forwardRef((e,t)=>{let{className:s,children:l,position:n="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(p,{})]})})});g.displayName=r.UC.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=r.JU.displayName;let h=l.forwardRef((e,t)=>{let{className:s,children:l,...n}=e;return(0,a.jsxs)(r.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:l})]})});h.displayName=r.q7.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.wv.displayName},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(52596),l=s(39688);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,a.$)(t))}},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i});var a=s(95155),l=s(12115),r=s(59434);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},78087:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});let a=s(3312).dp}},e=>{e.O(0,[761,312,879,778,558,79,664,896,441,964,358],()=>e(e.s=46444)),_N_E=e.O()}]);