(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{19989:(e,t,a)=>{"use strict";a.d(t,{An:()=>r,T7:()=>l,nI:()=>s});let s={COLD:{min:0,max:5},WARM:{min:6,max:15},HOT:{min:16,max:1/0}},l=[{value:"WEDDING",label:"Wedding"},{value:"CORPORATE",label:"Corporate Event"},{value:"BIRTHDAY",label:"Birthday Party"},{value:"ANNIVERSARY",label:"Anniversary"},{value:"CONFERENCE",label:"Conference"},{value:"WORKSHOP",label:"Workshop"},{value:"FUNDRAISER",label:"Fundraiser"},{value:"HOLIDAY",label:"Holiday Party"},{value:"REUNION",label:"Reunion"},{value:"OTHER",label:"Other"}],r=[{value:"BRUSSELS",label:"Brussels"},{value:"FLANDERS",label:"Flanders"},{value:"WALLONIA",label:"Wallonia"},{value:"ANTWERP",label:"Antwerp"},{value:"GHENT",label:"Ghent"},{value:"BRUGES",label:"Bruges"},{value:"LEUVEN",label:"Leuven"},{value:"NAMUR",label:"Namur"},{value:"LIEGE",label:"Li\xe8ge"},{value:"OTHER",label:"Other"}]},26426:(e,t,a)=>{"use strict";a.d(t,{V:()=>u});var s=a(95155),l=a(62177),r=a(63560),n=a(70927),o=a(24761),c=a(78087),i=a(12115);let d=n.Ik({name:n.Yj().min(2,"Name must be at least 2 characters"),email:n.Yj().email("Please enter a valid email address"),phone:n.Yj().optional(),company:n.Yj().optional(),leadSource:n.k5(["WEBSITE","FACEBOOK","INSTAGRAM","LINKEDIN","REFERRAL","DIRECT","OTHER"]),leadHeat:n.k5(["COLD","WARM","HOT"]),notes:n.Yj().optional()});function u(){let[e,t]=(0,i.useState)(!1),[a,n]=(0,i.useState)(null),u=(0,o.n_)(c.F.contacts.createContact),{register:m,handleSubmit:x,reset:p,formState:{errors:h}}=(0,l.mN)({resolver:(0,r.u)(d),defaultValues:{leadSource:"WEBSITE",leadHeat:"WARM"}}),g=async e=>{t(!0),n(null);try{await u({name:e.name,email:e.email,phone:e.phone||void 0,company:e.company||void 0,leadSource:e.leadSource,leadHeat:e.leadHeat,notes:e.notes||void 0}),n({type:"success",message:"Contact created successfully!"}),p()}catch(e){console.error("Error creating contact:",e),n({type:"error",message:"Failed to create contact. Please try again."})}finally{t(!1)}};return(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Capture New Lead"}),a&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded ".concat("success"===a.type?"bg-green-100 text-green-700 border border-green-300":"bg-red-100 text-red-700 border border-red-300"),children:a.message}),(0,s.jsxs)("form",{onSubmit:x(g),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,s.jsx)("input",{...m("name"),type:"text",id:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter contact name"}),h.name&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,s.jsx)("input",{...m("email"),type:"email",id:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"}),h.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,s.jsx)("input",{...m("phone"),type:"tel",id:"phone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,s.jsx)("input",{...m("company"),type:"text",id:"company",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leadSource",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source *"}),(0,s.jsxs)("select",{...m("leadSource"),id:"leadSource",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"WEBSITE",children:"Website"}),(0,s.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,s.jsx)("option",{value:"INSTAGRAM",children:"Instagram"}),(0,s.jsx)("option",{value:"LINKEDIN",children:"LinkedIn"}),(0,s.jsx)("option",{value:"REFERRAL",children:"Referral"}),(0,s.jsx)("option",{value:"DIRECT",children:"Direct"}),(0,s.jsx)("option",{value:"OTHER",children:"Other"})]}),h.leadSource&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.leadSource.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leadHeat",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Heat *"}),(0,s.jsxs)("select",{...m("leadHeat"),id:"leadHeat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"COLD",children:"Cold"}),(0,s.jsx)("option",{value:"WARM",children:"Warm"}),(0,s.jsx)("option",{value:"HOT",children:"Hot"})]}),h.leadHeat&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.leadHeat.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,s.jsx)("textarea",{...m("notes"),id:"notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Additional notes about this lead..."})]}),(0,s.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating Contact...":"Create Contact"})]})]})}},35695:(e,t,a)=>{"use strict";var s=a(18999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}}),a.o(s,"useSelectedLayoutSegments")&&a.d(t,{useSelectedLayoutSegments:function(){return s.useSelectedLayoutSegments}})},47393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(95155),l=a(24761),r=a(48879),n=a(26426),o=a(12115),c=a(35695),i=a(78087),d=a(6874),u=a.n(d),m=a(19989);function x(e){let{onExport:t}=e,a=(0,c.useRouter)(),r=(0,c.useSearchParams)(),n=(0,o.useRef)(null),d=(0,o.useRef)(null),[x,p]=(0,o.useState)((null==r?void 0:r.get("search"))||""),[h,g]=(0,o.useState)((null==r?void 0:r.get("search"))||""),[b,y]=(0,o.useState)(!1),[f,v]=(0,o.useState)((null==r?void 0:r.get("leadSource"))||""),[j,N]=(0,o.useState)((null==r?void 0:r.get("leadHeat"))||""),[w,E]=(0,o.useState)((null==r?void 0:r.get("status"))||""),[S,C]=(0,o.useState)((null==r?void 0:r.get("geographicLocation"))||""),[L,R]=(0,o.useState)((null==r?void 0:r.get("preferredEventType"))||""),[k,A]=(0,o.useState)(parseInt((null==r?void 0:r.get("page"))||"1")),T=(k-1)*20,W=(0,l.IT)(i.F.contacts.searchContacts,{search:x||void 0,leadSource:f||void 0,leadHeat:j||void 0,status:w||void 0,geographicLocation:S||void 0,preferredEventType:L||void 0,limit:20,offset:T}),H=(0,l.IT)(i.F.contacts.searchContacts,{search:h.length>=2?h:void 0,limit:10,offset:0}),I=(0,o.useCallback)(()=>{let e=new URLSearchParams;x&&e.set("search",x),f&&e.set("leadSource",f),j&&e.set("leadHeat",j),w&&e.set("status",w),S&&e.set("geographicLocation",S),L&&e.set("preferredEventType",L),k>1&&e.set("page",k.toString());let t=e.toString()?"?".concat(e.toString()):"";a.replace("/contacts".concat(t),{scroll:!1})},[x,f,j,w,S,L,k,a]);(0,o.useEffect)(()=>{I()},[I]);let O=e=>{p(e),g(e),y(!1),A(1)};(0,o.useEffect)(()=>{let e=e=>{d.current&&!d.current.contains(e.target)&&n.current&&!n.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let D=(e,t)=>{switch(A(1),e){case"leadSource":v(t);break;case"leadHeat":N(t);break;case"status":E(t);break;case"geographicLocation":C(t);break;case"preferredEventType":R(t)}},F=()=>{p(""),g(""),v(""),N(""),E(""),C(""),R(""),A(1),y(!1)},P=W?Math.ceil(W.total/20):0,U=x||f||j||w||S||L;return void 0===W?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]})]})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Contacts (",W.total,")"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Click any row to view contact details"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Tap rows for details â€¢ Scroll right to see all columns"})]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:t&&(0,s.jsx)("button",{onClick:()=>{t&&(null==W?void 0:W.contacts)&&t(W.contacts)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Export CSV"})})]})}),(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,s.jsx)("input",{ref:n,type:"text",value:h,onChange:e=>{var t;g(t=e.target.value),y(t.length>=2)},onKeyDown:e=>{"Enter"===e.key?O(h):"Escape"===e.key&&y(!1)},placeholder:"Search by name or email...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),b&&H&&H.contacts.length>0&&(0,s.jsxs)("div",{ref:d,className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:[H.contacts.map(e=>(0,s.jsxs)("button",{onClick:()=>O(e.name),className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]},e._id)),h&&!H.contacts.some(e=>e.name.toLowerCase()===h.toLowerCase()||e.email.toLowerCase()===h.toLowerCase())&&(0,s.jsx)("button",{onClick:()=>O(h),className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none border-t border-gray-200",children:(0,s.jsxs)("div",{className:"text-blue-600",children:['Search for "',h,'"']})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source"}),(0,s.jsxs)("select",{value:f,onChange:e=>D("leadSource",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Sources"}),(0,s.jsx)("option",{value:"WEBSITE",children:"Website"}),(0,s.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,s.jsx)("option",{value:"INSTAGRAM",children:"Instagram"}),(0,s.jsx)("option",{value:"LINKEDIN",children:"LinkedIn"}),(0,s.jsx)("option",{value:"REFERRAL",children:"Referral"}),(0,s.jsx)("option",{value:"DIRECT",children:"Direct"}),(0,s.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Heat"}),(0,s.jsxs)("select",{value:j,onChange:e=>D("leadHeat",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Heat Levels"}),(0,s.jsx)("option",{value:"HOT",children:"Hot"}),(0,s.jsx)("option",{value:"WARM",children:"Warm"}),(0,s.jsx)("option",{value:"COLD",children:"Cold"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{value:w,onChange:e=>D("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),(0,s.jsx)("option",{value:"UNQUALIFIED",children:"Unqualified"}),(0,s.jsx)("option",{value:"PROSPECT",children:"Prospect"}),(0,s.jsx)("option",{value:"LEAD",children:"Lead"}),(0,s.jsx)("option",{value:"QUALIFIED",children:"Qualified"}),(0,s.jsx)("option",{value:"CUSTOMER",children:"Customer"}),(0,s.jsx)("option",{value:"LOST",children:"Lost"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,s.jsxs)("select",{value:S,onChange:e=>D("geographicLocation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),m.An.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),(0,s.jsxs)("select",{value:L,onChange:e=>D("preferredEventType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Event Types"}),m.T7.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),U&&(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[W.total," results found"]}),(0,s.jsx)("button",{onClick:F,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none z-10 rounded-r-lg sm:hidden"}),(0,s.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg shadow-sm",children:W.contacts.length>0?(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",style:{minWidth:"1200px"},children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"150px"},children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"200px"},children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"120px"},children:"Phone"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"120px"},children:"Company"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"100px"},children:"Source"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"80px"},children:"Heat"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"120px"},children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"100px"},children:"Location"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"120px"},children:"Event Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{minWidth:"120px"},children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:W.contacts.map(e=>{var t,l;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:t=>{var s;return s=e._id,void(!t.target.closest("a, button")&&a.push("/contacts/".concat(s)))},role:"button",tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),a.push("/contacts/".concat(e._id)))},children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",style:{minWidth:"150px"},children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"200px"},children:e.email}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"120px"},children:e.phone||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"120px"},children:e.company||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"100px"},children:e.leadSource}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",style:{minWidth:"80px"},children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("HOT"===e.leadHeat?"bg-red-100 text-red-800":"WARM"===e.leadHeat?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.leadHeat})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",style:{minWidth:"120px"},children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"100px"},children:e.geographicLocation?(null==(t=m.An.find(t=>t.value===e.geographicLocation))?void 0:t.label)||e.geographicLocation:"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",style:{minWidth:"120px"},children:e.preferredEventType?(null==(l=m.T7.find(t=>t.value===e.preferredEventType))?void 0:l.label)||e.preferredEventType:"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",style:{minWidth:"120px"},children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(u(),{href:"/contacts/".concat(e._id),className:"text-blue-600 hover:text-blue-900 font-medium",onClick:e=>e.stopPropagation(),children:"View"}),(0,s.jsx)("span",{className:"text-gray-300",children:"|"}),(0,s.jsx)(u(),{href:"/contacts/".concat(e._id,"/edit"),className:"text-green-600 hover:text-green-900 font-medium",onClick:e=>e.stopPropagation(),children:"Edit"})]})})]},e._id)})})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:U?"No contacts found matching your filters.":"No contacts yet."}),U&&(0,s.jsx)("button",{onClick:F,className:"mt-2 text-blue-600 hover:text-blue-800 font-medium",children:"Clear filters to see all contacts"})]})})]}),P>1&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",T+1," to ",Math.min(T+20,W.total)," of ",W.total," contacts"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===k,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",k," of ",P]}),(0,s.jsx)("button",{onClick:()=>A(e=>Math.min(P,e+1)),disabled:k===P,className:"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}function p(e){if(!e)return"";let t=String(e).replace(/"/g,'""');return t.includes(",")||t.includes('"')||t.includes("\n")?'"'.concat(t,'"'):t}function h(){return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)(l.Yz,{children:(0,s.jsx)(g,{})}),(0,s.jsx)(l.hE,{children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to view contacts."}),(0,s.jsx)(r.hZ,{mode:"modal",children:(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Sign In"})})]})})]})})}function g(){return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Contact Management"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(n.V,{})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(x,{onExport:e=>{let t=["Name,Email,Phone,Company,Lead Source,Lead Heat,Status,Notes,Created Date,Updated Date",...e.map(e=>[p(e.name),p(e.email),p(e.phone||""),p(e.company||""),p(e.leadSource),p(e.leadHeat),p(e.status),p(e.notes||""),p(new Date(e.createdAt).toLocaleDateString()),p(new Date(e.updatedAt).toLocaleDateString())].join(","))].join("\n"),a=new Date().toISOString().replace(/[:.]/g,"-").split("T")[0];!function(e,t){let a=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(a);s.setAttribute("href",l),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l)}(t,"contacts-export-".concat(a,".csv"))}})})]})]})}},77818:(e,t,a)=>{Promise.resolve().then(a.bind(a,47393))},78087:(e,t,a)=>{"use strict";a.d(t,{F:()=>s});let s=a(3312).dp}},e=>{e.O(0,[761,312,879,874,750,441,964,358],()=>e(e.s=77818)),_N_E=e.O()}]);