(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{19989:(e,a,t)=>{"use strict";t.d(a,{An:()=>r,T7:()=>n,nI:()=>s});let s={COLD:{min:0,max:5},WARM:{min:6,max:15},HOT:{min:16,max:1/0}},n=[{value:"WEDDING",label:"Wedding"},{value:"CORPORATE",label:"Corporate Event"},{value:"BIRTHDAY",label:"Birthday Party"},{value:"ANNIVERSARY",label:"Anniversary"},{value:"CONFERENCE",label:"Conference"},{value:"WORKSHOP",label:"Workshop"},{value:"FUNDRAISER",label:"Fundraiser"},{value:"HOLIDAY",label:"Holiday Party"},{value:"REUNION",label:"Reunion"},{value:"OTHER",label:"Other"}],r=[{value:"BRUSSELS",label:"Brussels"},{value:"FLANDERS",label:"Flanders"},{value:"WALLONIA",label:"Wallonia"},{value:"ANTWERP",label:"Antwerp"},{value:"GHENT",label:"Ghent"},{value:"BRUGES",label:"Bruges"},{value:"LEUVEN",label:"Leuven"},{value:"NAMUR",label:"Namur"},{value:"LIEGE",label:"Li\xe8ge"},{value:"OTHER",label:"Other"}]},22754:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var s=t(95155),n=t(12115),r=t(35695),l=t(24761),o=t(78087),i=t(6874),c=t.n(i),d=t(93720),u=t(19989);function m(e){let{contactId:a}=e,t=(0,r.useRouter)(),i=(0,d.b)(a),m=(0,l.IT)(o.F.contacts.getContactById,i?{contactId:a}:"skip"),x=(0,l.n_)(o.F.contacts.updateContact),[h,p]=(0,n.useState)({name:"",email:"",phone:"",company:"",leadSource:"WEBSITE",leadHeat:"COLD",status:"UNQUALIFIED",notes:"",geographicLocation:"",preferredEventType:""}),[g,b]=(0,n.useState)(!1),[f,v]=(0,n.useState)({}),[y,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m&&p({name:m.name,email:m.email,phone:m.phone||"",company:m.company||"",leadSource:m.leadSource,leadHeat:m.leadHeat,status:m.status,notes:m.notes||"",geographicLocation:m.geographicLocation||"",preferredEventType:m.preferredEventType||""})},[m]),(0,n.useEffect)(()=>{m&&j(h.name!==m.name||h.email!==m.email||h.phone!==(m.phone||"")||h.company!==(m.company||"")||h.leadSource!==m.leadSource||h.leadHeat!==m.leadHeat||h.status!==m.status||h.notes!==(m.notes||"")||h.geographicLocation!==(m.geographicLocation||"")||h.preferredEventType!==(m.preferredEventType||""))},[h,m]);let N=(e,a)=>{p(t=>({...t,[e]:a})),f[e]&&v(a=>({...a,[e]:void 0}))},E=async e=>{if(e.preventDefault(),(()=>{let e={};return h.name.trim()||(e.name="Name is required"),h.email.trim()?(0,d.B9)(h.email)||(e.email="Please enter a valid email address"):e.email="Email is required",v(e),0===Object.keys(e).length})()){b(!0);try{await x({contactId:a,name:h.name,email:h.email,phone:h.phone||void 0,company:h.company||void 0,leadSource:h.leadSource,leadHeat:h.leadHeat,status:h.status,notes:h.notes||void 0,geographicLocation:h.geographicLocation||void 0,preferredEventType:h.preferredEventType||void 0}),t.push("/contacts/".concat(a))}catch(e){console.error("Failed to update contact:",e)}finally{b(!1)}}};return i?void 0===m?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})]})})}):null===m?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The contact you're trying to edit doesn't exist or has been deleted."}),(0,s.jsx)(c(),{href:"/contacts",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Contacts"})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,s.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,s.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,s.jsx)("li",{className:"inline-flex items-center",children:(0,s.jsxs)(c(),{href:"/contacts",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Contacts"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,s.jsx)(c(),{href:"/contacts/".concat(a),className:"ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2",children:m.name})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,s.jsx)("span",{className:"ml-1 text-sm font-medium text-gray-500 md:ml-2",children:"Edit"})]})})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Edit Contact"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Update contact information and details"})]}),(0,s.jsxs)("form",{onSubmit:E,className:"px-6 py-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,s.jsx)("input",{type:"text",id:"name",value:h.name,onChange:e=>N("name",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(f.name?"border-red-300":"border-gray-300"),placeholder:"Enter contact name"}),f.name&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,s.jsx)("input",{type:"email",id:"email",value:h.email,onChange:e=>N("email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(f.email?"border-red-300":"border-gray-300"),placeholder:"Enter email address"}),f.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,s.jsx)("input",{type:"tel",id:"phone",value:h.phone,onChange:e=>N("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),(0,s.jsx)("input",{type:"text",id:"company",value:h.company,onChange:e=>N("company",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Event & Location Preferences"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"geographicLocation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Geographic Location"}),(0,s.jsxs)("select",{id:"geographicLocation",value:h.geographicLocation,onChange:e=>N("geographicLocation",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select location..."}),u.An.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"preferredEventType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Event Type"}),(0,s.jsxs)("select",{id:"preferredEventType",value:h.preferredEventType,onChange:e=>N("preferredEventType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select event type..."}),u.T7.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lead Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leadSource",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source"}),(0,s.jsxs)("select",{id:"leadSource",value:h.leadSource,onChange:e=>N("leadSource",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"WEBSITE",children:"Website"}),(0,s.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,s.jsx)("option",{value:"INSTAGRAM",children:"Instagram"}),(0,s.jsx)("option",{value:"LINKEDIN",children:"LinkedIn"}),(0,s.jsx)("option",{value:"REFERRAL",children:"Referral"}),(0,s.jsx)("option",{value:"DIRECT",children:"Direct"}),(0,s.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"leadHeat",className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Heat"}),(0,s.jsxs)("select",{id:"leadHeat",value:h.leadHeat,onChange:e=>N("leadHeat",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"COLD",children:"Cold"}),(0,s.jsx)("option",{value:"WARM",children:"Warm"}),(0,s.jsx)("option",{value:"HOT",children:"Hot"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{id:"status",value:h.status,onChange:e=>N("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"UNQUALIFIED",children:"Unqualified"}),(0,s.jsx)("option",{value:"PROSPECT",children:"Prospect"}),(0,s.jsx)("option",{value:"LEAD",children:"Lead"}),(0,s.jsx)("option",{value:"QUALIFIED",children:"Qualified"}),(0,s.jsx)("option",{value:"CUSTOMER",children:"Customer"}),(0,s.jsx)("option",{value:"LOST",children:"Lost"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,s.jsx)("textarea",{id:"notes",rows:4,value:h.notes,onChange:e=>N("notes",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any notes about this contact..."})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{(!y||window.confirm("You have unsaved changes. Are you sure you want to discard them?"))&&t.push("/contacts/".concat(a))},className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:g||!y,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(g||!y?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:g?"Saving...":"Save Changes"})]})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Contact Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The contact you're trying to edit doesn't exist or has been deleted."}),(0,s.jsx)(c(),{href:"/contacts",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Contacts"})]})})})}var x=t(48879);function h(e){let{params:a}=e,{id:t}=(0,n.use)(a);return(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Yz,{children:(0,s.jsx)(m,{contactId:t})}),(0,s.jsx)(l.hE,{children:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Restricted"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to edit contact information."}),(0,s.jsx)(x.hZ,{mode:"modal",children:(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Sign In"})})]})})})]})}},35695:(e,a,t)=>{"use strict";var s=t(18999);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}}),t.o(s,"useSelectedLayoutSegments")&&t.d(a,{useSelectedLayoutSegments:function(){return s.useSelectedLayoutSegments}})},38197:(e,a,t)=>{Promise.resolve().then(t.bind(t,22754))},78087:(e,a,t)=>{"use strict";t.d(a,{F:()=>s});let s=t(3312).dp},93720:(e,a,t)=>{"use strict";function s(e){return"string"==typeof e&&e.length>10&&/^[a-zA-Z0-9]+$/.test(e)&&!e.includes("invalid")}function n(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.d(a,{B9:()=>n,b:()=>s})}},e=>{e.O(0,[761,312,879,874,441,964,358],()=>e(e.s=38197)),_N_E=e.O()}]);