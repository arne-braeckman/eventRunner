{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/forms/LeadCaptureForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { useState } from \"react\";\n\n// Define the form schema\nconst leadCaptureSchema = z.object({\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().optional(),\n  company: z.string().optional(),\n  leadSource: z.enum([\"WEBSITE\", \"FACEBOOK\", \"INSTAGRAM\", \"LINKEDIN\", \"REFERRAL\", \"DIRECT\", \"OTHER\"]),\n  leadHeat: z.enum([\"COLD\", \"WARM\", \"HOT\"]),\n  notes: z.string().optional(),\n});\n\ntype LeadCaptureForm = z.infer<typeof leadCaptureSchema>;\n\nexport function LeadCaptureForm() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\n  \n  const createContact = useMutation(api.contacts.createContact);\n  \n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm<LeadCaptureForm>({\n    resolver: zodResolver(leadCaptureSchema),\n    defaultValues: {\n      leadSource: \"WEBSITE\",\n      leadHeat: \"WARM\",\n    },\n  });\n\n  const onSubmit = async (data: LeadCaptureForm) => {\n    setIsSubmitting(true);\n    setSubmitMessage(null);\n    \n    try {\n      await createContact({\n        name: data.name,\n        email: data.email,\n        phone: data.phone || undefined,\n        company: data.company || undefined,\n        leadSource: data.leadSource,\n        leadHeat: data.leadHeat,\n        notes: data.notes || undefined,\n      });\n      \n      setSubmitMessage({ type: 'success', message: 'Contact created successfully!' });\n      reset();\n    } catch (error) {\n      console.error('Error creating contact:', error);\n      setSubmitMessage({ type: 'error', message: 'Failed to create contact. Please try again.' });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Capture New Lead</h2>\n      \n      {submitMessage && (\n        <div className={`mb-4 p-3 rounded ${\n          submitMessage.type === 'success' \n            ? 'bg-green-100 text-green-700 border border-green-300' \n            : 'bg-red-100 text-red-700 border border-red-300'\n        }`}>\n          {submitMessage.message}\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n        {/* Name Field */}\n        <div>\n          <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Name *\n          </label>\n          <input\n            {...register(\"name\")}\n            type=\"text\"\n            id=\"name\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Enter contact name\"\n          />\n          {errors.name && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.name.message}</p>\n          )}\n        </div>\n\n        {/* Email Field */}\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Email *\n          </label>\n          <input\n            {...register(\"email\")}\n            type=\"email\"\n            id=\"email\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Enter email address\"\n          />\n          {errors.email && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.email.message}</p>\n          )}\n        </div>\n\n        {/* Phone Field */}\n        <div>\n          <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Phone\n          </label>\n          <input\n            {...register(\"phone\")}\n            type=\"tel\"\n            id=\"phone\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Enter phone number\"\n          />\n        </div>\n\n        {/* Company Field */}\n        <div>\n          <label htmlFor=\"company\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Company\n          </label>\n          <input\n            {...register(\"company\")}\n            type=\"text\"\n            id=\"company\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Enter company name\"\n          />\n        </div>\n\n        {/* Lead Source Field */}\n        <div>\n          <label htmlFor=\"leadSource\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Lead Source *\n          </label>\n          <select\n            {...register(\"leadSource\")}\n            id=\"leadSource\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"WEBSITE\">Website</option>\n            <option value=\"FACEBOOK\">Facebook</option>\n            <option value=\"INSTAGRAM\">Instagram</option>\n            <option value=\"LINKEDIN\">LinkedIn</option>\n            <option value=\"REFERRAL\">Referral</option>\n            <option value=\"DIRECT\">Direct</option>\n            <option value=\"OTHER\">Other</option>\n          </select>\n          {errors.leadSource && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.leadSource.message}</p>\n          )}\n        </div>\n\n        {/* Lead Heat Field */}\n        <div>\n          <label htmlFor=\"leadHeat\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Lead Heat *\n          </label>\n          <select\n            {...register(\"leadHeat\")}\n            id=\"leadHeat\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"COLD\">Cold</option>\n            <option value=\"WARM\">Warm</option>\n            <option value=\"HOT\">Hot</option>\n          </select>\n          {errors.leadHeat && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.leadHeat.message}</p>\n          )}\n        </div>\n\n        {/* Notes Field */}\n        <div>\n          <label htmlFor=\"notes\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Notes\n          </label>\n          <textarea\n            {...register(\"notes\")}\n            id=\"notes\"\n            rows={3}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Additional notes about this lead...\"\n          />\n        </div>\n\n        {/* Submit Button */}\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSubmitting ? 'Creating Contact...' : 'Create Contact'}\n        </button>\n      </form>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 461, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/contacts/ContactList.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport Link from 'next/link';\n\ntype LeadSource = \"WEBSITE\" | \"FACEBOOK\" | \"INSTAGRAM\" | \"LINKEDIN\" | \"REFERRAL\" | \"DIRECT\" | \"OTHER\";\ntype LeadHeat = \"COLD\" | \"WARM\" | \"HOT\";\ntype ContactStatus = \"UNQUALIFIED\" | \"PROSPECT\" | \"LEAD\" | \"QUALIFIED\" | \"CUSTOMER\" | \"LOST\";\n\ninterface ContactListProps {\n  onExport?: (filteredContacts: any[]) => void;\n}\n\nexport function ContactList({ onExport }: ContactListProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  \n  // State from URL parameters\n  const [appliedSearch, setAppliedSearch] = useState(searchParams?.get('search') || '');\n  const [searchInput, setSearchInput] = useState(searchParams?.get('search') || '');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [leadSource, setLeadSource] = useState<LeadSource | ''>(\n    (searchParams?.get('leadSource') as LeadSource) || ''\n  );\n  const [leadHeat, setLeadHeat] = useState<LeadHeat | ''>(\n    (searchParams?.get('leadHeat') as LeadHeat) || ''\n  );\n  const [status, setStatus] = useState<ContactStatus | ''>(\n    (searchParams?.get('status') as ContactStatus) || ''\n  );\n  const [currentPage, setCurrentPage] = useState(\n    parseInt(searchParams?.get('page') || '1')\n  );\n\n  const limit = 20;\n  const offset = (currentPage - 1) * limit;\n\n  // Query with filters (using appliedSearch, not searchInput)\n  const contactsData = useQuery(api.contacts.searchContacts, {\n    search: appliedSearch || undefined,\n    leadSource: leadSource || undefined,\n    leadHeat: leadHeat || undefined,\n    status: status || undefined,\n    limit,\n    offset,\n  });\n\n  // Query for search suggestions (limited results for dropdown)\n  const suggestionsData = useQuery(api.contacts.searchContacts, {\n    search: searchInput.length >= 2 ? searchInput : undefined,\n    limit: 10,\n    offset: 0,\n  });\n\n  // Update URL when filters change\n  const updateURL = useCallback(() => {\n    const params = new URLSearchParams();\n    if (appliedSearch) params.set('search', appliedSearch);\n    if (leadSource) params.set('leadSource', leadSource);\n    if (leadHeat) params.set('leadHeat', leadHeat);\n    if (status) params.set('status', status);\n    if (currentPage > 1) params.set('page', currentPage.toString());\n    \n    const newURL = params.toString() ? `?${params.toString()}` : '';\n    router.replace(`/contacts${newURL}`, { scroll: false });\n  }, [appliedSearch, leadSource, leadHeat, status, currentPage, router]);\n\n  useEffect(() => {\n    updateURL();\n  }, [updateURL]);\n\n  // Handle search input changes\n  const handleSearchInputChange = (value: string) => {\n    setSearchInput(value);\n    setShowSuggestions(value.length >= 2);\n  };\n\n  // Apply search (when user selects suggestion or presses Enter)\n  const applySearch = (searchValue: string) => {\n    setAppliedSearch(searchValue);\n    setSearchInput(searchValue);\n    setShowSuggestions(false);\n    setCurrentPage(1);\n  };\n\n  // Handle clicking outside dropdown\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node) &&\n          searchInputRef.current && !searchInputRef.current.contains(event.target as Node)) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleFilterChange = (filterType: string, value: any) => {\n    setCurrentPage(1);\n    switch (filterType) {\n      case 'leadSource':\n        setLeadSource(value);\n        break;\n      case 'leadHeat':\n        setLeadHeat(value);\n        break;\n      case 'status':\n        setStatus(value);\n        break;\n    }\n  };\n\n  const clearFilters = () => {\n    setAppliedSearch('');\n    setSearchInput('');\n    setLeadSource('');\n    setLeadHeat('');\n    setStatus('');\n    setCurrentPage(1);\n    setShowSuggestions(false);\n  };\n\n  const handleExport = () => {\n    if (onExport && contactsData?.contacts) {\n      onExport(contactsData.contacts);\n    }\n  };\n\n  const totalPages = contactsData ? Math.ceil(contactsData.total / limit) : 0;\n  const hasFilters = appliedSearch || leadSource || leadHeat || status;\n\n  if (contactsData === undefined) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          <div className=\"space-y-3\">\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n            <div className=\"h-4 bg-gray-200 rounded\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow\">\n      {/* Header */}\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            Contacts ({contactsData.total})\n          </h2>\n          <div className=\"flex gap-2\">\n            {onExport && (\n              <button\n                onClick={handleExport}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                Export CSV\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"px-6 py-4 border-b border-gray-200 bg-gray-50\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {/* Search */}\n          <div className=\"relative\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Search\n            </label>\n            <input\n              ref={searchInputRef}\n              type=\"text\"\n              value={searchInput}\n              onChange={(e) => handleSearchInputChange(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  applySearch(searchInput);\n                } else if (e.key === 'Escape') {\n                  setShowSuggestions(false);\n                }\n              }}\n              placeholder=\"Search by name or email...\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            \n            {/* Search Suggestions Dropdown */}\n            {showSuggestions && suggestionsData && suggestionsData.contacts.length > 0 && (\n              <div\n                ref={dropdownRef}\n                className=\"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto\"\n              >\n                {suggestionsData.contacts.map((contact) => (\n                  <button\n                    key={contact._id}\n                    onClick={() => applySearch(contact.name)}\n                    className=\"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none border-b border-gray-100 last:border-b-0\"\n                  >\n                    <div className=\"font-medium text-gray-900\">{contact.name}</div>\n                    <div className=\"text-sm text-gray-500\">{contact.email}</div>\n                  </button>\n                ))}\n                {searchInput && !suggestionsData.contacts.some(c => \n                  c.name.toLowerCase() === searchInput.toLowerCase() || \n                  c.email.toLowerCase() === searchInput.toLowerCase()\n                ) && (\n                  <button\n                    onClick={() => applySearch(searchInput)}\n                    className=\"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none border-t border-gray-200\"\n                  >\n                    <div className=\"text-blue-600\">Search for \"{searchInput}\"</div>\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Lead Source Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Lead Source\n            </label>\n            <select\n              value={leadSource}\n              onChange={(e) => handleFilterChange('leadSource', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Sources</option>\n              <option value=\"WEBSITE\">Website</option>\n              <option value=\"FACEBOOK\">Facebook</option>\n              <option value=\"INSTAGRAM\">Instagram</option>\n              <option value=\"LINKEDIN\">LinkedIn</option>\n              <option value=\"REFERRAL\">Referral</option>\n              <option value=\"DIRECT\">Direct</option>\n              <option value=\"OTHER\">Other</option>\n            </select>\n          </div>\n\n          {/* Lead Heat Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Lead Heat\n            </label>\n            <select\n              value={leadHeat}\n              onChange={(e) => handleFilterChange('leadHeat', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Heat Levels</option>\n              <option value=\"HOT\">Hot</option>\n              <option value=\"WARM\">Warm</option>\n              <option value=\"COLD\">Cold</option>\n            </select>\n          </div>\n\n          {/* Status Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Status\n            </label>\n            <select\n              value={status}\n              onChange={(e) => handleFilterChange('status', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Statuses</option>\n              <option value=\"UNQUALIFIED\">Unqualified</option>\n              <option value=\"PROSPECT\">Prospect</option>\n              <option value=\"LEAD\">Lead</option>\n              <option value=\"QUALIFIED\">Qualified</option>\n              <option value=\"CUSTOMER\">Customer</option>\n              <option value=\"LOST\">Lost</option>\n            </select>\n          </div>\n        </div>\n\n        {hasFilters && (\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"text-sm text-gray-500\">\n              {contactsData.total} results found\n            </div>\n            <button\n              onClick={clearFilters}\n              className=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\n            >\n              Clear all filters\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Table */}\n      <div className=\"overflow-x-auto\">\n        {contactsData.contacts.length > 0 ? (\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Name\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Email\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Phone\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Company\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Source\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Heat\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {contactsData.contacts.map((contact) => (\n                <tr key={contact._id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm font-medium text-gray-900\">{contact.name}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {contact.email}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {contact.phone || '-'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {contact.company || '-'}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {contact.leadSource}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                      contact.leadHeat === 'HOT' ? 'bg-red-100 text-red-800' :\n                      contact.leadHeat === 'WARM' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-blue-100 text-blue-800'\n                    }`}>\n                      {contact.leadHeat}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800\">\n                      {contact.status}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <Link\n                      href={`/contacts/${contact._id}`}\n                      className=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      View\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-500 text-lg\">\n              {hasFilters ? 'No contacts found matching your filters.' : 'No contacts yet.'}\n            </p>\n            {hasFilters && (\n              <button\n                onClick={clearFilters}\n                className=\"mt-2 text-blue-600 hover:text-blue-800 font-medium\"\n              >\n                Clear filters to see all contacts\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between\">\n          <div className=\"text-sm text-gray-500\">\n            Showing {offset + 1} to {Math.min(offset + limit, contactsData.total)} of {contactsData.total} contacts\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n              disabled={currentPage === 1}\n              className=\"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n            >\n              Previous\n            </button>\n            <span className=\"text-sm text-gray-700\">\n              Page {currentPage} of {totalPages}\n            </span>\n            <button\n              onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n              disabled={currentPage === totalPages}\n              className=\"px-3 py-1 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n            >\n              Next\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/lib/utils/contacts.ts"],"sourcesContent":["import type { Id } from \"../../../convex/_generated/dataModel\";\n\nexport interface Contact {\n  _id: Id<\"contacts\">;\n  name: string;\n  email: string;\n  phone?: string;\n  company?: string;\n  leadSource: \"WEBSITE\" | \"FACEBOOK\" | \"INSTAGRAM\" | \"LINKEDIN\" | \"REFERRAL\" | \"DIRECT\" | \"OTHER\";\n  leadHeat: \"COLD\" | \"WARM\" | \"HOT\";\n  status: \"UNQUALIFIED\" | \"PROSPECT\" | \"LEAD\" | \"QUALIFIED\" | \"CUSTOMER\" | \"LOST\";\n  notes?: string;\n  assignedTo?: Id<\"users\">;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport function exportContactsToCSV(contacts: Contact[]): void {\n  // Define CSV headers\n  const headers = [\n    'Name',\n    'Email', \n    'Phone',\n    'Company',\n    'Lead Source',\n    'Lead Heat',\n    'Status',\n    'Notes',\n    'Created Date',\n    'Updated Date'\n  ];\n\n  // Convert contacts to CSV rows\n  const csvRows = [\n    headers.join(','),\n    ...contacts.map(contact => [\n      escapeCSVField(contact.name),\n      escapeCSVField(contact.email),\n      escapeCSVField(contact.phone || ''),\n      escapeCSVField(contact.company || ''),\n      escapeCSVField(contact.leadSource),\n      escapeCSVField(contact.leadHeat),\n      escapeCSVField(contact.status),\n      escapeCSVField(contact.notes || ''),\n      escapeCSVField(new Date(contact.createdAt).toLocaleDateString()),\n      escapeCSVField(new Date(contact.updatedAt).toLocaleDateString())\n    ].join(','))\n  ];\n\n  // Create CSV content\n  const csvContent = csvRows.join('\\n');\n\n  // Generate filename with timestamp\n  const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T')[0];\n  const filename = `contacts-export-${timestamp}.csv`;\n\n  // Create and trigger download\n  downloadCSV(csvContent, filename);\n}\n\nfunction escapeCSVField(field: string): string {\n  // Handle null/undefined\n  if (!field) return '';\n  \n  // Convert to string and escape quotes\n  const escaped = String(field).replace(/\"/g, '\"\"');\n  \n  // Wrap in quotes if contains comma, quote, or newline\n  if (escaped.includes(',') || escaped.includes('\"') || escaped.includes('\\n')) {\n    return `\"${escaped}\"`;\n  }\n  \n  return escaped;\n}\n\nfunction downloadCSV(content: string, filename: string): void {\n  // Create blob with UTF-8 BOM for proper Excel compatibility\n  const BOM = '\\uFEFF';\n  const blob = new Blob([BOM + content], { type: 'text/csv;charset=utf-8;' });\n  \n  // Create download link\n  const link = document.createElement('a');\n  const url = URL.createObjectURL(blob);\n  \n  link.setAttribute('href', url);\n  link.setAttribute('download', filename);\n  link.style.visibility = 'hidden';\n  \n  // Trigger download\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  \n  // Clean up\n  URL.revokeObjectURL(url);\n}\n\nexport function processContactsInChunks<T>(\n  contacts: Contact[],\n  processor: (chunk: Contact[]) => T,\n  chunkSize: number = 1000\n): T[] {\n  const results: T[] = [];\n  \n  for (let i = 0; i < contacts.length; i += chunkSize) {\n    const chunk = contacts.slice(i, i + chunkSize);\n    results.push(processor(chunk));\n  }\n  \n  return results;\n}"],"names":[],"mappings":";;;;AAiBO,SAAS,oBAAoB,QAAmB;IACrD,qBAAqB;IACrB,MAAM,UAAU;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,+BAA+B;IAC/B,MAAM,UAAU;QACd,QAAQ,IAAI,CAAC;WACV,SAAS,GAAG,CAAC,CAAA,UAAW;gBACzB,eAAe,QAAQ,IAAI;gBAC3B,eAAe,QAAQ,KAAK;gBAC5B,eAAe,QAAQ,KAAK,IAAI;gBAChC,eAAe,QAAQ,OAAO,IAAI;gBAClC,eAAe,QAAQ,UAAU;gBACjC,eAAe,QAAQ,QAAQ;gBAC/B,eAAe,QAAQ,MAAM;gBAC7B,eAAe,QAAQ,KAAK,IAAI;gBAChC,eAAe,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB;gBAC7D,eAAe,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB;aAC9D,CAAC,IAAI,CAAC;KACR;IAED,qBAAqB;IACrB,MAAM,aAAa,QAAQ,IAAI,CAAC;IAEhC,mCAAmC;IACnC,MAAM,YAAY,IAAI,OAAO,WAAW,GAAG,OAAO,CAAC,SAAS,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE;IAC9E,MAAM,WAAW,AAAC,mBAA4B,OAAV,WAAU;IAE9C,8BAA8B;IAC9B,YAAY,YAAY;AAC1B;AAEA,SAAS,eAAe,KAAa;IACnC,wBAAwB;IACxB,IAAI,CAAC,OAAO,OAAO;IAEnB,sCAAsC;IACtC,MAAM,UAAU,OAAO,OAAO,OAAO,CAAC,MAAM;IAE5C,sDAAsD;IACtD,IAAI,QAAQ,QAAQ,CAAC,QAAQ,QAAQ,QAAQ,CAAC,QAAQ,QAAQ,QAAQ,CAAC,OAAO;QAC5E,OAAO,AAAC,IAAW,OAAR,SAAQ;IACrB;IAEA,OAAO;AACT;AAEA,SAAS,YAAY,OAAe,EAAE,QAAgB;IACpD,4DAA4D;IAC5D,MAAM,MAAM;IACZ,MAAM,OAAO,IAAI,KAAK;QAAC,MAAM;KAAQ,EAAE;QAAE,MAAM;IAA0B;IAEzE,uBAAuB;IACvB,MAAM,OAAO,SAAS,aAAa,CAAC;IACpC,MAAM,MAAM,IAAI,eAAe,CAAC;IAEhC,KAAK,YAAY,CAAC,QAAQ;IAC1B,KAAK,YAAY,CAAC,YAAY;IAC9B,KAAK,KAAK,CAAC,UAAU,GAAG;IAExB,mBAAmB;IACnB,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,KAAK,KAAK;IACV,SAAS,IAAI,CAAC,WAAW,CAAC;IAE1B,WAAW;IACX,IAAI,eAAe,CAAC;AACtB;AAEO,SAAS,wBACd,QAAmB,EACnB,SAAkC;QAClC,YAAA,iEAAoB;IAEpB,MAAM,UAAe,EAAE;IAEvB,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,KAAK,UAAW;QACnD,MAAM,QAAQ,SAAS,KAAK,CAAC,GAAG,IAAI;QACpC,QAAQ,IAAI,CAAC,UAAU;IACzB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1487, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/app/contacts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Authenticated, Unauthenticated } from \"convex/react\";\nimport { SignInButton } from \"@clerk/nextjs\";\nimport { LeadCaptureForm } from \"~/components/forms/LeadCaptureForm\";\nimport { ContactList } from \"~/components/features/contacts/ContactList\";\nimport { exportContactsToCSV } from \"~/lib/utils/contacts\";\n\nexport default function ContactsPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <Authenticated>\n          <ContactsContent />\n        </Authenticated>\n        \n        <Unauthenticated>\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Access Restricted</h1>\n            <p className=\"text-gray-600 mb-6\">Please sign in to view contacts.</p>\n            <SignInButton mode=\"modal\">\n              <button className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n                Sign In\n              </button>\n            </SignInButton>\n          </div>\n        </Unauthenticated>\n      </div>\n    </div>\n  );\n}\n\nfunction ContactsContent() {\n  const handleExport = (contacts: any[]) => {\n    exportContactsToCSV(contacts);\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Contact Management</h1>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        {/* Lead Capture Form */}\n        <div className=\"lg:col-span-1\">\n          <LeadCaptureForm />\n        </div>\n\n        {/* Enhanced Contacts List */}\n        <div className=\"lg:col-span-2\">\n          <ContactList onExport={handleExport} />\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iKAAA,CAAA,gBAAa;8BACZ,cAAA,6LAAC;;;;;;;;;;8BAGH,6LAAC,iKAAA,CAAA,kBAAe;8BACd,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,6LAAC,8KAAA,CAAA,eAAY;gCAAC,MAAK;0CACjB,cAAA,6LAAC;oCAAO,WAAU;8CAAuE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvG;KAtBwB;AAwBxB,SAAS;IACP,MAAM,eAAe,CAAC;QACpB,CAAA,GAAA,kIAAA,CAAA,sBAAmB,AAAD,EAAE;IACtB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAmC;;;;;;;;;;;0BAGnD,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,iJAAA,CAAA,kBAAe;;;;;;;;;;kCAIlB,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,4JAAA,CAAA,cAAW;4BAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAKjC;MAxBS","debugId":null}}]
}