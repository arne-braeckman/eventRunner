{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { \n  Calendar, \n  Users, \n  Euro, \n  MapPin, \n  Clock,\n  MoreHorizontal,\n  Edit,\n  Trash2,\n  User,\n  AlertTriangle\n} from \"lucide-react\";\nimport type { Opportunity } from \"~/lib/types/opportunity\";\nimport { format } from \"date-fns\";\n\ninterface OpportunityCardProps {\n  opportunity: Opportunity;\n  isDragging?: boolean;\n  onEdit?: (opportunity: Opportunity) => void;\n  onDelete?: (opportunityId: string) => void;\n  isSelected?: boolean;\n  onToggleSelection?: (opportunity: Opportunity) => void;\n  isSelectionMode?: boolean;\n  allOpportunities?: Opportunity[];\n}\n\nconst EVENT_TYPE_COLORS: Record<string, string> = {\n  WEDDING: \"bg-pink-100 text-pink-800\",\n  CORPORATE: \"bg-blue-100 text-blue-800\",\n  GALA: \"bg-purple-100 text-purple-800\",\n  CONFERENCE: \"bg-green-100 text-green-800\",\n  BIRTHDAY: \"bg-yellow-100 text-yellow-800\",\n  ANNIVERSARY: \"bg-indigo-100 text-indigo-800\",\n  OTHER: \"bg-gray-100 text-gray-800\",\n};\n\nexport function OpportunityCard({ \n  opportunity, \n  isDragging, \n  onEdit, \n  onDelete, \n  isSelected, \n  onToggleSelection, \n  isSelectionMode,\n  allOpportunities = []\n}: OpportunityCardProps) {\n  const [showActions, setShowActions] = useState(false);\n  \n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging: isSortableDragging,\n  } = useSortable({\n    id: opportunity._id,\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  const eventTypeColor = EVENT_TYPE_COLORS[opportunity.eventType] || EVENT_TYPE_COLORS.OTHER;\n  \n  // Check for date conflicts with other opportunities\n  const hasDateConflict = allOpportunities.some(opp => \n    opp._id !== opportunity._id && \n    opp.isActive && \n    new Date(opp.eventDate).toDateString() === new Date(opportunity.eventDate).toDateString()\n  );\n  \n  const conflictingOpportunities = allOpportunities.filter(opp =>\n    opp._id !== opportunity._id && \n    opp.isActive && \n    new Date(opp.eventDate).toDateString() === new Date(opportunity.eventDate).toDateString()\n  );\n\n  if (isDragging || isSortableDragging) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-lg border-2 border-blue-300 p-4 opacity-50 rotate-2\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h4 className=\"font-semibold text-gray-900 truncate\">{opportunity.name}</h4>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className={`\n        bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-all cursor-grab active:cursor-grabbing\n        ${isSelected ? 'border-blue-500 bg-blue-50' : hasDateConflict ? 'border-orange-300 bg-orange-50' : 'border-gray-200'}\n        ${isSelectionMode ? 'cursor-pointer' : ''}\n        ${hasDateConflict ? 'ring-1 ring-orange-200' : ''}\n      `}\n      onMouseEnter={() => setShowActions(true)}\n      onMouseLeave={() => setShowActions(false)}\n      onClick={(e) => {\n        if (isSelectionMode && e.ctrlKey || e.metaKey) {\n          e.preventDefault();\n          e.stopPropagation();\n          onToggleSelection?.(opportunity);\n        }\n      }}\n    >\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex items-center space-x-2 flex-1\">\n          {isSelectionMode && (\n            <input\n              type=\"checkbox\"\n              checked={isSelected}\n              onChange={(e) => {\n                e.stopPropagation();\n                onToggleSelection?.(opportunity);\n              }}\n              className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n            />\n          )}\n          <h4 className=\"font-semibold text-gray-900 truncate\">{opportunity.name}</h4>\n        </div>\n        \n        {showActions && !isSelectionMode && (\n          <div className=\"flex items-center space-x-1\">\n            <button \n              onClick={(e) => {\n                e.stopPropagation();\n                onEdit?.(opportunity);\n              }}\n              className=\"p-1 hover:bg-gray-100 rounded\"\n              title=\"Edit opportunity\"\n            >\n              <Edit className=\"w-4 h-4 text-gray-500\" />\n            </button>\n            <button \n              onClick={(e) => {\n                e.stopPropagation();\n                if (confirm(\"Are you sure you want to delete this opportunity?\")) {\n                  onDelete?.(opportunity._id);\n                }\n              }}\n              className=\"p-1 hover:bg-gray-100 rounded\"\n              title=\"Delete opportunity\"\n            >\n              <Trash2 className=\"w-4 h-4 text-red-500\" />\n            </button>\n            <button className=\"p-1 hover:bg-gray-100 rounded\">\n              <MoreHorizontal className=\"w-4 h-4 text-gray-500\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Event Type Badge */}\n      <div className=\"mb-3\">\n        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${eventTypeColor}`}>\n          {opportunity.eventType.toLowerCase().replace('_', ' ')}\n        </span>\n      </div>\n\n      {/* Value and Probability */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <Euro className=\"w-4 h-4 mr-1\" />\n          <span className=\"font-medium\">€{opportunity.value.toLocaleString()}</span>\n        </div>\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <span className=\"font-medium\">{opportunity.probability || 0}%</span>\n        </div>\n      </div>\n\n      {/* Event Details */}\n      <div className=\"space-y-2 text-sm text-gray-600\">\n        {/* Event Date */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <Calendar className=\"w-4 h-4 mr-2\" />\n            <span>{format(new Date(opportunity.eventDate), 'MMM dd, yyyy')}</span>\n          </div>\n          {hasDateConflict && (\n            <div className=\"flex items-center\" title={`Date conflict with ${conflictingOpportunities.length} other opportunity/opportunities`}>\n              <AlertTriangle className=\"w-4 h-4 text-orange-500\" />\n              <span className=\"text-xs text-orange-600 ml-1\">{conflictingOpportunities.length}</span>\n            </div>\n          )}\n        </div>\n\n        {/* Guest Count */}\n        <div className=\"flex items-center\">\n          <Users className=\"w-4 h-4 mr-2\" />\n          <span>{opportunity.guestCount} guests</span>\n        </div>\n\n        {/* Venue Requirements */}\n        {opportunity.venueRequirements && (\n          <div className=\"flex items-center\">\n            <MapPin className=\"w-4 h-4 mr-2\" />\n            <span className=\"truncate\">{opportunity.venueRequirements}</span>\n          </div>\n        )}\n\n        {/* Expected Close Date */}\n        {opportunity.expectedCloseDate && (\n          <div className=\"flex items-center\">\n            <Clock className=\"w-4 h-4 mr-2\" />\n            <span>Close: {format(new Date(opportunity.expectedCloseDate), 'MMM dd')}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Description */}\n      {opportunity.description && (\n        <div className=\"mt-3 pt-3 border-t border-gray-100\">\n          <p className=\"text-sm text-gray-600 line-clamp-2\">{opportunity.description}</p>\n        </div>\n      )}\n\n      {/* Footer */}\n      <div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\">\n        <div className=\"text-xs text-gray-500\">\n          Updated {format(new Date(opportunity.updatedAt), 'MMM dd')}\n        </div>\n        \n        {opportunity.assignedTo && (\n          <div className=\"flex items-center text-xs text-gray-500\">\n            <User className=\"w-3 h-3 mr-1\" />\n            <span>Assigned</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/KanbanColumn.tsx"],"sourcesContent":["\"use client\";\n\nimport { useDroppable } from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { OpportunityCard } from \"./OpportunityCard\";\nimport type { Opportunity, OpportunityStage } from \"~/lib/types/opportunity\";\n\ninterface KanbanColumnProps {\n  id: OpportunityStage;\n  title: string;\n  color: string;\n  opportunities: Opportunity[];\n  allOpportunities?: Opportunity[];\n  onEditOpportunity?: (opportunity: Opportunity) => void;\n  onDeleteOpportunity?: (opportunityId: string) => void;\n  selectedOpportunities?: Opportunity[];\n  onToggleSelection?: (opportunity: Opportunity) => void;\n  isSelectionMode?: boolean;\n}\n\nexport function KanbanColumn({ \n  id, \n  title, \n  color, \n  opportunities, \n  allOpportunities = [],\n  onEditOpportunity, \n  onDeleteOpportunity,\n  selectedOpportunities = [],\n  onToggleSelection,\n  isSelectionMode = false\n}: KanbanColumnProps) {\n  const { setNodeRef, isOver } = useDroppable({\n    id,\n  });\n\n  const totalValue = opportunities.reduce((sum, opp) => sum + opp.value, 0);\n  const count = opportunities.length;\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={`\n        flex flex-col rounded-lg border-2 border-dashed p-4 min-h-[500px]\n        ${color}\n        ${isOver ? 'border-blue-500 bg-blue-50' : ''}\n        transition-colors duration-200\n      `}\n    >\n      <div className=\"mb-4\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h3 className=\"font-semibold text-gray-900\">{title}</h3>\n          <span className=\"bg-white rounded-full px-2 py-1 text-xs font-medium text-gray-600\">\n            {count}\n          </span>\n        </div>\n        <div className=\"text-sm text-gray-600\">\n          €{totalValue.toLocaleString()}\n        </div>\n      </div>\n\n      <SortableContext\n        items={opportunities.map(opp => opp._id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div className=\"space-y-3 flex-1\">\n          {opportunities.map((opportunity) => (\n            <OpportunityCard\n              key={opportunity._id}\n              opportunity={opportunity}\n              allOpportunities={allOpportunities}\n              onEdit={onEditOpportunity}\n              onDelete={onDeleteOpportunity}\n              isSelected={selectedOpportunities.some(selected => selected._id === opportunity._id)}\n              onToggleSelection={onToggleSelection}\n              isSelectionMode={isSelectionMode}\n            />\n          ))}\n        </div>\n      </SortableContext>\n\n      {count === 0 && (\n        <div className=\"flex-1 flex items-center justify-center text-gray-400\">\n          <p className=\"text-sm\">Drop opportunities here</p>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAoBO,SAAS,aAAa,KAWT;QAXS,EAC3B,EAAE,EACF,KAAK,EACL,KAAK,EACL,aAAa,EACb,mBAAmB,EAAE,EACrB,iBAAiB,EACjB,mBAAmB,EACnB,wBAAwB,EAAE,EAC1B,iBAAiB,EACjB,kBAAkB,KAAK,EACL,GAXS;;IAY3B,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,eAAY,AAAD,EAAE;QAC1C;IACF;IAEA,MAAM,aAAa,cAAc,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,KAAK,EAAE;IACvE,MAAM,QAAQ,cAAc,MAAM;IAElC,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,AAAC,wFAGR,OADA,OAAM,cACqC,OAA3C,SAAS,+BAA+B,IAAG;;0BAI/C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,6LAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;;kCAGL,6LAAC;wBAAI,WAAU;;4BAAwB;4BACnC,WAAW,cAAc;;;;;;;;;;;;;0BAI/B,6LAAC,sKAAA,CAAA,kBAAe;gBACd,OAAO,cAAc,GAAG,CAAC,CAAA,MAAO,IAAI,GAAG;gBACvC,UAAU,sKAAA,CAAA,8BAA2B;0BAErC,cAAA,6LAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC,4BAClB,6LAAC,qKAAA,CAAA,kBAAe;4BAEd,aAAa;4BACb,kBAAkB;4BAClB,QAAQ;4BACR,UAAU;4BACV,YAAY,sBAAsB,IAAI,CAAC,CAAA,WAAY,SAAS,GAAG,KAAK,YAAY,GAAG;4BACnF,mBAAmB;4BACnB,iBAAiB;2BAPZ,YAAY,GAAG;;;;;;;;;;;;;;;YAa3B,UAAU,mBACT,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;;;;;;AAKjC;GApEgB;;QAYiB,8JAAA,CAAA,eAAY;;;KAZ7B","debugId":null}},
    {"offset": {"line": 629, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/KanbanBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  DndContext,\n  type DragEndEvent,\n  DragOverlay,\n  type DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { arrayMove, SortableContext } from \"@dnd-kit/sortable\";\nimport { KanbanColumn } from \"./KanbanColumn\";\nimport { OpportunityCard } from \"./OpportunityCard\";\nimport type { Opportunity, OpportunityStage } from \"~/lib/types/opportunity\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\n\ninterface KanbanBoardProps {\n  opportunities: Opportunity[];\n  onEditOpportunity?: (opportunity: Opportunity) => void;\n  onDeleteOpportunity?: (opportunityId: string) => void;\n  selectedOpportunities?: Opportunity[];\n  onToggleSelection?: (opportunity: Opportunity) => void;\n  isSelectionMode?: boolean;\n}\n\nconst PIPELINE_STAGES: { id: OpportunityStage; title: string; color: string }[] = [\n  { id: \"PROSPECT\", title: \"Prospect\", color: \"bg-gray-100 border-gray-300\" },\n  { id: \"QUALIFIED\", title: \"Qualified\", color: \"bg-blue-100 border-blue-300\" },\n  { id: \"PROPOSAL\", title: \"Proposal\", color: \"bg-yellow-100 border-yellow-300\" },\n  { id: \"NEGOTIATION\", title: \"Negotiation\", color: \"bg-orange-100 border-orange-300\" },\n  { id: \"CLOSED_WON\", title: \"Closed Won\", color: \"bg-green-100 border-green-300\" },\n  { id: \"CLOSED_LOST\", title: \"Closed Lost\", color: \"bg-red-100 border-red-300\" },\n];\n\nexport function KanbanBoard({ \n  opportunities, \n  onEditOpportunity, \n  onDeleteOpportunity, \n  selectedOpportunities = [], \n  onToggleSelection, \n  isSelectionMode = false \n}: KanbanBoardProps) {\n  const [activeId, setActiveId] = useState<string | null>(null);\n  const updateOpportunityStage = useMutation(api.opportunities.updateOpportunityStage);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  );\n\n  const groupedOpportunities = PIPELINE_STAGES.reduce((acc, stage) => {\n    acc[stage.id] = opportunities.filter(opp => opp.stage === stage.id);\n    return acc;\n  }, {} as Record<OpportunityStage, Opportunity[]>);\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string);\n  };\n\n  const handleDragEnd = async (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over) return;\n\n    const activeOpportunity = opportunities.find(opp => opp._id === active.id);\n    const newStage = over.id as OpportunityStage;\n\n    // Ensure we're dropping on a valid stage column, not on another opportunity\n    const validStageIds = PIPELINE_STAGES.map(stage => stage.id);\n    if (!validStageIds.includes(newStage)) {\n      console.warn(\"Invalid drop target:\", over.id);\n      return;\n    }\n\n    if (activeOpportunity && activeOpportunity.stage !== newStage) {\n      try {\n        console.log(\"Updating opportunity stage:\", {\n          opportunityId: activeOpportunity._id,\n          currentStage: activeOpportunity.stage,\n          newStage,\n          overId: over.id\n        });\n        \n        await updateOpportunityStage({\n          opportunityId: activeOpportunity._id,\n          stage: newStage,\n        });\n      } catch (error) {\n        console.error(\"Failed to update opportunity stage:\", error);\n      }\n    }\n  };\n\n  const activeOpportunity = activeId \n    ? opportunities.find(opp => opp._id === activeId)\n    : null;\n\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n    >\n      <div className=\"grid grid-cols-1 lg:grid-cols-6 gap-6 min-h-[600px]\">\n        {PIPELINE_STAGES.map((stage) => (\n          <KanbanColumn\n            key={stage.id}\n            id={stage.id}\n            title={stage.title}\n            color={stage.color}\n            opportunities={groupedOpportunities[stage.id] || []}\n            allOpportunities={opportunities}\n            onEditOpportunity={onEditOpportunity}\n            onDeleteOpportunity={onDeleteOpportunity}\n            selectedOpportunities={selectedOpportunities}\n            onToggleSelection={onToggleSelection}\n            isSelectionMode={isSelectionMode}\n          />\n        ))}\n      </div>\n\n      <DragOverlay>\n        {activeOpportunity ? (\n          <OpportunityCard \n            opportunity={activeOpportunity} \n            isDragging \n          />\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityFilters.tsx"],"sourcesContent":["\"use client\";\n\nimport { Search, Filter } from \"lucide-react\";\nimport type { OpportunityStage, EventType } from \"~/lib/types/opportunity\";\n\ninterface OpportunityFilterState {\n  stage?: OpportunityStage;\n  eventType?: EventType;\n  searchTerm?: string;\n}\n\ninterface OpportunityFiltersProps {\n  filters: OpportunityFilterState;\n  onFilterChange: (filters: OpportunityFilterState) => void;\n}\n\nconst STAGE_OPTIONS: { value: OpportunityStage; label: string }[] = [\n  { value: \"PROSPECT\", label: \"Prospect\" },\n  { value: \"QUALIFIED\", label: \"Qualified\" },\n  { value: \"PROPOSAL\", label: \"Proposal\" },\n  { value: \"NEGOTIATION\", label: \"Negotiation\" },\n  { value: \"CLOSED_WON\", label: \"Closed Won\" },\n  { value: \"CLOSED_LOST\", label: \"Closed Lost\" },\n];\n\nconst EVENT_TYPE_OPTIONS: { value: EventType; label: string }[] = [\n  { value: \"WEDDING\", label: \"Wedding\" },\n  { value: \"CORPORATE\", label: \"Corporate\" },\n  { value: \"GALA\", label: \"Gala\" },\n  { value: \"CONFERENCE\", label: \"Conference\" },\n  { value: \"BIRTHDAY\", label: \"Birthday\" },\n  { value: \"ANNIVERSARY\", label: \"Anniversary\" },\n  { value: \"OTHER\", label: \"Other\" },\n];\n\nexport function OpportunityFilters({ filters, onFilterChange }: OpportunityFiltersProps) {\n  const updateFilter = (key: keyof OpportunityFilterState, value: string | undefined) => {\n    onFilterChange({\n      ...filters,\n      [key]: value || undefined,\n    });\n  };\n\n  const clearFilters = () => {\n    onFilterChange({});\n  };\n\n  const hasActiveFilters = Object.values(filters).some(value => value);\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6\">\n      <div className=\"flex items-center gap-4 mb-4\">\n        <Filter className=\"w-5 h-5 text-gray-500\" />\n        <h2 className=\"text-lg font-medium text-gray-900\">Filters</h2>\n        {hasActiveFilters && (\n          <button\n            onClick={clearFilters}\n            className=\"text-sm text-blue-600 hover:text-blue-700\"\n          >\n            Clear all\n          </button>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* Search */}\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search opportunities...\"\n            value={filters.searchTerm || \"\"}\n            onChange={(e) => updateFilter(\"searchTerm\", e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          />\n        </div>\n\n        {/* Stage Filter */}\n        <select\n          value={filters.stage || \"\"}\n          onChange={(e) => updateFilter(\"stage\", e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">All stages</option>\n          {STAGE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n\n        {/* Event Type Filter */}\n        <select\n          value={filters.eventType || \"\"}\n          onChange={(e) => updateFilter(\"eventType\", e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">All event types</option>\n          {EVENT_TYPE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAFA;;;AAgBA,MAAM,gBAA8D;IAClE;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAe,OAAO;IAAc;IAC7C;QAAE,OAAO;QAAc,OAAO;IAAa;IAC3C;QAAE,OAAO;QAAe,OAAO;IAAc;CAC9C;AAED,MAAM,qBAA4D;IAChE;QAAE,OAAO;QAAW,OAAO;IAAU;IACrC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAQ,OAAO;IAAO;IAC/B;QAAE,OAAO;QAAc,OAAO;IAAa;IAC3C;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAe,OAAO;IAAc;IAC7C;QAAE,OAAO;QAAS,OAAO;IAAQ;CAClC;AAEM,SAAS,mBAAmB,KAAoD;QAApD,EAAE,OAAO,EAAE,cAAc,EAA2B,GAApD;IACjC,MAAM,eAAe,CAAC,KAAmC;QACvD,eAAe;YACb,GAAG,OAAO;YACV,CAAC,IAAI,EAAE,SAAS;QAClB;IACF;IAEA,MAAM,eAAe;QACnB,eAAe,CAAC;IAClB;IAEA,MAAM,mBAAmB,OAAO,MAAM,CAAC,SAAS,IAAI,CAAC,CAAA,QAAS;IAE9D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;oBACjD,kCACC,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAML,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,yMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;0CAClB,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO,QAAQ,UAAU,IAAI;gCAC7B,UAAU,CAAC,IAAM,aAAa,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC1D,WAAU;;;;;;;;;;;;kCAKd,6LAAC;wBACC,OAAO,QAAQ,KAAK,IAAI;wBACxB,UAAU,CAAC,IAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;wBACrD,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,cAAc,GAAG,CAAC,CAAC,uBAClB,6LAAC;oCAA0B,OAAO,OAAO,KAAK;8CAC3C,OAAO,KAAK;mCADF,OAAO,KAAK;;;;;;;;;;;kCAO7B,6LAAC;wBACC,OAAO,QAAQ,SAAS,IAAI;wBAC5B,UAAU,CAAC,IAAM,aAAa,aAAa,EAAE,MAAM,CAAC,KAAK;wBACzD,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,mBAAmB,GAAG,CAAC,CAAC,uBACvB,6LAAC;oCAA0B,OAAO,OAAO,KAAK;8CAC3C,OAAO,KAAK;mCADF,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;AAQrC;KAxEgB","debugId":null}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation, useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { X, Calendar, Users, Euro, MapPin, Clock, FileText } from \"lucide-react\";\nimport type { Id } from \"../../../../convex/_generated/dataModel\";\nimport type { OpportunityStage, EventType } from \"~/lib/types/opportunity\";\n\ninterface OpportunityFormData {\n  name: string;\n  contactId: Id<\"contacts\">;\n  stage: OpportunityStage;\n  value: number;\n  eventType: EventType;\n  eventDate: string;\n  guestCount: number;\n  requiresCatering: boolean;\n  venueRequirements?: string;\n  description?: string;\n  expectedCloseDate?: string;\n}\n\ninterface OpportunityFormProps {\n  isOpen: boolean;\n  onClose: () => void;\n  initialData?: Partial<OpportunityFormData>;\n  opportunityId?: Id<\"opportunities\">;\n}\n\nconst STAGE_OPTIONS: { value: OpportunityStage; label: string }[] = [\n  { value: \"PROSPECT\", label: \"Prospect\" },\n  { value: \"QUALIFIED\", label: \"Qualified\" },\n  { value: \"PROPOSAL\", label: \"Proposal\" },\n  { value: \"NEGOTIATION\", label: \"Negotiation\" },\n  { value: \"CLOSED_WON\", label: \"Closed Won\" },\n  { value: \"CLOSED_LOST\", label: \"Closed Lost\" },\n];\n\nconst EVENT_TYPE_OPTIONS: { value: EventType; label: string }[] = [\n  { value: \"WEDDING\", label: \"Wedding\" },\n  { value: \"CORPORATE\", label: \"Corporate Event\" },\n  { value: \"GALA\", label: \"Gala\" },\n  { value: \"CONFERENCE\", label: \"Conference\" },\n  { value: \"BIRTHDAY\", label: \"Birthday Party\" },\n  { value: \"ANNIVERSARY\", label: \"Anniversary\" },\n  { value: \"OTHER\", label: \"Other\" },\n];\n\nexport function OpportunityForm({ \n  isOpen, \n  onClose, \n  initialData, \n  opportunityId \n}: OpportunityFormProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  const contacts = useQuery(api.contacts.getAllContacts, {});\n  const createOpportunity = useMutation(api.opportunities.createOpportunity);\n  const updateOpportunity = useMutation(api.opportunities.updateOpportunity);\n\n  const { register, handleSubmit, formState: { errors }, reset, watch } = useForm<OpportunityFormData>({\n    defaultValues: {\n      stage: \"PROSPECT\",\n      eventType: \"WEDDING\",\n      requiresCatering: false,\n      ...initialData,\n    },\n  });\n\n  const isEditing = !!opportunityId;\n\n  const onSubmit = async (data: OpportunityFormData) => {\n    setIsSubmitting(true);\n    try {\n      const formattedData = {\n        ...data,\n        eventDate: new Date(data.eventDate).getTime(),\n        expectedCloseDate: data.expectedCloseDate \n          ? new Date(data.expectedCloseDate).getTime() \n          : undefined,\n      };\n\n      if (isEditing && opportunityId) {\n        await updateOpportunity({\n          opportunityId,\n          ...formattedData,\n        });\n      } else {\n        await createOpportunity(formattedData);\n      }\n\n      reset();\n      onClose();\n    } catch (error) {\n      console.error(\"Error saving opportunity:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const eventType = watch(\"eventType\");\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            {isEditing ? \"Edit Opportunity\" : \"Create New Opportunity\"}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-500\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit(onSubmit)} className=\"p-6 space-y-6\">\n          {/* Basic Information */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Opportunity Name */}\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                <FileText className=\"w-4 h-4 inline mr-1\" />\n                Opportunity Name *\n              </label>\n              <input\n                type=\"text\"\n                {...register(\"name\", { required: \"Opportunity name is required\" })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter opportunity name...\"\n              />\n              {errors.name && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.name.message}</p>\n              )}\n            </div>\n\n            {/* Contact */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Contact *\n              </label>\n              <select\n                {...register(\"contactId\", { required: \"Contact is required\" })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select a contact...</option>\n                {contacts?.map((contact) => (\n                  <option key={contact._id} value={contact._id}>\n                    {contact.name} ({contact.email})\n                  </option>\n                ))}\n              </select>\n              {errors.contactId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.contactId.message}</p>\n              )}\n            </div>\n\n            {/* Stage */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Pipeline Stage *\n              </label>\n              <select\n                {...register(\"stage\", { required: \"Stage is required\" })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {STAGE_OPTIONS.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Event Type */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Event Type *\n              </label>\n              <select\n                {...register(\"eventType\", { required: \"Event type is required\" })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                {EVENT_TYPE_OPTIONS.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Opportunity Value */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                <Euro className=\"w-4 h-4 inline mr-1\" />\n                Opportunity Value *\n              </label>\n              <input\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                {...register(\"value\", { \n                  required: \"Value is required\",\n                  min: { value: 0, message: \"Value must be positive\" },\n                  valueAsNumber: true\n                })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"0.00\"\n              />\n              {errors.value && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.value.message}</p>\n              )}\n            </div>\n          </div>\n\n          {/* Event Details */}\n          <div className=\"border-t border-gray-200 pt-6\">\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Event Details</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Event Date */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  <Calendar className=\"w-4 h-4 inline mr-1\" />\n                  Event Date *\n                </label>\n                <input\n                  type=\"date\"\n                  {...register(\"eventDate\", { required: \"Event date is required\" })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                {errors.eventDate && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.eventDate.message}</p>\n                )}\n              </div>\n\n              {/* Expected Close Date */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  <Clock className=\"w-4 h-4 inline mr-1\" />\n                  Expected Close Date\n                </label>\n                <input\n                  type=\"date\"\n                  {...register(\"expectedCloseDate\")}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              {/* Guest Count */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  <Users className=\"w-4 h-4 inline mr-1\" />\n                  Guest Count *\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  {...register(\"guestCount\", { \n                    required: \"Guest count is required\",\n                    min: { value: 1, message: \"Must have at least 1 guest\" },\n                    valueAsNumber: true\n                  })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"100\"\n                />\n                {errors.guestCount && (\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.guestCount.message}</p>\n                )}\n              </div>\n\n              {/* Catering */}\n              <div className=\"flex items-center mt-6\">\n                <input\n                  type=\"checkbox\"\n                  {...register(\"requiresCatering\")}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label className=\"ml-2 text-sm text-gray-700\">\n                  Requires catering\n                </label>\n              </div>\n            </div>\n\n            {/* Venue Requirements */}\n            <div className=\"mt-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                <MapPin className=\"w-4 h-4 inline mr-1\" />\n                Venue Requirements\n              </label>\n              <textarea\n                rows={3}\n                {...register(\"venueRequirements\")}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Describe venue requirements, location preferences, etc...\"\n              />\n            </div>\n\n            {/* Description */}\n            <div className=\"mt-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Description\n              </label>\n              <textarea\n                rows={4}\n                {...register(\"description\")}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Additional notes about this opportunity...\"\n              />\n            </div>\n          </div>\n\n          {/* Form Actions */}\n          <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting \n                ? (isEditing ? \"Updating...\" : \"Creating...\") \n                : (isEditing ? \"Update Opportunity\" : \"Create Opportunity\")\n              }\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1723, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/BulkOperations.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useMutation } from \"convex/react\";\nimport { Check, X, Trash2, UserPlus, ArrowRight } from \"lucide-react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport type { Id } from \"../../../../convex/_generated/dataModel\";\nimport type { Opportunity, OpportunityStage } from \"~/lib/types/opportunity\";\n\ninterface BulkOperationsProps {\n  selectedOpportunities: Opportunity[];\n  onClearSelection: () => void;\n  onBulkComplete: () => void;\n}\n\nconst STAGE_OPTIONS: { value: OpportunityStage; label: string }[] = [\n  { value: \"PROSPECT\", label: \"Prospect\" },\n  { value: \"QUALIFIED\", label: \"Qualified\" },\n  { value: \"PROPOSAL\", label: \"Proposal\" },\n  { value: \"NEGOTIATION\", label: \"Negotiation\" },\n  { value: \"CLOSED_WON\", label: \"Closed Won\" },\n  { value: \"CLOSED_LOST\", label: \"Closed Lost\" },\n];\n\nexport function BulkOperations({ \n  selectedOpportunities, \n  onClearSelection, \n  onBulkComplete \n}: BulkOperationsProps) {\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [operation, setOperation] = useState<\"stage\" | \"delete\" | \"assign\" | null>(null);\n  const [targetStage, setTargetStage] = useState<OpportunityStage>(\"QUALIFIED\");\n  \n  const updateOpportunityStage = useMutation(api.opportunities.updateOpportunityStage);\n  const deleteOpportunity = useMutation(api.opportunities.deleteOpportunity);\n\n  const handleBulkStageUpdate = async () => {\n    setIsProcessing(true);\n    try {\n      await Promise.all(\n        selectedOpportunities.map(opp => \n          updateOpportunityStage({\n            opportunityId: opp._id,\n            stage: targetStage,\n          })\n        )\n      );\n      onBulkComplete();\n    } catch (error) {\n      console.error(\"Error updating opportunities:\", error);\n    } finally {\n      setIsProcessing(false);\n      setOperation(null);\n    }\n  };\n\n  const handleBulkDelete = async () => {\n    if (!confirm(`Are you sure you want to delete ${selectedOpportunities.length} opportunities?`)) {\n      return;\n    }\n    \n    setIsProcessing(true);\n    try {\n      await Promise.all(\n        selectedOpportunities.map(opp => \n          deleteOpportunity({ opportunityId: opp._id })\n        )\n      );\n      onBulkComplete();\n    } catch (error) {\n      console.error(\"Error deleting opportunities:\", error);\n    } finally {\n      setIsProcessing(false);\n      setOperation(null);\n    }\n  };\n\n  if (selectedOpportunities.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40\">\n      <div className=\"container mx-auto px-4 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Check className=\"w-5 h-5 text-blue-600\" />\n              <span className=\"font-medium text-gray-900\">\n                {selectedOpportunities.length} opportunities selected\n              </span>\n            </div>\n            \n            <div className=\"text-sm text-gray-600\">\n              Total value: €{selectedOpportunities.reduce((sum, opp) => sum + opp.value, 0).toLocaleString()}\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            {operation === null && (\n              <>\n                <button\n                  onClick={() => setOperation(\"stage\")}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50\"\n                >\n                  <ArrowRight className=\"w-4 h-4 mr-1\" />\n                  Move to Stage\n                </button>\n                \n                <button\n                  onClick={() => setOperation(\"delete\")}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded text-red-700 bg-white hover:bg-red-50\"\n                >\n                  <Trash2 className=\"w-4 h-4 mr-1\" />\n                  Delete\n                </button>\n              </>\n            )}\n\n            {operation === \"stage\" && (\n              <div className=\"flex items-center space-x-2\">\n                <select\n                  value={targetStage}\n                  onChange={(e) => setTargetStage(e.target.value as OpportunityStage)}\n                  className=\"px-2 py-1 border border-gray-300 rounded text-sm\"\n                >\n                  {STAGE_OPTIONS.map((option) => (\n                    <option key={option.value} value={option.value}>\n                      {option.label}\n                    </option>\n                  ))}\n                </select>\n                \n                <button\n                  onClick={handleBulkStageUpdate}\n                  disabled={isProcessing}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50\"\n                >\n                  {isProcessing ? \"Processing...\" : \"Update\"}\n                </button>\n                \n                <button\n                  onClick={() => setOperation(null)}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n              </div>\n            )}\n\n            {operation === \"delete\" && (\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={handleBulkDelete}\n                  disabled={isProcessing}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded text-white bg-red-600 hover:bg-red-700 disabled:opacity-50\"\n                >\n                  {isProcessing ? \"Deleting...\" : \"Confirm Delete\"}\n                </button>\n                \n                <button\n                  onClick={() => setOperation(null)}\n                  className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n              </div>\n            )}\n            \n            <button\n              onClick={onClearSelection}\n              className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50\"\n            >\n              <X className=\"w-4 h-4 mr-1\" />\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2040, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityPipeline.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { Plus } from \"lucide-react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { KanbanBoard } from \"./KanbanBoard\";\nimport { OpportunityFilters } from \"./OpportunityFilters\";\nimport { OpportunityForm } from \"./OpportunityForm\";\nimport { BulkOperations } from \"./BulkOperations\";\nimport type { OpportunityStage, Opportunity, EventType } from \"~/lib/types/opportunity\";\nimport type { Id } from \"../../../../convex/_generated/dataModel\";\n\ninterface OpportunityFilterState {\n  stage?: OpportunityStage;\n  eventType?: EventType;\n  searchTerm?: string;\n}\n\nexport function OpportunityPipeline() {\n  const [filters, setFilters] = useState<OpportunityFilterState>({});\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [editingOpportunity, setEditingOpportunity] = useState<Opportunity | null>(null);\n  const [selectedOpportunities, setSelectedOpportunities] = useState<Opportunity[]>([]);\n  const [isSelectionMode, setIsSelectionMode] = useState(false);\n  \n  const opportunities = useQuery(api.opportunities.getAllOpportunities, filters);\n  const deleteOpportunity = useMutation(api.opportunities.deleteOpportunity);\n\n  const handleFilterChange = (newFilters: OpportunityFilterState) => {\n    setFilters(newFilters);\n  };\n\n  const handleEditOpportunity = (opportunity: Opportunity) => {\n    setEditingOpportunity(opportunity);\n  };\n\n  const handleDeleteOpportunity = async (opportunityId: string) => {\n    try {\n      await deleteOpportunity({ opportunityId: opportunityId as Id<\"opportunities\"> });\n    } catch (error) {\n      console.error(\"Error deleting opportunity:\", error);\n    }\n  };\n\n  const handleCloseForm = () => {\n    setShowCreateForm(false);\n    setEditingOpportunity(null);\n  };\n\n  const handleToggleSelection = (opportunity: Opportunity) => {\n    setSelectedOpportunities(prev => {\n      const isSelected = prev.some(opp => opp._id === opportunity._id);\n      if (isSelected) {\n        return prev.filter(opp => opp._id !== opportunity._id);\n      } else {\n        return [...prev, opportunity];\n      }\n    });\n  };\n\n  const handleClearSelection = () => {\n    setSelectedOpportunities([]);\n    setIsSelectionMode(false);\n  };\n\n  const handleBulkComplete = () => {\n    setSelectedOpportunities([]);\n    setIsSelectionMode(false);\n  };\n\n  const toggleSelectionMode = () => {\n    setIsSelectionMode(!isSelectionMode);\n    if (!isSelectionMode) {\n      setSelectedOpportunities([]);\n    }\n  };\n\n  if (opportunities === undefined) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with Actions */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            Pipeline Overview\n          </h2>\n          <p className=\"text-sm text-gray-600\">\n            {opportunities.length} opportunities • Total value: €{opportunities.reduce((sum, opp) => sum + opp.value, 0).toLocaleString()}\n          </p>\n        </div>\n        \n        <div className=\"flex items-center space-x-3\">\n          <button\n            onClick={toggleSelectionMode}\n            className={`inline-flex items-center px-3 py-2 border text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${\n              isSelectionMode \n                ? 'border-blue-600 text-blue-600 bg-blue-50 hover:bg-blue-100' \n                : 'border-gray-300 text-gray-700 bg-white hover:bg-gray-50'\n            }`}\n          >\n            {isSelectionMode ? 'Exit Selection' : 'Select Multiple'}\n          </button>\n          \n          <button\n            onClick={() => setShowCreateForm(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            New Opportunity\n          </button>\n        </div>\n      </div>\n\n      <OpportunityFilters \n        filters={filters} \n        onFilterChange={handleFilterChange}\n      />\n      \n      <KanbanBoard \n        opportunities={opportunities || []} \n        onEditOpportunity={handleEditOpportunity}\n        onDeleteOpportunity={handleDeleteOpportunity}\n        selectedOpportunities={selectedOpportunities}\n        onToggleSelection={handleToggleSelection}\n        isSelectionMode={isSelectionMode}\n      />\n\n      <OpportunityForm\n        isOpen={showCreateForm || !!editingOpportunity}\n        onClose={handleCloseForm}\n        initialData={editingOpportunity ? {\n          name: editingOpportunity.name,\n          contactId: editingOpportunity.contactId,\n          stage: editingOpportunity.stage,\n          value: editingOpportunity.value,\n          eventType: editingOpportunity.eventType,\n          eventDate: new Date(editingOpportunity.eventDate).toISOString().split('T')[0],\n          guestCount: editingOpportunity.guestCount,\n          requiresCatering: editingOpportunity.requiresCatering,\n          venueRequirements: editingOpportunity.venueRequirements,\n          description: editingOpportunity.description,\n          expectedCloseDate: editingOpportunity.expectedCloseDate \n            ? new Date(editingOpportunity.expectedCloseDate).toISOString().split('T')[0] \n            : undefined,\n        } : undefined}\n        opportunityId={editingOpportunity?._id}\n      />\n\n      <BulkOperations\n        selectedOpportunities={selectedOpportunities}\n        onClearSelection={handleClearSelection}\n        onBulkComplete={handleBulkComplete}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2287, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 2309, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,6JAAA,CAAA,aAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,6JAAA,CAAA,aAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAAa,GAAG,KAAK;;;;;;;;AAErF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,6JAAA,CAAA,aAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,6JAAA,CAAA,aAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,6JAAA,CAAA,aAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,6JAAA,CAAA,aAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAAa,GAAG,KAAK;;;;;;;;AAElF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2430, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    return (\n      <button\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2495, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2730, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/PipelineAnalytics.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { \n  TrendingUp, \n  TrendingDown, \n  DollarSign, \n  Target, \n  Calendar,\n  Users,\n  BarChart3,\n  PieChart,\n  Download,\n  Filter,\n  RefreshCw,\n  AlertTriangle\n} from \"lucide-react\";\nimport type { Opportunity, OpportunityStage } from \"@/lib/types/opportunity\";\n\ninterface PipelineAnalyticsProps {\n  className?: string;\n}\n\ninterface StageMetrics {\n  stage: OpportunityStage;\n  count: number;\n  value: number;\n  weightedValue: number;\n  avgProbability: number;\n  avgDaysInStage: number;\n  conversionRate: number;\n}\n\ninterface TimeRangeFilter {\n  value: string;\n  label: string;\n  days: number;\n}\n\nconst TIME_RANGES: TimeRangeFilter[] = [\n  { value: \"7d\", label: \"Last 7 days\", days: 7 },\n  { value: \"30d\", label: \"Last 30 days\", days: 30 },\n  { value: \"90d\", label: \"Last 90 days\", days: 90 },\n  { value: \"6m\", label: \"Last 6 months\", days: 180 },\n  { value: \"1y\", label: \"Last year\", days: 365 },\n  { value: \"all\", label: \"All time\", days: 0 },\n];\n\nconst STAGE_COLORS: Record<OpportunityStage, string> = {\n  PROSPECT: \"bg-gray-500\",\n  QUALIFIED: \"bg-blue-500\", \n  PROPOSAL: \"bg-yellow-500\",\n  NEGOTIATION: \"bg-orange-500\",\n  CLOSED_WON: \"bg-green-500\",\n  CLOSED_LOST: \"bg-red-500\",\n};\n\nexport function PipelineAnalytics({ className }: PipelineAnalyticsProps) {\n  const [timeRange, setTimeRange] = useState<string>(\"30d\");\n  const [refreshing, setRefreshing] = useState(false);\n\n  const opportunities = useQuery(api.opportunities.getAllOpportunities, { isActive: true });\n  const revenueForecasting = useQuery(api.opportunities.getRevenueForecasting, {});\n\n  const filteredOpportunities = useMemo(() => {\n    if (!opportunities) return [];\n    \n    const selectedRange = TIME_RANGES.find(r => r.value === timeRange);\n    if (!selectedRange || selectedRange.days === 0) return opportunities;\n\n    const cutoffDate = Date.now() - (selectedRange.days * 24 * 60 * 60 * 1000);\n    return opportunities.filter(opp => opp.createdAt >= cutoffDate);\n  }, [opportunities, timeRange]);\n\n  const stageMetrics = useMemo(() => {\n    if (!filteredOpportunities || !opportunities) return [];\n\n    const stages: OpportunityStage[] = [\"PROSPECT\", \"QUALIFIED\", \"PROPOSAL\", \"NEGOTIATION\", \"CLOSED_WON\", \"CLOSED_LOST\"];\n    \n    return stages.map(stage => {\n      const stageOpps = filteredOpportunities.filter(opp => opp.stage === stage);\n      const totalValue = stageOpps.reduce((sum, opp) => sum + opp.value, 0);\n      const totalWeightedValue = stageOpps.reduce((sum, opp) => sum + (opp.value * ((opp.probability || 0) / 100)), 0);\n      const avgProbability = stageOpps.length > 0 \n        ? stageOpps.reduce((sum, opp) => sum + (opp.probability || 0), 0) / stageOpps.length\n        : 0;\n\n      // Calculate average days in stage\n      const now = Date.now();\n      const avgDaysInStage = stageOpps.length > 0\n        ? stageOpps.reduce((sum, opp) => sum + ((now - opp.updatedAt) / (24 * 60 * 60 * 1000)), 0) / stageOpps.length\n        : 0;\n\n      // Calculate conversion rate (to next stage or closed won)\n      const nextStageIndex = stages.indexOf(stage) + 1;\n      const nextStageOpps = nextStageIndex < stages.length \n        ? opportunities.filter(opp => opp.stage === stages[nextStageIndex] || opp.stage === \"CLOSED_WON\")\n        : [];\n      const conversionRate = stageOpps.length > 0 \n        ? (nextStageOpps.length / (stageOpps.length + nextStageOpps.length)) * 100\n        : 0;\n\n      return {\n        stage,\n        count: stageOpps.length,\n        value: totalValue,\n        weightedValue: totalWeightedValue,\n        avgProbability,\n        avgDaysInStage: Math.round(avgDaysInStage),\n        conversionRate: Math.round(conversionRate),\n      };\n    });\n  }, [filteredOpportunities, opportunities]);\n\n  const overallMetrics = useMemo(() => {\n    if (!filteredOpportunities) return null;\n\n    const totalOpportunities = filteredOpportunities.length;\n    const totalValue = filteredOpportunities.reduce((sum, opp) => sum + opp.value, 0);\n    const totalWeightedValue = filteredOpportunities.reduce((sum, opp) => sum + (opp.value * ((opp.probability || 0) / 100)), 0);\n    const avgDealSize = totalOpportunities > 0 ? totalValue / totalOpportunities : 0;\n    \n    const closedWon = filteredOpportunities.filter(opp => opp.stage === \"CLOSED_WON\");\n    const winRate = totalOpportunities > 0 ? (closedWon.length / totalOpportunities) * 100 : 0;\n    \n    const activeOpportunities = filteredOpportunities.filter(opp => \n      ![\"CLOSED_WON\", \"CLOSED_LOST\"].includes(opp.stage)\n    );\n    \n    // Calculate average sales cycle length\n    const avgSalesCycle = closedWon.length > 0\n      ? closedWon.reduce((sum, opp) => sum + ((opp.updatedAt - opp.createdAt) / (24 * 60 * 60 * 1000)), 0) / closedWon.length\n      : 0;\n\n    return {\n      totalOpportunities,\n      totalValue,\n      totalWeightedValue,\n      avgDealSize,\n      winRate,\n      activeOpportunities: activeOpportunities.length,\n      avgSalesCycle: Math.round(avgSalesCycle),\n      closedWonValue: closedWon.reduce((sum, opp) => sum + opp.value, 0),\n    };\n  }, [filteredOpportunities]);\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    // Simulate refresh delay\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setRefreshing(false);\n  };\n\n  const handleExport = () => {\n    // TODO: Implement export functionality\n    console.log(\"Exporting analytics data...\", { stageMetrics, overallMetrics });\n  };\n\n  if (!opportunities || !overallMetrics) {\n    return (\n      <div className={`flex items-center justify-center h-64 ${className}`}>\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Pipeline Analytics</h2>\n          <p className=\"text-sm text-gray-600\">\n            Sales performance metrics and insights\n          </p>\n        </div>\n        \n        <div className=\"flex items-center gap-3\">\n          <Select value={timeRange} onValueChange={setTimeRange}>\n            <SelectTrigger className=\"w-48\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              {TIME_RANGES.map(range => (\n                <SelectItem key={range.value} value={range.value}>\n                  {range.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          \n          <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh} disabled={refreshing}>\n            <RefreshCw className={`w-4 h-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n            Refresh\n          </Button>\n          \n          <Button variant=\"outline\" size=\"sm\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Key Metrics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <MetricCard\n          title=\"Total Pipeline Value\"\n          value={`€${overallMetrics.totalValue.toLocaleString()}`}\n          change={12.5}\n          icon={DollarSign}\n          trend=\"up\"\n        />\n        \n        <MetricCard\n          title=\"Weighted Pipeline\"\n          value={`€${Math.round(overallMetrics.totalWeightedValue).toLocaleString()}`}\n          change={8.3}\n          icon={Target}\n          trend=\"up\"\n        />\n        \n        <MetricCard\n          title=\"Win Rate\"\n          value={`${Math.round(overallMetrics.winRate)}%`}\n          change={-2.1}\n          icon={TrendingUp}\n          trend=\"down\"\n        />\n        \n        <MetricCard\n          title=\"Avg Deal Size\"\n          value={`€${Math.round(overallMetrics.avgDealSize).toLocaleString()}`}\n          change={15.7}\n          icon={BarChart3}\n          trend=\"up\"\n        />\n      </div>\n\n      {/* Pipeline Stage Breakdown */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Stage Metrics Table */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <PieChart className=\"w-5 h-5\" />\n              Pipeline Stage Breakdown\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {stageMetrics.map(stage => (\n                <div key={stage.stage} className=\"flex items-center justify-between p-3 rounded-lg bg-gray-50\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`w-3 h-3 rounded-full ${STAGE_COLORS[stage.stage]}`} />\n                    <div>\n                      <p className=\"font-medium text-sm\">{stage.stage.replace('_', ' ')}</p>\n                      <p className=\"text-xs text-gray-600\">\n                        {stage.count} opportunities • {stage.avgDaysInStage} avg days\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"font-medium text-sm\">€{stage.value.toLocaleString()}</p>\n                    <p className=\"text-xs text-gray-600\">{stage.conversionRate}% conversion</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Performance Indicators */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <BarChart3 className=\"w-5 h-5\" />\n              Performance Indicators\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center justify-between p-3 rounded-lg bg-green-50\">\n              <div className=\"flex items-center gap-3\">\n                <TrendingUp className=\"w-5 h-5 text-green-600\" />\n                <div>\n                  <p className=\"font-medium text-sm\">Revenue Closed</p>\n                  <p className=\"text-xs text-gray-600\">This period</p>\n                </div>\n              </div>\n              <p className=\"font-medium text-lg text-green-700\">\n                €{overallMetrics.closedWonValue.toLocaleString()}\n              </p>\n            </div>\n\n            <div className=\"flex items-center justify-between p-3 rounded-lg bg-blue-50\">\n              <div className=\"flex items-center gap-3\">\n                <Calendar className=\"w-5 h-5 text-blue-600\" />\n                <div>\n                  <p className=\"font-medium text-sm\">Avg Sales Cycle</p>\n                  <p className=\"text-xs text-gray-600\">Days to close</p>\n                </div>\n              </div>\n              <p className=\"font-medium text-lg text-blue-700\">\n                {overallMetrics.avgSalesCycle} days\n              </p>\n            </div>\n\n            <div className=\"flex items-center justify-between p-3 rounded-lg bg-orange-50\">\n              <div className=\"flex items-center gap-3\">\n                <Users className=\"w-5 h-5 text-orange-600\" />\n                <div>\n                  <p className=\"font-medium text-sm\">Active Opportunities</p>\n                  <p className=\"text-xs text-gray-600\">In pipeline</p>\n                </div>\n              </div>\n              <p className=\"font-medium text-lg text-orange-700\">\n                {overallMetrics.activeOpportunities}\n              </p>\n            </div>\n\n            {/* Pipeline Health Warning */}\n            {overallMetrics.winRate < 20 && (\n              <div className=\"flex items-center gap-3 p-3 rounded-lg bg-red-50 border border-red-200\">\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n                <div>\n                  <p className=\"font-medium text-sm text-red-800\">Low Win Rate Alert</p>\n                  <p className=\"text-xs text-red-600\">Consider reviewing qualification criteria</p>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Revenue Forecasting */}\n      {revenueForecasting && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Target className=\"w-5 h-5\" />\n              Revenue Forecasting\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center p-4 rounded-lg bg-gray-50\">\n                <p className=\"text-sm text-gray-600 mb-2\">Total Pipeline</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  €{revenueForecasting.summary.totalValue.toLocaleString()}\n                </p>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {revenueForecasting.summary.totalOpportunities} opportunities\n                </p>\n              </div>\n              \n              <div className=\"text-center p-4 rounded-lg bg-blue-50\">\n                <p className=\"text-sm text-blue-600 mb-2\">Weighted Forecast</p>\n                <p className=\"text-2xl font-bold text-blue-700\">\n                  €{Math.round(revenueForecasting.summary.totalWeightedValue).toLocaleString()}\n                </p>\n                <p className=\"text-xs text-blue-500 mt-1\">\n                  {Math.round(revenueForecasting.summary.averageProbability)}% avg probability\n                </p>\n              </div>\n              \n              <div className=\"text-center p-4 rounded-lg bg-green-50\">\n                <p className=\"text-sm text-green-600 mb-2\">Expected Revenue</p>\n                <p className=\"text-2xl font-bold text-green-700\">\n                  €{Math.round(revenueForecasting.summary.totalWeightedValue * 0.8).toLocaleString()}\n                </p>\n                <p className=\"text-xs text-green-500 mt-1\">\n                  Conservative estimate\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n\nfunction MetricCard({ \n  title, \n  value, \n  change, \n  icon: Icon, \n  trend \n}: {\n  title: string;\n  value: string;\n  change: number;\n  icon: any;\n  trend: 'up' | 'down';\n}) {\n  return (\n    <Card>\n      <CardContent className=\"p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm font-medium text-gray-600\">{title}</p>\n            <p className=\"text-2xl font-bold text-gray-900\">{value}</p>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <Icon className=\"w-8 h-8 text-gray-400\" />\n          </div>\n        </div>\n        \n        <div className=\"mt-4 flex items-center\">\n          {trend === 'up' ? (\n            <TrendingUp className=\"w-4 h-4 text-green-500 mr-1\" />\n          ) : (\n            <TrendingDown className=\"w-4 h-4 text-red-500 mr-1\" />\n          )}\n          <span className={`text-sm font-medium ${\n            trend === 'up' ? 'text-green-600' : 'text-red-600'\n          }`}>\n            {Math.abs(change)}%\n          </span>\n          <span className=\"text-sm text-gray-600 ml-1\">\n            vs previous period\n          </span>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3810, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 3859, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = \"Avatar\"\n\nconst AvatarImage = React.forwardRef<\n  HTMLImageElement,\n  React.ImgHTMLAttributes<HTMLImageElement>\n>(({ className, ...props }, ref) => (\n  <img\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = \"AvatarImage\"\n\nconst AvatarFallback = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = \"AvatarFallback\"\n\nexport { Avatar, AvatarImage, AvatarFallback }"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;AAEA,MAAM,uBAAS,6JAAA,CAAA,aAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;;;AAGb,OAAO,WAAW,GAAG;AAErB,MAAM,4BAAc,6JAAA,CAAA,aAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,+BAAiB,6JAAA,CAAA,aAAgB,OAGrC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,wEACA;QAED,GAAG,KAAK;;;;;;;;AAGb,eAAe,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 3929, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/SalesPerformanceReport.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Avatar, AvatarFallback, AvatarInitials } from \"@/components/ui/avatar\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  Trophy, \n  TrendingUp, \n  TrendingDown, \n  Users, \n  DollarSign,\n  Target,\n  Calendar,\n  Award,\n  BarChart3,\n  Download,\n  Filter,\n  Crown\n} from \"lucide-react\";\n\ninterface SalesPerformanceReportProps {\n  className?: string;\n}\n\ninterface TeamMember {\n  userId: string;\n  name: string;\n  email: string;\n  totalOpportunities: number;\n  closedWon: number;\n  totalValue: number;\n  closedValue: number;\n  winRate: number;\n  avgDealSize: number;\n  avgSalesCycle: number;\n}\n\nconst TIME_RANGES = [\n  { value: \"7d\", label: \"Last 7 days\", days: 7 },\n  { value: \"30d\", label: \"Last 30 days\", days: 30 },\n  { value: \"90d\", label: \"Last 90 days\", days: 90 },\n  { value: \"6m\", label: \"Last 6 months\", days: 180 },\n  { value: \"1y\", label: \"Last year\", days: 365 },\n  { value: \"all\", label: \"All time\", days: 0 },\n];\n\nconst METRICS = [\n  { key: \"closedValue\", label: \"Revenue\", icon: DollarSign, format: \"currency\" },\n  { key: \"winRate\", label: \"Win Rate\", icon: Target, format: \"percentage\" },\n  { key: \"avgDealSize\", label: \"Avg Deal Size\", icon: BarChart3, format: \"currency\" },\n  { key: \"avgSalesCycle\", label: \"Sales Cycle\", icon: Calendar, format: \"days\" },\n];\n\nexport function SalesPerformanceReport({ className }: SalesPerformanceReportProps) {\n  const [timeRange, setTimeRange] = useState<string>(\"30d\");\n  const [sortBy, setSortBy] = useState<string>(\"closedValue\");\n  const [sortOrder, setSortOrder] = useState<\"asc\" | \"desc\">(\"desc\");\n\n  const salesPerformance = useQuery(api.opportunities.getSalesPerformance, {\n    startDate: timeRange !== \"all\" ? Date.now() - (TIME_RANGES.find(r => r.value === timeRange)?.days || 30) * 24 * 60 * 60 * 1000 : undefined,\n    endDate: Date.now()\n  });\n\n  const pipelineAnalytics = useQuery(api.opportunities.getPipelineAnalytics, {\n    startDate: timeRange !== \"all\" ? Date.now() - (TIME_RANGES.find(r => r.value === timeRange)?.days || 30) * 24 * 60 * 60 * 1000 : undefined,\n    endDate: Date.now()\n  });\n\n  const sortedPerformance = useMemo(() => {\n    if (!salesPerformance) return [];\n    \n    return [...salesPerformance].sort((a, b) => {\n      const aValue = a[sortBy as keyof TeamMember] as number;\n      const bValue = b[sortBy as keyof TeamMember] as number;\n      \n      return sortOrder === \"desc\" ? bValue - aValue : aValue - bValue;\n    });\n  }, [salesPerformance, sortBy, sortOrder]);\n\n  const teamSummary = useMemo(() => {\n    if (!salesPerformance) return null;\n\n    const totalRevenue = salesPerformance.reduce((sum, member) => sum + member.closedValue, 0);\n    const totalOpportunities = salesPerformance.reduce((sum, member) => sum + member.totalOpportunities, 0);\n    const totalClosedWon = salesPerformance.reduce((sum, member) => sum + member.closedWon, 0);\n    const avgWinRate = salesPerformance.length > 0 \n      ? salesPerformance.reduce((sum, member) => sum + member.winRate, 0) / salesPerformance.length \n      : 0;\n\n    return {\n      totalMembers: salesPerformance.length,\n      totalRevenue,\n      totalOpportunities,\n      totalClosedWon,\n      avgWinRate,\n      topPerformer: sortedPerformance[0],\n      activeMembersThisPeriod: salesPerformance.filter(member => member.totalOpportunities > 0).length,\n    };\n  }, [salesPerformance, sortedPerformance]);\n\n  const formatValue = (value: number, format: string) => {\n    switch (format) {\n      case \"currency\":\n        return `€${value.toLocaleString()}`;\n      case \"percentage\":\n        return `${Math.round(value)}%`;\n      case \"days\":\n        return `${Math.round(value)} days`;\n      default:\n        return value.toString();\n    }\n  };\n\n  const getPerformanceLevel = (winRate: number, avgDealSize: number, avgTeamWinRate: number, avgTeamDealSize: number) => {\n    if (winRate >= avgTeamWinRate * 1.2 && avgDealSize >= avgTeamDealSize * 1.2) {\n      return { level: \"Excellent\", color: \"bg-green-100 text-green-800\", icon: Crown };\n    } else if (winRate >= avgTeamWinRate && avgDealSize >= avgTeamDealSize) {\n      return { level: \"Good\", color: \"bg-blue-100 text-blue-800\", icon: Award };\n    } else if (winRate >= avgTeamWinRate * 0.8 && avgDealSize >= avgTeamDealSize * 0.8) {\n      return { level: \"Average\", color: \"bg-yellow-100 text-yellow-800\", icon: Target };\n    } else {\n      return { level: \"Needs Improvement\", color: \"bg-red-100 text-red-800\", icon: TrendingUp };\n    }\n  };\n\n  const handleExport = () => {\n    // TODO: Implement export functionality\n    console.log(\"Exporting sales performance data...\", { salesPerformance, teamSummary });\n  };\n\n  if (!salesPerformance || !teamSummary) {\n    return (\n      <div className={`flex items-center justify-center h-64 ${className}`}>\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  const avgTeamWinRate = teamSummary.avgWinRate;\n  const avgTeamDealSize = salesPerformance.length > 0 \n    ? salesPerformance.reduce((sum, member) => sum + member.avgDealSize, 0) / salesPerformance.length \n    : 0;\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Sales Performance Report</h2>\n          <p className=\"text-sm text-gray-600\">\n            Team and individual performance metrics\n          </p>\n        </div>\n        \n        <div className=\"flex items-center gap-3\">\n          <Select value={timeRange} onValueChange={setTimeRange}>\n            <SelectTrigger className=\"w-48\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              {TIME_RANGES.map(range => (\n                <SelectItem key={range.value} value={range.value}>\n                  {range.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          \n          <Button variant=\"outline\" size=\"sm\" onClick={handleExport}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export\n          </Button>\n        </div>\n      </div>\n\n      {/* Team Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Total Revenue</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  €{teamSummary.totalRevenue.toLocaleString()}\n                </p>\n              </div>\n              <DollarSign className=\"w-8 h-8 text-green-500\" />\n            </div>\n            <div className=\"mt-2 text-sm text-gray-600\">\n              {teamSummary.totalClosedWon} deals closed\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Team Win Rate</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {Math.round(teamSummary.avgWinRate)}%\n                </p>\n              </div>\n              <Target className=\"w-8 h-8 text-blue-500\" />\n            </div>\n            <div className=\"mt-2 text-sm text-gray-600\">\n              {teamSummary.totalOpportunities} total opportunities\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Active Members</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {teamSummary.activeMembersThisPeriod}\n                </p>\n              </div>\n              <Users className=\"w-8 h-8 text-purple-500\" />\n            </div>\n            <div className=\"mt-2 text-sm text-gray-600\">\n              out of {teamSummary.totalMembers} total\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Top Performer</p>\n                <p className=\"text-lg font-bold text-gray-900 truncate\">\n                  {teamSummary.topPerformer?.name || \"N/A\"}\n                </p>\n              </div>\n              <Trophy className=\"w-8 h-8 text-yellow-500\" />\n            </div>\n            <div className=\"mt-2 text-sm text-gray-600\">\n              €{teamSummary.topPerformer?.closedValue.toLocaleString() || \"0\"} revenue\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Performance Controls */}\n      <div className=\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex items-center gap-2\">\n            <Filter className=\"w-4 h-4 text-gray-500\" />\n            <span className=\"text-sm font-medium\">Sort by:</span>\n          </div>\n          \n          <Select value={sortBy} onValueChange={setSortBy}>\n            <SelectTrigger className=\"w-40\">\n              <SelectValue />\n            </SelectTrigger>\n            <SelectContent>\n              {METRICS.map(metric => (\n                <SelectItem key={metric.key} value={metric.key}>\n                  {metric.label}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n\n          <Button \n            variant=\"outline\" \n            size=\"sm\"\n            onClick={() => setSortOrder(sortOrder === \"desc\" ? \"asc\" : \"desc\")}\n          >\n            {sortOrder === \"desc\" ? <TrendingDown className=\"w-4 h-4\" /> : <TrendingUp className=\"w-4 h-4\" />}\n          </Button>\n        </div>\n\n        <div className=\"text-sm text-gray-600\">\n          {sortedPerformance.length} team members\n        </div>\n      </div>\n\n      {/* Individual Performance */}\n      <div className=\"space-y-4\">\n        {sortedPerformance.map((member, index) => {\n          const performance = getPerformanceLevel(member.winRate, member.avgDealSize, avgTeamWinRate, avgTeamDealSize);\n          const PerformanceIcon = performance.icon;\n          \n          return (\n            <Card key={member.userId}>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-lg font-bold text-gray-400\">#{index + 1}</span>\n                      <Avatar className=\"w-10 h-10\">\n                        <AvatarFallback>\n                          <AvatarInitials name={member.name} />\n                        </AvatarFallback>\n                      </Avatar>\n                      <div>\n                        <p className=\"font-semibold text-gray-900\">{member.name}</p>\n                        <p className=\"text-sm text-gray-600\">{member.email}</p>\n                      </div>\n                    </div>\n\n                    <Badge variant=\"secondary\" className={performance.color}>\n                      <PerformanceIcon className=\"w-3 h-3 mr-1\" />\n                      {performance.level}\n                    </Badge>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6 mt-6\">\n                  {METRICS.map(metric => {\n                    const value = member[metric.key as keyof TeamMember] as number;\n                    const MetricIcon = metric.icon;\n                    \n                    return (\n                      <div key={metric.key} className=\"text-center\">\n                        <div className=\"flex items-center justify-center mb-2\">\n                          <MetricIcon className=\"w-5 h-5 text-gray-400 mr-2\" />\n                          <span className=\"text-sm font-medium text-gray-600\">{metric.label}</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-gray-900\">\n                          {formatValue(value, metric.format)}\n                        </p>\n                        \n                        {/* Progress bar for win rate */}\n                        {metric.key === \"winRate\" && (\n                          <Progress \n                            value={value} \n                            className=\"mt-2 h-2\" \n                          />\n                        )}\n                      </div>\n                    );\n                  })}\n                </div>\n\n                <div className=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-100\">\n                  <div className=\"text-sm text-gray-600\">\n                    <span className=\"font-medium\">{member.totalOpportunities}</span> total opportunities • \n                    <span className=\"font-medium text-green-600 ml-1\">{member.closedWon}</span> won\n                  </div>\n                  \n                  {member.winRate > avgTeamWinRate && (\n                    <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\n                      <TrendingUp className=\"w-3 h-3 mr-1\" />\n                      Above Average\n                    </Badge>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {sortedPerformance.length === 0 && (\n        <Card>\n          <CardContent className=\"p-12 text-center\">\n            <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Sales Data</h3>\n            <p className=\"text-gray-600\">\n              No sales team members have opportunities in the selected time period.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAXA;;;;;;;;;;;AA2CA,MAAM,cAAc;IAClB;QAAE,OAAO;QAAM,OAAO;QAAe,MAAM;IAAE;IAC7C;QAAE,OAAO;QAAO,OAAO;QAAgB,MAAM;IAAG;IAChD;QAAE,OAAO;QAAO,OAAO;QAAgB,MAAM;IAAG;IAChD;QAAE,OAAO;QAAM,OAAO;QAAiB,MAAM;IAAI;IACjD;QAAE,OAAO;QAAM,OAAO;QAAa,MAAM;IAAI;IAC7C;QAAE,OAAO;QAAO,OAAO;QAAY,MAAM;IAAE;CAC5C;AAED,MAAM,UAAU;IACd;QAAE,KAAK;QAAe,OAAO;QAAW,MAAM,qNAAA,CAAA,aAAU;QAAE,QAAQ;IAAW;IAC7E;QAAE,KAAK;QAAW,OAAO;QAAY,MAAM,yMAAA,CAAA,SAAM;QAAE,QAAQ;IAAa;IACxE;QAAE,KAAK;QAAe,OAAO;QAAiB,MAAM,qNAAA,CAAA,YAAS;QAAE,QAAQ;IAAW;IAClF;QAAE,KAAK;QAAiB,OAAO;QAAe,MAAM,6MAAA,CAAA,WAAQ;QAAE,QAAQ;IAAO;CAC9E;AAEM,SAAS,uBAAuB,KAA0C;QAA1C,EAAE,SAAS,EAA+B,GAA1C;QAMY,mBAKA,oBA0KhC,2BAMH;;IA1Ld,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;IAE3D,MAAM,mBAAmB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,mBAAmB,EAAE;QACvE,WAAW,cAAc,QAAQ,KAAK,GAAG,KAAK,CAAC,EAAA,oBAAA,YAAY,IAAI;iEAAC,CAAA,IAAK,EAAE,KAAK,KAAK;6EAAlC,wCAAA,kBAA8C,IAAI,KAAI,EAAE,IAAI,KAAK,KAAK,KAAK,OAAO;QACjI,SAAS,KAAK,GAAG;IACnB;IAEA,MAAM,oBAAoB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,oBAAoB,EAAE;QACzE,WAAW,cAAc,QAAQ,KAAK,GAAG,KAAK,CAAC,EAAA,qBAAA,YAAY,IAAI;kEAAC,CAAA,IAAK,EAAE,KAAK,KAAK;8EAAlC,yCAAA,mBAA8C,IAAI,KAAI,EAAE,IAAI,KAAK,KAAK,KAAK,OAAO;QACjI,SAAS,KAAK,GAAG;IACnB;IAEA,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;6DAAE;YAChC,IAAI,CAAC,kBAAkB,OAAO,EAAE;YAEhC,OAAO;mBAAI;aAAiB,CAAC,IAAI;qEAAC,CAAC,GAAG;oBACpC,MAAM,SAAS,CAAC,CAAC,OAA2B;oBAC5C,MAAM,SAAS,CAAC,CAAC,OAA2B;oBAE5C,OAAO,cAAc,SAAS,SAAS,SAAS,SAAS;gBAC3D;;QACF;4DAAG;QAAC;QAAkB;QAAQ;KAAU;IAExC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;uDAAE;YAC1B,IAAI,CAAC,kBAAkB,OAAO;YAE9B,MAAM,eAAe,iBAAiB,MAAM;4EAAC,CAAC,KAAK,SAAW,MAAM,OAAO,WAAW;2EAAE;YACxF,MAAM,qBAAqB,iBAAiB,MAAM;kFAAC,CAAC,KAAK,SAAW,MAAM,OAAO,kBAAkB;iFAAE;YACrG,MAAM,iBAAiB,iBAAiB,MAAM;8EAAC,CAAC,KAAK,SAAW,MAAM,OAAO,SAAS;6EAAE;YACxF,MAAM,aAAa,iBAAiB,MAAM,GAAG,IACzC,iBAAiB,MAAM;+DAAC,CAAC,KAAK,SAAW,MAAM,OAAO,OAAO;8DAAE,KAAK,iBAAiB,MAAM,GAC3F;YAEJ,OAAO;gBACL,cAAc,iBAAiB,MAAM;gBACrC;gBACA;gBACA;gBACA;gBACA,cAAc,iBAAiB,CAAC,EAAE;gBAClC,yBAAyB,iBAAiB,MAAM;mEAAC,CAAA,SAAU,OAAO,kBAAkB,GAAG;kEAAG,MAAM;YAClG;QACF;sDAAG;QAAC;QAAkB;KAAkB;IAExC,MAAM,cAAc,CAAC,OAAe;QAClC,OAAQ;YACN,KAAK;gBACH,OAAO,AAAC,IAA0B,OAAvB,MAAM,cAAc;YACjC,KAAK;gBACH,OAAO,AAAC,GAAoB,OAAlB,KAAK,KAAK,CAAC,QAAO;YAC9B,KAAK;gBACH,OAAO,AAAC,GAAoB,OAAlB,KAAK,KAAK,CAAC,QAAO;YAC9B;gBACE,OAAO,MAAM,QAAQ;QACzB;IACF;IAEA,MAAM,sBAAsB,CAAC,SAAiB,aAAqB,gBAAwB;QACzF,IAAI,WAAW,iBAAiB,OAAO,eAAe,kBAAkB,KAAK;YAC3E,OAAO;gBAAE,OAAO;gBAAa,OAAO;gBAA+B,MAAM,uMAAA,CAAA,QAAK;YAAC;QACjF,OAAO,IAAI,WAAW,kBAAkB,eAAe,iBAAiB;YACtE,OAAO;gBAAE,OAAO;gBAAQ,OAAO;gBAA6B,MAAM,uMAAA,CAAA,QAAK;YAAC;QAC1E,OAAO,IAAI,WAAW,iBAAiB,OAAO,eAAe,kBAAkB,KAAK;YAClF,OAAO;gBAAE,OAAO;gBAAW,OAAO;gBAAiC,MAAM,yMAAA,CAAA,SAAM;YAAC;QAClF,OAAO;YACL,OAAO;gBAAE,OAAO;gBAAqB,OAAO;gBAA2B,MAAM,qNAAA,CAAA,aAAU;YAAC;QAC1F;IACF;IAEA,MAAM,eAAe;QACnB,uCAAuC;QACvC,QAAQ,GAAG,CAAC,uCAAuC;YAAE;YAAkB;QAAY;IACrF;IAEA,IAAI,CAAC,oBAAoB,CAAC,aAAa;QACrC,qBACE,6LAAC;YAAI,WAAW,AAAC,yCAAkD,OAAV;sBACvD,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,MAAM,iBAAiB,YAAY,UAAU;IAC7C,MAAM,kBAAkB,iBAAiB,MAAM,GAAG,IAC9C,iBAAiB,MAAM,CAAC,CAAC,KAAK,SAAW,MAAM,OAAO,WAAW,EAAE,KAAK,iBAAiB,MAAM,GAC/F;IAEJ,qBACE,6LAAC;QAAI,WAAW,AAAC,aAAsB,OAAV;;0BAE3B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAKvC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCAAC,OAAO;gCAAW,eAAe;;kDACvC,6LAAC,qIAAA,CAAA,gBAAa;wCAAC,WAAU;kDACvB,cAAA,6LAAC,qIAAA,CAAA,cAAW;;;;;;;;;;kDAEd,6LAAC,qIAAA,CAAA,gBAAa;kDACX,YAAY,GAAG,CAAC,CAAA,sBACf,6LAAC,qIAAA,CAAA,aAAU;gDAAmB,OAAO,MAAM,KAAK;0DAC7C,MAAM,KAAK;+CADG,MAAM,KAAK;;;;;;;;;;;;;;;;0CAOlC,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;;kDAC3C,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;;;;;;;0BAO3C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,mIAAA,CAAA,OAAI;kCACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,6LAAC;oDAAE,WAAU;;wDAAmC;wDAC5C,YAAY,YAAY,CAAC,cAAc;;;;;;;;;;;;;sDAG7C,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;;;;;;;;8CAExB,6LAAC;oCAAI,WAAU;;wCACZ,YAAY,cAAc;wCAAC;;;;;;;;;;;;;;;;;;kCAKlC,6LAAC,mIAAA,CAAA,OAAI;kCACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,6LAAC;oDAAE,WAAU;;wDACV,KAAK,KAAK,CAAC,YAAY,UAAU;wDAAE;;;;;;;;;;;;;sDAGxC,6LAAC,yMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;;;;;;;8CAEpB,6LAAC;oCAAI,WAAU;;wCACZ,YAAY,kBAAkB;wCAAC;;;;;;;;;;;;;;;;;;kCAKtC,6LAAC,mIAAA,CAAA,OAAI;kCACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,6LAAC;oDAAE,WAAU;8DACV,YAAY,uBAAuB;;;;;;;;;;;;sDAGxC,6LAAC,uMAAA,CAAA,QAAK;4CAAC,WAAU;;;;;;;;;;;;8CAEnB,6LAAC;oCAAI,WAAU;;wCAA6B;wCAClC,YAAY,YAAY;wCAAC;;;;;;;;;;;;;;;;;;kCAKvC,6LAAC,mIAAA,CAAA,OAAI;kCACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAoC;;;;;;8DACjD,6LAAC;oDAAE,WAAU;8DACV,EAAA,4BAAA,YAAY,YAAY,cAAxB,gDAAA,0BAA0B,IAAI,KAAI;;;;;;;;;;;;sDAGvC,6LAAC,yMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;;;;;;;8CAEpB,6LAAC;oCAAI,WAAU;;wCAA6B;wCACxC,EAAA,6BAAA,YAAY,YAAY,cAAxB,iDAAA,2BAA0B,WAAW,CAAC,cAAc,OAAM;wCAAI;;;;;;;;;;;;;;;;;;;;;;;;0BAOxE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,yMAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC;wCAAK,WAAU;kDAAsB;;;;;;;;;;;;0CAGxC,6LAAC,qIAAA,CAAA,SAAM;gCAAC,OAAO;gCAAQ,eAAe;;kDACpC,6LAAC,qIAAA,CAAA,gBAAa;wCAAC,WAAU;kDACvB,cAAA,6LAAC,qIAAA,CAAA,cAAW;;;;;;;;;;kDAEd,6LAAC,qIAAA,CAAA,gBAAa;kDACX,QAAQ,GAAG,CAAC,CAAA,uBACX,6LAAC,qIAAA,CAAA,aAAU;gDAAkB,OAAO,OAAO,GAAG;0DAC3C,OAAO,KAAK;+CADE,OAAO,GAAG;;;;;;;;;;;;;;;;0CAOjC,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,aAAa,cAAc,SAAS,QAAQ;0CAE1D,cAAc,uBAAS,6LAAC,yNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;yDAAe,6LAAC,qNAAA,CAAA,aAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAIzF,6LAAC;wBAAI,WAAU;;4BACZ,kBAAkB,MAAM;4BAAC;;;;;;;;;;;;;0BAK9B,6LAAC;gBAAI,WAAU;0BACZ,kBAAkB,GAAG,CAAC,CAAC,QAAQ;oBAC9B,MAAM,cAAc,oBAAoB,OAAO,OAAO,EAAE,OAAO,WAAW,EAAE,gBAAgB;oBAC5F,MAAM,kBAAkB,YAAY,IAAI;oBAExC,qBACE,6LAAC,mIAAA,CAAA,OAAI;kCACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAK,WAAU;;4DAAkC;4DAAE,QAAQ;;;;;;;kEAC5D,6LAAC,qIAAA,CAAA,SAAM;wDAAC,WAAU;kEAChB,cAAA,6LAAC,qIAAA,CAAA,iBAAc;sEACb,cAAA,6LAAC,qIAAA,CAAA,iBAAc;gEAAC,MAAM,OAAO,IAAI;;;;;;;;;;;;;;;;kEAGrC,6LAAC;;0EACC,6LAAC;gEAAE,WAAU;0EAA+B,OAAO,IAAI;;;;;;0EACvD,6LAAC;gEAAE,WAAU;0EAAyB,OAAO,KAAK;;;;;;;;;;;;;;;;;;0DAItD,6LAAC,oIAAA,CAAA,QAAK;gDAAC,SAAQ;gDAAY,WAAW,YAAY,KAAK;;kEACrD,6LAAC;wDAAgB,WAAU;;;;;;oDAC1B,YAAY,KAAK;;;;;;;;;;;;;;;;;;8CAKxB,6LAAC;oCAAI,WAAU;8CACZ,QAAQ,GAAG,CAAC,CAAA;wCACX,MAAM,QAAQ,MAAM,CAAC,OAAO,GAAG,CAAqB;wCACpD,MAAM,aAAa,OAAO,IAAI;wCAE9B,qBACE,6LAAC;4CAAqB,WAAU;;8DAC9B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAW,WAAU;;;;;;sEACtB,6LAAC;4DAAK,WAAU;sEAAqC,OAAO,KAAK;;;;;;;;;;;;8DAEnE,6LAAC;oDAAE,WAAU;8DACV,YAAY,OAAO,OAAO,MAAM;;;;;;gDAIlC,OAAO,GAAG,KAAK,2BACd,6LAAC;oDACC,OAAO;oDACP,WAAU;;;;;;;2CAbN,OAAO,GAAG;;;;;oCAkBxB;;;;;;8CAGF,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DAAe,OAAO,kBAAkB;;;;;;gDAAQ;8DAChE,6LAAC;oDAAK,WAAU;8DAAmC,OAAO,SAAS;;;;;;gDAAQ;;;;;;;wCAG5E,OAAO,OAAO,GAAG,gCAChB,6LAAC,oIAAA,CAAA,QAAK;4CAAC,SAAQ;4CAAY,WAAU;;8DACnC,6LAAC,qNAAA,CAAA,aAAU;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;uBA3DtC,OAAO,MAAM;;;;;gBAmE5B;;;;;;YAGD,kBAAkB,MAAM,KAAK,mBAC5B,6LAAC,mIAAA,CAAA,OAAI;0BACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,6LAAC,uMAAA,CAAA,QAAK;4BAAC,WAAU;;;;;;sCACjB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,6LAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAQzC;GA9TgB;;QAKW,2JAAA,CAAA,WAAQ;QAKP,2JAAA,CAAA,WAAQ;;;KAVpB","debugId":null}},
    {"offset": {"line": 4955, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/PipelineHealthIndicators.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { \n  AlertTriangle, \n  CheckCircle, \n  XCircle, \n  TrendingDown, \n  TrendingUp,\n  Clock,\n  Zap,\n  Target,\n  Activity,\n  AlertCircle,\n  Info,\n  RefreshCw\n} from \"lucide-react\";\n\ninterface PipelineHealthIndicatorsProps {\n  className?: string;\n}\n\ninterface HealthIndicator {\n  id: string;\n  title: string;\n  status: \"healthy\" | \"warning\" | \"critical\" | \"info\";\n  value: string | number;\n  description: string;\n  recommendation?: string;\n  trend?: \"up\" | \"down\" | \"stable\";\n  trendValue?: number;\n}\n\ninterface Bottleneck {\n  stage: string;\n  avgDaysInStage: number;\n  conversionRate: number;\n  opportunityCount: number;\n  severity: \"low\" | \"medium\" | \"high\";\n  recommendation: string;\n}\n\nexport function PipelineHealthIndicators({ className }: PipelineHealthIndicatorsProps) {\n  const [refreshing, setRefreshing] = useState(false);\n\n  const pipelineAnalytics = useQuery(api.opportunities.getPipelineAnalytics, {});\n  const opportunities = useQuery(api.opportunities.getAllOpportunities, { isActive: true });\n\n  const healthIndicators = useMemo(() => {\n    if (!pipelineAnalytics || !opportunities) return [];\n\n    const indicators: HealthIndicator[] = [];\n    const { summary, stageMetrics, conversionRates } = pipelineAnalytics;\n\n    // Overall Win Rate Health\n    const winRateStatus = summary.winRate >= 30 ? \"healthy\" : summary.winRate >= 20 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"win-rate\",\n      title: \"Overall Win Rate\",\n      status: winRateStatus,\n      value: `${Math.round(summary.winRate)}%`,\n      description: \"Percentage of opportunities that close successfully\",\n      recommendation: winRateStatus !== \"healthy\" ? \"Consider improving lead qualification and sales training\" : undefined,\n      trend: \"stable\", // Would need historical data for actual trend\n    });\n\n    // Pipeline Velocity\n    const avgSalesCycle = summary.avgSalesCycle;\n    const velocityStatus = avgSalesCycle <= 30 ? \"healthy\" : avgSalesCycle <= 60 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"sales-velocity\",\n      title: \"Sales Cycle Length\",\n      status: velocityStatus,\n      value: `${avgSalesCycle} days`,\n      description: \"Average time to close opportunities\",\n      recommendation: velocityStatus !== \"healthy\" ? \"Focus on accelerating deal progression and removing blockers\" : undefined,\n    });\n\n    // Pipeline Balance\n    const activeOpps = opportunities.filter(opp => ![\"CLOSED_WON\", \"CLOSED_LOST\"].includes(opp.stage));\n    const prospectRatio = activeOpps.filter(opp => opp.stage === \"PROSPECT\").length / activeOpps.length;\n    const balanceStatus = prospectRatio <= 0.4 ? \"healthy\" : prospectRatio <= 0.6 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"pipeline-balance\",\n      title: \"Pipeline Balance\",\n      status: balanceStatus,\n      value: `${Math.round(prospectRatio * 100)}%`,\n      description: \"Percentage of opportunities in early stages\",\n      recommendation: balanceStatus !== \"healthy\" ? \"Increase focus on advancing prospects through the pipeline\" : undefined,\n    });\n\n    // Conversion Rate Health\n    const overallConversion = conversionRates.overallWinRate;\n    const conversionStatus = overallConversion >= 25 ? \"healthy\" : overallConversion >= 15 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"conversion-health\",\n      title: \"Conversion Health\",\n      status: conversionStatus,\n      value: `${overallConversion}%`,\n      description: \"Overall pipeline conversion performance\",\n      recommendation: conversionStatus !== \"healthy\" ? \"Review lead sources and qualification criteria\" : undefined,\n    });\n\n    // Stale Opportunities\n    const now = Date.now();\n    const staleThreshold = 30 * 24 * 60 * 60 * 1000; // 30 days\n    const staleOpportunities = activeOpps.filter(opp => (now - opp.updatedAt) > staleThreshold);\n    const staleStatus = staleOpportunities.length === 0 ? \"healthy\" : staleOpportunities.length <= 5 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"stale-opportunities\",\n      title: \"Stale Opportunities\",\n      status: staleStatus,\n      value: staleOpportunities.length,\n      description: \"Opportunities inactive for over 30 days\",\n      recommendation: staleStatus !== \"healthy\" ? \"Review and update stale opportunities or mark as lost\" : undefined,\n    });\n\n    // Revenue Concentration Risk\n    const topOpportunityValue = Math.max(...activeOpps.map(opp => opp.value));\n    const totalPipelineValue = activeOpps.reduce((sum, opp) => sum + opp.value, 0);\n    const concentrationRisk = topOpportunityValue / totalPipelineValue;\n    const concentrationStatus = concentrationRisk <= 0.3 ? \"healthy\" : concentrationRisk <= 0.5 ? \"warning\" : \"critical\";\n    indicators.push({\n      id: \"concentration-risk\",\n      title: \"Revenue Concentration\",\n      status: concentrationStatus,\n      value: `${Math.round(concentrationRisk * 100)}%`,\n      description: \"Percentage of pipeline value in largest opportunity\",\n      recommendation: concentrationStatus !== \"healthy\" ? \"Diversify pipeline to reduce dependency on single large deals\" : undefined,\n    });\n\n    return indicators;\n  }, [pipelineAnalytics, opportunities]);\n\n  const bottlenecks = useMemo(() => {\n    if (!pipelineAnalytics) return [];\n\n    const { stageMetrics } = pipelineAnalytics;\n    const bottlenecks: Bottleneck[] = [];\n\n    stageMetrics.forEach(stage => {\n      if (stage.count === 0) return;\n\n      let severity: \"low\" | \"medium\" | \"high\" = \"low\";\n      let recommendation = \"\";\n\n      // Identify bottlenecks based on time spent in stage and conversion rates\n      if (stage.avgDaysInStage > 45 && stage.count > 5) {\n        severity = \"high\";\n        recommendation = `Opportunities are spending too long in ${stage.stage}. Review stage requirements and provide additional support.`;\n      } else if (stage.avgDaysInStage > 30 || stage.count > 10) {\n        severity = \"medium\";\n        recommendation = `Monitor ${stage.stage} stage for potential process improvements.`;\n      }\n\n      if (severity !== \"low\") {\n        bottlenecks.push({\n          stage: stage.stage,\n          avgDaysInStage: stage.avgDaysInStage,\n          conversionRate: 0, // Would need to calculate from historical data\n          opportunityCount: stage.count,\n          severity,\n          recommendation,\n        });\n      }\n    });\n\n    return bottlenecks.sort((a, b) => {\n      const severityOrder = { high: 3, medium: 2, low: 1 };\n      return severityOrder[b.severity] - severityOrder[a.severity];\n    });\n  }, [pipelineAnalytics]);\n\n  const overallHealthScore = useMemo(() => {\n    if (healthIndicators.length === 0) return 0;\n    \n    const scores = healthIndicators.map(indicator => {\n      switch (indicator.status) {\n        case \"healthy\": return 100;\n        case \"warning\": return 60;\n        case \"critical\": return 20;\n        default: return 80;\n      }\n    });\n    \n    return Math.round(scores.reduce((sum, score) => sum + score, 0) / scores.length);\n  }, [healthIndicators]);\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"healthy\": return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\n      case \"warning\": return <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />;\n      case \"critical\": return <XCircle className=\"w-5 h-5 text-red-500\" />;\n      default: return <Info className=\"w-5 h-5 text-blue-500\" />;\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"healthy\": return \"border-green-200 bg-green-50\";\n      case \"warning\": return \"border-yellow-200 bg-yellow-50\";\n      case \"critical\": return \"border-red-200 bg-red-50\";\n      default: return \"border-blue-200 bg-blue-50\";\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case \"high\": return \"bg-red-100 text-red-800\";\n      case \"medium\": return \"bg-yellow-100 text-yellow-800\";\n      default: return \"bg-gray-100 text-gray-800\";\n    }\n  };\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setRefreshing(false);\n  };\n\n  if (!pipelineAnalytics || !opportunities) {\n    return (\n      <div className={`flex items-center justify-center h-64 ${className}`}>\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Pipeline Health</h2>\n          <p className=\"text-sm text-gray-600\">\n            Real-time health indicators and bottleneck analysis\n          </p>\n        </div>\n        \n        <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh} disabled={refreshing}>\n          <RefreshCw className={`w-4 h-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n          Refresh\n        </Button>\n      </div>\n\n      {/* Overall Health Score */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Activity className=\"w-5 h-5\" />\n            Overall Pipeline Health\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <p className=\"text-3xl font-bold text-gray-900\">{overallHealthScore}/100</p>\n              <p className=\"text-sm text-gray-600\">Health Score</p>\n            </div>\n            <div className=\"text-right\">\n              {overallHealthScore >= 80 && (\n                <Badge className=\"bg-green-100 text-green-800\">Excellent</Badge>\n              )}\n              {overallHealthScore >= 60 && overallHealthScore < 80 && (\n                <Badge className=\"bg-yellow-100 text-yellow-800\">Good</Badge>\n              )}\n              {overallHealthScore < 60 && (\n                <Badge className=\"bg-red-100 text-red-800\">Needs Attention</Badge>\n              )}\n            </div>\n          </div>\n          <Progress value={overallHealthScore} className=\"h-2\" />\n        </CardContent>\n      </Card>\n\n      {/* Health Indicators */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {healthIndicators.map(indicator => (\n          <Card key={indicator.id} className={getStatusColor(indicator.status)}>\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"font-semibold text-gray-900\">{indicator.title}</h3>\n                {getStatusIcon(indicator.status)}\n              </div>\n              \n              <div className=\"mb-2\">\n                <p className=\"text-2xl font-bold text-gray-900\">{indicator.value}</p>\n                <p className=\"text-sm text-gray-600\">{indicator.description}</p>\n              </div>\n\n              {indicator.trend && (\n                <div className=\"flex items-center mb-2\">\n                  {indicator.trend === \"up\" ? (\n                    <TrendingUp className=\"w-4 h-4 text-green-500 mr-1\" />\n                  ) : indicator.trend === \"down\" ? (\n                    <TrendingDown className=\"w-4 h-4 text-red-500 mr-1\" />\n                  ) : null}\n                  {indicator.trendValue && (\n                    <span className=\"text-sm text-gray-600\">\n                      {indicator.trendValue}% vs last period\n                    </span>\n                  )}\n                </div>\n              )}\n\n              {indicator.recommendation && (\n                <Alert className=\"mt-4\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription className=\"text-sm\">\n                    {indicator.recommendation}\n                  </AlertDescription>\n                </Alert>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Bottlenecks Analysis */}\n      {bottlenecks.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Target className=\"w-5 h-5\" />\n              Pipeline Bottlenecks\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {bottlenecks.map((bottleneck, index) => (\n                <div key={bottleneck.stage} className=\"flex items-start justify-between p-4 rounded-lg border\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"mt-1\">\n                      <Badge variant=\"outline\" className={getSeverityColor(bottleneck.severity)}>\n                        {bottleneck.severity.toUpperCase()}\n                      </Badge>\n                    </div>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-900\">{bottleneck.stage.replace('_', ' ')}</h4>\n                      <p className=\"text-sm text-gray-600 mt-1\">{bottleneck.recommendation}</p>\n                      <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                        <span className=\"flex items-center gap-1\">\n                          <Clock className=\"w-3 h-3\" />\n                          {bottleneck.avgDaysInStage} days avg\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <Zap className=\"w-3 h-3\" />\n                          {bottleneck.opportunityCount} opportunities\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {bottlenecks.length === 0 && (\n        <Card>\n          <CardContent className=\"p-8 text-center\">\n            <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Bottlenecks Detected</h3>\n            <p className=\"text-gray-600\">\n              Your pipeline is flowing smoothly with no significant bottlenecks identified.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAVA;;;;;;;;;;AAiDO,SAAS,yBAAyB,KAA4C;QAA5C,EAAE,SAAS,EAAiC,GAA5C;;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,oBAAoB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,oBAAoB,EAAE,CAAC;IAC5E,MAAM,gBAAgB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,mBAAmB,EAAE;QAAE,UAAU;IAAK;IAEvF,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;8DAAE;YAC/B,IAAI,CAAC,qBAAqB,CAAC,eAAe,OAAO,EAAE;YAEnD,MAAM,aAAgC,EAAE;YACxC,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,eAAe,EAAE,GAAG;YAEnD,0BAA0B;YAC1B,MAAM,gBAAgB,QAAQ,OAAO,IAAI,KAAK,YAAY,QAAQ,OAAO,IAAI,KAAK,YAAY;YAC9F,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,AAAC,GAA8B,OAA5B,KAAK,KAAK,CAAC,QAAQ,OAAO,GAAE;gBACtC,aAAa;gBACb,gBAAgB,kBAAkB,YAAY,6DAA6D;gBAC3G,OAAO;YACT;YAEA,oBAAoB;YACpB,MAAM,gBAAgB,QAAQ,aAAa;YAC3C,MAAM,iBAAiB,iBAAiB,KAAK,YAAY,iBAAiB,KAAK,YAAY;YAC3F,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,AAAC,GAAgB,OAAd,eAAc;gBACxB,aAAa;gBACb,gBAAgB,mBAAmB,YAAY,iEAAiE;YAClH;YAEA,mBAAmB;YACnB,MAAM,aAAa,cAAc,MAAM;iFAAC,CAAA,MAAO,CAAC;wBAAC;wBAAc;qBAAc,CAAC,QAAQ,CAAC,IAAI,KAAK;;YAChG,MAAM,gBAAgB,WAAW,MAAM;sEAAC,CAAA,MAAO,IAAI,KAAK,KAAK;qEAAY,MAAM,GAAG,WAAW,MAAM;YACnG,MAAM,gBAAgB,iBAAiB,MAAM,YAAY,iBAAiB,MAAM,YAAY;YAC5F,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,AAAC,GAAkC,OAAhC,KAAK,KAAK,CAAC,gBAAgB,MAAK;gBAC1C,aAAa;gBACb,gBAAgB,kBAAkB,YAAY,+DAA+D;YAC/G;YAEA,yBAAyB;YACzB,MAAM,oBAAoB,gBAAgB,cAAc;YACxD,MAAM,mBAAmB,qBAAqB,KAAK,YAAY,qBAAqB,KAAK,YAAY;YACrG,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,AAAC,GAAoB,OAAlB,mBAAkB;gBAC5B,aAAa;gBACb,gBAAgB,qBAAqB,YAAY,mDAAmD;YACtG;YAEA,sBAAsB;YACtB,MAAM,MAAM,KAAK,GAAG;YACpB,MAAM,iBAAiB,KAAK,KAAK,KAAK,KAAK,MAAM,UAAU;YAC3D,MAAM,qBAAqB,WAAW,MAAM;yFAAC,CAAA,MAAO,AAAC,MAAM,IAAI,SAAS,GAAI;;YAC5E,MAAM,cAAc,mBAAmB,MAAM,KAAK,IAAI,YAAY,mBAAmB,MAAM,IAAI,IAAI,YAAY;YAC/G,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,mBAAmB,MAAM;gBAChC,aAAa;gBACb,gBAAgB,gBAAgB,YAAY,0DAA0D;YACxG;YAEA,6BAA6B;YAC7B,MAAM,sBAAsB,KAAK,GAAG,IAAI,WAAW,GAAG;0FAAC,CAAA,MAAO,IAAI,KAAK;;YACvE,MAAM,qBAAqB,WAAW,MAAM;yFAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,KAAK;wFAAE;YAC5E,MAAM,oBAAoB,sBAAsB;YAChD,MAAM,sBAAsB,qBAAqB,MAAM,YAAY,qBAAqB,MAAM,YAAY;YAC1G,WAAW,IAAI,CAAC;gBACd,IAAI;gBACJ,OAAO;gBACP,QAAQ;gBACR,OAAO,AAAC,GAAsC,OAApC,KAAK,KAAK,CAAC,oBAAoB,MAAK;gBAC9C,aAAa;gBACb,gBAAgB,wBAAwB,YAAY,kEAAkE;YACxH;YAEA,OAAO;QACT;6DAAG;QAAC;QAAmB;KAAc;IAErC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;yDAAE;YAC1B,IAAI,CAAC,mBAAmB,OAAO,EAAE;YAEjC,MAAM,EAAE,YAAY,EAAE,GAAG;YACzB,MAAM,cAA4B,EAAE;YAEpC,aAAa,OAAO;iEAAC,CAAA;oBACnB,IAAI,MAAM,KAAK,KAAK,GAAG;oBAEvB,IAAI,WAAsC;oBAC1C,IAAI,iBAAiB;oBAErB,yEAAyE;oBACzE,IAAI,MAAM,cAAc,GAAG,MAAM,MAAM,KAAK,GAAG,GAAG;wBAChD,WAAW;wBACX,iBAAiB,AAAC,0CAAqD,OAAZ,MAAM,KAAK,EAAC;oBACzE,OAAO,IAAI,MAAM,cAAc,GAAG,MAAM,MAAM,KAAK,GAAG,IAAI;wBACxD,WAAW;wBACX,iBAAiB,AAAC,WAAsB,OAAZ,MAAM,KAAK,EAAC;oBAC1C;oBAEA,IAAI,aAAa,OAAO;wBACtB,YAAY,IAAI,CAAC;4BACf,OAAO,MAAM,KAAK;4BAClB,gBAAgB,MAAM,cAAc;4BACpC,gBAAgB;4BAChB,kBAAkB,MAAM,KAAK;4BAC7B;4BACA;wBACF;oBACF;gBACF;;YAEA,OAAO,YAAY,IAAI;iEAAC,CAAC,GAAG;oBAC1B,MAAM,gBAAgB;wBAAE,MAAM;wBAAG,QAAQ;wBAAG,KAAK;oBAAE;oBACnD,OAAO,aAAa,CAAC,EAAE,QAAQ,CAAC,GAAG,aAAa,CAAC,EAAE,QAAQ,CAAC;gBAC9D;;QACF;wDAAG;QAAC;KAAkB;IAEtB,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;gEAAE;YACjC,IAAI,iBAAiB,MAAM,KAAK,GAAG,OAAO;YAE1C,MAAM,SAAS,iBAAiB,GAAG;+EAAC,CAAA;oBAClC,OAAQ,UAAU,MAAM;wBACtB,KAAK;4BAAW,OAAO;wBACvB,KAAK;4BAAW,OAAO;wBACvB,KAAK;4BAAY,OAAO;wBACxB;4BAAS,OAAO;oBAClB;gBACF;;YAEA,OAAO,KAAK,KAAK,CAAC,OAAO,MAAM;wEAAC,CAAC,KAAK,QAAU,MAAM;uEAAO,KAAK,OAAO,MAAM;QACjF;+DAAG;QAAC;KAAiB;IAErB,MAAM,gBAAgB,CAAC;QACrB,OAAQ;YACN,KAAK;gBAAW,qBAAO,6LAAC,8NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;YAC9C,KAAK;gBAAW,qBAAO,6LAAC,2NAAA,CAAA,gBAAa;oBAAC,WAAU;;;;;;YAChD,KAAK;gBAAY,qBAAO,6LAAC,+MAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;YAC3C;gBAAS,qBAAO,6LAAC,qMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;QAClC;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBAAW,OAAO;YACvB,KAAK;gBAAW,OAAO;YACvB,KAAK;gBAAY,OAAO;YACxB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,gBAAgB;QACpB,cAAc;QACd,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;QACjD,cAAc;IAChB;IAEA,IAAI,CAAC,qBAAqB,CAAC,eAAe;QACxC,qBACE,6LAAC;YAAI,WAAW,AAAC,yCAAkD,OAAV;sBACvD,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,6LAAC;QAAI,WAAW,AAAC,aAAsB,OAAV;;0BAE3B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAKvC,6LAAC,qIAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAe,UAAU;;0CACpE,6LAAC,mNAAA,CAAA,YAAS;gCAAC,WAAW,AAAC,gBAAgD,OAAjC,aAAa,iBAAiB;;;;;;4BAAQ;;;;;;;;;;;;;0BAMhF,6LAAC,mIAAA,CAAA,OAAI;;kCACH,6LAAC,mIAAA,CAAA,aAAU;kCACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;4BAAC,WAAU;;8CACnB,6LAAC,6MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIpC,6LAAC,mIAAA,CAAA,cAAW;;0CACV,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;;oDAAoC;oDAAmB;;;;;;;0DACpE,6LAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;kDAEvC,6LAAC;wCAAI,WAAU;;4CACZ,sBAAsB,oBACrB,6LAAC,oIAAA,CAAA,QAAK;gDAAC,WAAU;0DAA8B;;;;;;4CAEhD,sBAAsB,MAAM,qBAAqB,oBAChD,6LAAC,oIAAA,CAAA,QAAK;gDAAC,WAAU;0DAAgC;;;;;;4CAElD,qBAAqB,oBACpB,6LAAC,oIAAA,CAAA,QAAK;gDAAC,WAAU;0DAA0B;;;;;;;;;;;;;;;;;;0CAIjD,6LAAC;gCAAS,OAAO;gCAAoB,WAAU;;;;;;;;;;;;;;;;;;0BAKnD,6LAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAA,0BACpB,6LAAC,mIAAA,CAAA,OAAI;wBAAoB,WAAW,eAAe,UAAU,MAAM;kCACjE,cAAA,6LAAC,mIAAA,CAAA,cAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDAA+B,UAAU,KAAK;;;;;;wCAC3D,cAAc,UAAU,MAAM;;;;;;;8CAGjC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAAoC,UAAU,KAAK;;;;;;sDAChE,6LAAC;4CAAE,WAAU;sDAAyB,UAAU,WAAW;;;;;;;;;;;;gCAG5D,UAAU,KAAK,kBACd,6LAAC;oCAAI,WAAU;;wCACZ,UAAU,KAAK,KAAK,qBACnB,6LAAC,qNAAA,CAAA,aAAU;4CAAC,WAAU;;;;;mDACpB,UAAU,KAAK,KAAK,uBACtB,6LAAC,yNAAA,CAAA,eAAY;4CAAC,WAAU;;;;;mDACtB;wCACH,UAAU,UAAU,kBACnB,6LAAC;4CAAK,WAAU;;gDACb,UAAU,UAAU;gDAAC;;;;;;;;;;;;;gCAM7B,UAAU,cAAc,kBACvB,6LAAC;oCAAM,WAAU;;sDACf,6LAAC,uNAAA,CAAA,cAAW;4CAAC,WAAU;;;;;;sDACvB,6LAAC;4CAAiB,WAAU;sDACzB,UAAU,cAAc;;;;;;;;;;;;;;;;;;uBA/BxB,UAAU,EAAE;;;;;;;;;;YAyC1B,YAAY,MAAM,GAAG,mBACpB,6LAAC,mIAAA,CAAA,OAAI;;kCACH,6LAAC,mIAAA,CAAA,aAAU;kCACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;4BAAC,WAAU;;8CACnB,6LAAC,yMAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIlC,6LAAC,mIAAA,CAAA,cAAW;kCACV,cAAA,6LAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC,YAAY,sBAC5B,6LAAC;oCAA2B,WAAU;8CACpC,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAU,WAAW,iBAAiB,WAAW,QAAQ;8DACrE,WAAW,QAAQ,CAAC,WAAW;;;;;;;;;;;0DAGpC,6LAAC;;kEACC,6LAAC;wDAAG,WAAU;kEAA+B,WAAW,KAAK,CAAC,OAAO,CAAC,KAAK;;;;;;kEAC3E,6LAAC;wDAAE,WAAU;kEAA8B,WAAW,cAAc;;;;;;kEACpE,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAK,WAAU;;kFACd,6LAAC,uMAAA,CAAA,QAAK;wEAAC,WAAU;;;;;;oEAChB,WAAW,cAAc;oEAAC;;;;;;;0EAE7B,6LAAC;gEAAK,WAAU;;kFACd,6LAAC,mMAAA,CAAA,MAAG;wEAAC,WAAU;;;;;;oEACd,WAAW,gBAAgB;oEAAC;;;;;;;;;;;;;;;;;;;;;;;;;mCAjB7B,WAAW,KAAK;;;;;;;;;;;;;;;;;;;;;YA6BnC,YAAY,MAAM,KAAK,mBACtB,6LAAC,mIAAA,CAAA,OAAI;0BACH,cAAA,6LAAC,mIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACrB,6LAAC,8NAAA,CAAA,cAAW;4BAAC,WAAU;;;;;;sCACvB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,6LAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;;;;;;AAQzC;GA1UgB;;QAGY,2JAAA,CAAA,WAAQ;QACZ,2JAAA,CAAA,WAAQ;;;KAJhB","debugId":null}},
    {"offset": {"line": 5753, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/app/opportunities/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Authenticated, Unauthenticated } from \"convex/react\";\nimport { SignInButton } from \"@clerk/nextjs\";\nimport { OpportunityPipeline } from \"~/components/features/opportunities/OpportunityPipeline\";\nimport { PipelineAnalytics } from \"~/components/features/opportunities/PipelineAnalytics\";\nimport { SalesPerformanceReport } from \"~/components/features/opportunities/SalesPerformanceReport\";\nimport { PipelineHealthIndicators } from \"~/components/features/opportunities/PipelineHealthIndicators\";\nimport { useState } from \"react\";\nimport { \n  BarChart3, \n  Users, \n  Activity, \n  Kanban,\n  TrendingUp\n} from \"lucide-react\";\n\nexport default function OpportunitiesPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <Authenticated>\n          <OpportunitiesContent />\n        </Authenticated>\n        \n        <Unauthenticated>\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Access Restricted</h1>\n            <p className=\"text-gray-600 mb-6\">Please sign in to view opportunities.</p>\n            <SignInButton mode=\"modal\">\n              <button className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n                Sign In\n              </button>\n            </SignInButton>\n          </div>\n        </Unauthenticated>\n      </div>\n    </div>\n  );\n}\n\ntype TabView = \"pipeline\" | \"analytics\" | \"performance\" | \"health\";\n\nconst TABS = [\n  { id: \"pipeline\" as TabView, label: \"Pipeline\", icon: Kanban, description: \"Kanban board view\" },\n  { id: \"analytics\" as TabView, label: \"Analytics\", icon: BarChart3, description: \"Pipeline metrics\" },\n  { id: \"performance\" as TabView, label: \"Performance\", icon: TrendingUp, description: \"Team performance\" },\n  { id: \"health\" as TabView, label: \"Health\", icon: Activity, description: \"Pipeline health\" },\n];\n\nfunction OpportunitiesContent() {\n  const [activeTab, setActiveTab] = useState<TabView>(\"pipeline\");\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case \"pipeline\":\n        return <OpportunityPipeline />;\n      case \"analytics\":\n        return <PipelineAnalytics />;\n      case \"performance\":\n        return <SalesPerformanceReport />;\n      case \"health\":\n        return <PipelineHealthIndicators />;\n      default:\n        return <OpportunityPipeline />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Sales Pipeline</h1>\n          <p className=\"text-gray-600 mt-1\">\n            Manage opportunities, analyze performance, and track pipeline health\n          </p>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {TABS.map((tab) => {\n            const Icon = tab.icon;\n            const isActive = activeTab === tab.id;\n            \n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`\n                  group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors\n                  ${isActive\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  }\n                `}\n              >\n                <Icon className={`\n                  -ml-0.5 mr-2 h-5 w-5 transition-colors\n                  ${isActive ? 'text-blue-500' : 'text-gray-400 group-hover:text-gray-500'}\n                `} />\n                <span>{tab.label}</span>\n              </button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Tab Content */}\n      <div className=\"tab-content\">\n        {renderContent()}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AATA;;;;;;;;;AAiBe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iKAAA,CAAA,gBAAa;8BACZ,cAAA,6LAAC;;;;;;;;;;8BAGH,6LAAC,iKAAA,CAAA,kBAAe;8BACd,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,6LAAC,8KAAA,CAAA,eAAY;gCAAC,MAAK;0CACjB,cAAA,6LAAC;oCAAO,WAAU;8CAAuE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvG;KAtBwB;AA0BxB,MAAM,OAAO;IACX;QAAE,IAAI;QAAuB,OAAO;QAAY,MAAM,yMAAA,CAAA,SAAM;QAAE,aAAa;IAAoB;IAC/F;QAAE,IAAI;QAAwB,OAAO;QAAa,MAAM,qNAAA,CAAA,YAAS;QAAE,aAAa;IAAmB;IACnG;QAAE,IAAI;QAA0B,OAAO;QAAe,MAAM,qNAAA,CAAA,aAAU;QAAE,aAAa;IAAmB;IACxG;QAAE,IAAI;QAAqB,OAAO;QAAU,MAAM,6MAAA,CAAA,WAAQ;QAAE,aAAa;IAAkB;CAC5F;AAED,SAAS;;IACP,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAEpD,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,yKAAA,CAAA,sBAAmB;;;;;YAC7B,KAAK;gBACH,qBAAO,6LAAC,uKAAA,CAAA,oBAAiB;;;;;YAC3B,KAAK;gBACH,qBAAO,6LAAC,4KAAA,CAAA,yBAAsB;;;;;YAChC,KAAK;gBACH,qBAAO,6LAAC,8KAAA,CAAA,2BAAwB;;;;;YAClC;gBACE,qBAAO,6LAAC,yKAAA,CAAA,sBAAmB;;;;;QAC/B;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;;sCACC,6LAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,6LAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;0BAOtC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAC;wBACT,MAAM,OAAO,IAAI,IAAI;wBACrB,MAAM,WAAW,cAAc,IAAI,EAAE;wBAErC,qBACE,6LAAC;4BAEC,SAAS,IAAM,aAAa,IAAI,EAAE;4BAClC,WAAW,AAAC,oIAKT,OAHC,WACE,kCACA,8EACH;;8CAGH,6LAAC;oCAAK,WAAW,AAAC,iFAEyD,OAAvE,WAAW,kBAAkB,2CAA0C;;;;;;8CAE3E,6LAAC;8CAAM,IAAI,KAAK;;;;;;;2BAdX,IAAI,EAAE;;;;;oBAiBjB;;;;;;;;;;;0BAKJ,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;GAjES;MAAA","debugId":null}}]
}