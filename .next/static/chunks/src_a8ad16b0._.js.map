{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { \n  Calendar, \n  Users, \n  Euro, \n  MapPin, \n  Clock,\n  MoreHorizontal,\n  Edit,\n  Trash2,\n  User\n} from \"lucide-react\";\nimport type { Opportunity } from \"~/lib/types/opportunity\";\nimport { format } from \"date-fns\";\n\ninterface OpportunityCardProps {\n  opportunity: Opportunity;\n  isDragging?: boolean;\n}\n\nconst EVENT_TYPE_COLORS: Record<string, string> = {\n  WEDDING: \"bg-pink-100 text-pink-800\",\n  CORPORATE: \"bg-blue-100 text-blue-800\",\n  GALA: \"bg-purple-100 text-purple-800\",\n  CONFERENCE: \"bg-green-100 text-green-800\",\n  BIRTHDAY: \"bg-yellow-100 text-yellow-800\",\n  ANNIVERSARY: \"bg-indigo-100 text-indigo-800\",\n  OTHER: \"bg-gray-100 text-gray-800\",\n};\n\nexport function OpportunityCard({ opportunity, isDragging }: OpportunityCardProps) {\n  const [showActions, setShowActions] = useState(false);\n  \n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging: isSortableDragging,\n  } = useSortable({\n    id: opportunity._id,\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  const eventTypeColor = EVENT_TYPE_COLORS[opportunity.eventType] || EVENT_TYPE_COLORS.OTHER;\n\n  if (isDragging || isSortableDragging) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-lg border-2 border-blue-300 p-4 opacity-50 rotate-2\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h4 className=\"font-semibold text-gray-900 truncate\">{opportunity.name}</h4>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing\"\n      onMouseEnter={() => setShowActions(true)}\n      onMouseLeave={() => setShowActions(false)}\n    >\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-3\">\n        <h4 className=\"font-semibold text-gray-900 truncate pr-2\">{opportunity.name}</h4>\n        \n        {showActions && (\n          <div className=\"flex items-center space-x-1\">\n            <button className=\"p-1 hover:bg-gray-100 rounded\">\n              <Edit className=\"w-4 h-4 text-gray-500\" />\n            </button>\n            <button className=\"p-1 hover:bg-gray-100 rounded\">\n              <Trash2 className=\"w-4 h-4 text-red-500\" />\n            </button>\n            <button className=\"p-1 hover:bg-gray-100 rounded\">\n              <MoreHorizontal className=\"w-4 h-4 text-gray-500\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Event Type Badge */}\n      <div className=\"mb-3\">\n        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${eventTypeColor}`}>\n          {opportunity.eventType.toLowerCase().replace('_', ' ')}\n        </span>\n      </div>\n\n      {/* Value and Probability */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <Euro className=\"w-4 h-4 mr-1\" />\n          <span className=\"font-medium\">â‚¬{opportunity.value.toLocaleString()}</span>\n        </div>\n        <div className=\"flex items-center text-sm text-gray-600\">\n          <span className=\"font-medium\">{opportunity.probability || 0}%</span>\n        </div>\n      </div>\n\n      {/* Event Details */}\n      <div className=\"space-y-2 text-sm text-gray-600\">\n        {/* Event Date */}\n        <div className=\"flex items-center\">\n          <Calendar className=\"w-4 h-4 mr-2\" />\n          <span>{format(new Date(opportunity.eventDate), 'MMM dd, yyyy')}</span>\n        </div>\n\n        {/* Guest Count */}\n        <div className=\"flex items-center\">\n          <Users className=\"w-4 h-4 mr-2\" />\n          <span>{opportunity.guestCount} guests</span>\n        </div>\n\n        {/* Venue Requirements */}\n        {opportunity.venueRequirements && (\n          <div className=\"flex items-center\">\n            <MapPin className=\"w-4 h-4 mr-2\" />\n            <span className=\"truncate\">{opportunity.venueRequirements}</span>\n          </div>\n        )}\n\n        {/* Expected Close Date */}\n        {opportunity.expectedCloseDate && (\n          <div className=\"flex items-center\">\n            <Clock className=\"w-4 h-4 mr-2\" />\n            <span>Close: {format(new Date(opportunity.expectedCloseDate), 'MMM dd')}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Description */}\n      {opportunity.description && (\n        <div className=\"mt-3 pt-3 border-t border-gray-100\">\n          <p className=\"text-sm text-gray-600 line-clamp-2\">{opportunity.description}</p>\n        </div>\n      )}\n\n      {/* Footer */}\n      <div className=\"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between\">\n        <div className=\"text-xs text-gray-500\">\n          Updated {format(new Date(opportunity.updatedAt), 'MMM dd')}\n        </div>\n        \n        {opportunity.assignedTo && (\n          <div className=\"flex items-center text-xs text-gray-500\">\n            <User className=\"w-3 h-3 mr-1\" />\n            <span>Assigned</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;AAjBA;;;;;;AAwBA,MAAM,oBAA4C;IAChD,SAAS;IACT,WAAW;IACX,MAAM;IACN,YAAY;IACZ,UAAU;IACV,aAAa;IACb,OAAO;AACT;AAEO,SAAS,gBAAgB,KAAiD;QAAjD,EAAE,WAAW,EAAE,UAAU,EAAwB,GAAjD;;IAC9B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,YAAY,kBAAkB,EAC/B,GAAG,CAAA,GAAA,sKAAA,CAAA,cAAW,AAAD,EAAE;QACd,IAAI,YAAY,GAAG;IACrB;IAEA,MAAM,QAAQ;QACZ,WAAW,wKAAA,CAAA,MAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;IACF;IAEA,MAAM,iBAAiB,iBAAiB,CAAC,YAAY,SAAS,CAAC,IAAI,kBAAkB,KAAK;IAE1F,IAAI,cAAc,oBAAoB;QACpC,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAwC,YAAY,IAAI;;;;;;;;;;;;;;;;IAI9E;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,OAAO;QACN,GAAG,UAAU;QACb,GAAG,SAAS;QACb,WAAU;QACV,cAAc,IAAM,eAAe;QACnC,cAAc,IAAM,eAAe;;0BAGnC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA6C,YAAY,IAAI;;;;;;oBAE1E,6BACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,WAAU;0CAChB,cAAA,6LAAC,8MAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;;;;;;0CAElB,6LAAC;gCAAO,WAAU;0CAChB,cAAA,6LAAC,6MAAA,CAAA,SAAM;oCAAC,WAAU;;;;;;;;;;;0CAEpB,6LAAC;gCAAO,WAAU;0CAChB,cAAA,6LAAC,mNAAA,CAAA,iBAAc;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0BAOlC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,WAAW,AAAC,uEAAqF,OAAf;8BACrF,YAAY,SAAS,CAAC,WAAW,GAAG,OAAO,CAAC,KAAK;;;;;;;;;;;0BAKtD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;gCAAK,WAAU;;oCAAc;oCAAE,YAAY,KAAK,CAAC,cAAc;;;;;;;;;;;;;kCAElE,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAK,WAAU;;gCAAe,YAAY,WAAW,IAAI;gCAAE;;;;;;;;;;;;;;;;;;0BAKhE,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC;0CAAM,CAAA,GAAA,wJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,YAAY,SAAS,GAAG;;;;;;;;;;;;kCAIjD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,uMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,6LAAC;;oCAAM,YAAY,UAAU;oCAAC;;;;;;;;;;;;;oBAI/B,YAAY,iBAAiB,kBAC5B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;0CAClB,6LAAC;gCAAK,WAAU;0CAAY,YAAY,iBAAiB;;;;;;;;;;;;oBAK5D,YAAY,iBAAiB,kBAC5B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,uMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,6LAAC;;oCAAK;oCAAQ,CAAA,GAAA,wJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,YAAY,iBAAiB,GAAG;;;;;;;;;;;;;;;;;;;YAMnE,YAAY,WAAW,kBACtB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAsC,YAAY,WAAW;;;;;;;;;;;0BAK9E,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;4BAAwB;4BAC5B,CAAA,GAAA,wJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,YAAY,SAAS,GAAG;;;;;;;oBAGlD,YAAY,UAAU,kBACrB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;GAnIgB;;QAUV,sKAAA,CAAA,cAAW;;;KAVD","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/KanbanColumn.tsx"],"sourcesContent":["\"use client\";\n\nimport { useDroppable } from \"@dnd-kit/core\";\nimport { SortableContext, verticalListSortingStrategy } from \"@dnd-kit/sortable\";\nimport { OpportunityCard } from \"./OpportunityCard\";\nimport type { Opportunity, OpportunityStage } from \"~/lib/types/opportunity\";\n\ninterface KanbanColumnProps {\n  id: OpportunityStage;\n  title: string;\n  color: string;\n  opportunities: Opportunity[];\n}\n\nexport function KanbanColumn({ id, title, color, opportunities }: KanbanColumnProps) {\n  const { setNodeRef, isOver } = useDroppable({\n    id,\n  });\n\n  const totalValue = opportunities.reduce((sum, opp) => sum + opp.value, 0);\n  const count = opportunities.length;\n\n  return (\n    <div\n      ref={setNodeRef}\n      className={`\n        flex flex-col rounded-lg border-2 border-dashed p-4 min-h-[500px]\n        ${color}\n        ${isOver ? 'border-blue-500 bg-blue-50' : ''}\n        transition-colors duration-200\n      `}\n    >\n      <div className=\"mb-4\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h3 className=\"font-semibold text-gray-900\">{title}</h3>\n          <span className=\"bg-white rounded-full px-2 py-1 text-xs font-medium text-gray-600\">\n            {count}\n          </span>\n        </div>\n        <div className=\"text-sm text-gray-600\">\n          â‚¬{totalValue.toLocaleString()}\n        </div>\n      </div>\n\n      <SortableContext\n        items={opportunities.map(opp => opp._id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div className=\"space-y-3 flex-1\">\n          {opportunities.map((opportunity) => (\n            <OpportunityCard\n              key={opportunity._id}\n              opportunity={opportunity}\n            />\n          ))}\n        </div>\n      </SortableContext>\n\n      {count === 0 && (\n        <div className=\"flex-1 flex items-center justify-center text-gray-400\">\n          <p className=\"text-sm\">Drop opportunities here</p>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAcO,SAAS,aAAa,KAAsD;QAAtD,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,EAAqB,GAAtD;;IAC3B,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,eAAY,AAAD,EAAE;QAC1C;IACF;IAEA,MAAM,aAAa,cAAc,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,KAAK,EAAE;IACvE,MAAM,QAAQ,cAAc,MAAM;IAElC,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,AAAC,wFAGR,OADA,OAAM,cACqC,OAA3C,SAAS,+BAA+B,IAAG;;0BAI/C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA+B;;;;;;0CAC7C,6LAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;;kCAGL,6LAAC;wBAAI,WAAU;;4BAAwB;4BACnC,WAAW,cAAc;;;;;;;;;;;;;0BAI/B,6LAAC,sKAAA,CAAA,kBAAe;gBACd,OAAO,cAAc,GAAG,CAAC,CAAA,MAAO,IAAI,GAAG;gBACvC,UAAU,sKAAA,CAAA,8BAA2B;0BAErC,cAAA,6LAAC;oBAAI,WAAU;8BACZ,cAAc,GAAG,CAAC,CAAC,4BAClB,6LAAC,qKAAA,CAAA,kBAAe;4BAEd,aAAa;2BADR,YAAY,GAAG;;;;;;;;;;;;;;;YAO3B,UAAU,mBACT,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;;;;;;AAKjC;GAnDgB;;QACiB,8JAAA,CAAA,eAAY;;;KAD7B","debugId":null}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/KanbanBoard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { arrayMove, SortableContext } from \"@dnd-kit/sortable\";\nimport { KanbanColumn } from \"./KanbanColumn\";\nimport { OpportunityCard } from \"./OpportunityCard\";\nimport type { Opportunity, OpportunityStage } from \"~/lib/types/opportunity\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\n\ninterface KanbanBoardProps {\n  opportunities: Opportunity[];\n}\n\nconst PIPELINE_STAGES: { id: OpportunityStage; title: string; color: string }[] = [\n  { id: \"PROSPECT\", title: \"Prospect\", color: \"bg-gray-100 border-gray-300\" },\n  { id: \"QUALIFIED\", title: \"Qualified\", color: \"bg-blue-100 border-blue-300\" },\n  { id: \"PROPOSAL\", title: \"Proposal\", color: \"bg-yellow-100 border-yellow-300\" },\n  { id: \"NEGOTIATION\", title: \"Negotiation\", color: \"bg-orange-100 border-orange-300\" },\n  { id: \"CLOSED_WON\", title: \"Closed Won\", color: \"bg-green-100 border-green-300\" },\n  { id: \"CLOSED_LOST\", title: \"Closed Lost\", color: \"bg-red-100 border-red-300\" },\n];\n\nexport function KanbanBoard({ opportunities }: KanbanBoardProps) {\n  const [activeId, setActiveId] = useState<string | null>(null);\n  const updateOpportunityStage = useMutation(api.opportunities.updateOpportunityStage);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  );\n\n  const groupedOpportunities = PIPELINE_STAGES.reduce((acc, stage) => {\n    acc[stage.id] = opportunities.filter(opp => opp.stage === stage.id);\n    return acc;\n  }, {} as Record<OpportunityStage, Opportunity[]>);\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string);\n  };\n\n  const handleDragEnd = async (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveId(null);\n\n    if (!over) return;\n\n    const activeOpportunity = opportunities.find(opp => opp._id === active.id);\n    const newStage = over.id as OpportunityStage;\n\n    if (activeOpportunity && activeOpportunity.stage !== newStage) {\n      try {\n        await updateOpportunityStage({\n          opportunityId: activeOpportunity._id,\n          stage: newStage,\n        });\n      } catch (error) {\n        console.error(\"Failed to update opportunity stage:\", error);\n      }\n    }\n  };\n\n  const activeOpportunity = activeId \n    ? opportunities.find(opp => opp._id === activeId)\n    : null;\n\n  return (\n    <DndContext\n      sensors={sensors}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n    >\n      <div className=\"grid grid-cols-1 lg:grid-cols-6 gap-6 min-h-[600px]\">\n        {PIPELINE_STAGES.map((stage) => (\n          <KanbanColumn\n            key={stage.id}\n            id={stage.id}\n            title={stage.title}\n            color={stage.color}\n            opportunities={groupedOpportunities[stage.id] || []}\n          />\n        ))}\n      </div>\n\n      <DragOverlay>\n        {activeOpportunity ? (\n          <OpportunityCard \n            opportunity={activeOpportunity} \n            isDragging \n          />\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAUA;AACA;AAEA;AAAA;AACA;;;AAjBA;;;;;;;AAuBA,MAAM,kBAA4E;IAChF;QAAE,IAAI;QAAY,OAAO;QAAY,OAAO;IAA8B;IAC1E;QAAE,IAAI;QAAa,OAAO;QAAa,OAAO;IAA8B;IAC5E;QAAE,IAAI;QAAY,OAAO;QAAY,OAAO;IAAkC;IAC9E;QAAE,IAAI;QAAe,OAAO;QAAe,OAAO;IAAkC;IACpF;QAAE,IAAI;QAAc,OAAO;QAAc,OAAO;IAAgC;IAChF;QAAE,IAAI;QAAe,OAAO;QAAe,OAAO;IAA4B;CAC/E;AAEM,SAAS,YAAY,KAAmC;QAAnC,EAAE,aAAa,EAAoB,GAAnC;;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,yBAAyB,CAAA,GAAA,2JAAA,CAAA,cAAW,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,sBAAsB;IAEnF,MAAM,UAAU,CAAA,GAAA,8JAAA,CAAA,aAAU,AAAD,EACvB,CAAA,GAAA,8JAAA,CAAA,YAAS,AAAD,EAAE,8JAAA,CAAA,gBAAa,EAAE;QACvB,sBAAsB;YACpB,UAAU;QACZ;IACF;IAGF,MAAM,uBAAuB,gBAAgB,MAAM,CAAC,CAAC,KAAK;QACxD,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,cAAc,MAAM,CAAC,CAAA,MAAO,IAAI,KAAK,KAAK,MAAM,EAAE;QAClE,OAAO;IACT,GAAG,CAAC;IAEJ,MAAM,kBAAkB,CAAC;QACvB,YAAY,MAAM,MAAM,CAAC,EAAE;IAC7B;IAEA,MAAM,gBAAgB,OAAO;QAC3B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QACzB,YAAY;QAEZ,IAAI,CAAC,MAAM;QAEX,MAAM,oBAAoB,cAAc,IAAI,CAAC,CAAA,MAAO,IAAI,GAAG,KAAK,OAAO,EAAE;QACzE,MAAM,WAAW,KAAK,EAAE;QAExB,IAAI,qBAAqB,kBAAkB,KAAK,KAAK,UAAU;YAC7D,IAAI;gBACF,MAAM,uBAAuB;oBAC3B,eAAe,kBAAkB,GAAG;oBACpC,OAAO;gBACT;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uCAAuC;YACvD;QACF;IACF;IAEA,MAAM,oBAAoB,WACtB,cAAc,IAAI,CAAC,CAAA,MAAO,IAAI,GAAG,KAAK,YACtC;IAEJ,qBACE,6LAAC,8JAAA,CAAA,aAAU;QACT,SAAS;QACT,aAAa;QACb,WAAW;;0BAEX,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,sBACpB,6LAAC,kKAAA,CAAA,eAAY;wBAEX,IAAI,MAAM,EAAE;wBACZ,OAAO,MAAM,KAAK;wBAClB,OAAO,MAAM,KAAK;wBAClB,eAAe,oBAAoB,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;uBAJ9C,MAAM,EAAE;;;;;;;;;;0BASnB,6LAAC,8JAAA,CAAA,cAAW;0BACT,kCACC,6LAAC,qKAAA,CAAA,kBAAe;oBACd,aAAa;oBACb,UAAU;;;;;2BAEV;;;;;;;;;;;;AAIZ;GA1EgB;;QAEiB,2JAAA,CAAA,cAAW;QAE1B,8JAAA,CAAA,aAAU;;;KAJZ","debugId":null}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityFilters.tsx"],"sourcesContent":["\"use client\";\n\nimport { Search, Filter } from \"lucide-react\";\nimport type { OpportunityStage, EventType } from \"~/lib/types/opportunity\";\n\ninterface FilterState {\n  stage?: OpportunityStage;\n  eventType?: EventType;\n  searchTerm?: string;\n}\n\ninterface OpportunityFiltersProps {\n  filters: FilterState;\n  onFilterChange: (filters: FilterState) => void;\n}\n\nconst STAGE_OPTIONS: { value: OpportunityStage; label: string }[] = [\n  { value: \"PROSPECT\", label: \"Prospect\" },\n  { value: \"QUALIFIED\", label: \"Qualified\" },\n  { value: \"PROPOSAL\", label: \"Proposal\" },\n  { value: \"NEGOTIATION\", label: \"Negotiation\" },\n  { value: \"CLOSED_WON\", label: \"Closed Won\" },\n  { value: \"CLOSED_LOST\", label: \"Closed Lost\" },\n];\n\nconst EVENT_TYPE_OPTIONS: { value: EventType; label: string }[] = [\n  { value: \"WEDDING\", label: \"Wedding\" },\n  { value: \"CORPORATE\", label: \"Corporate\" },\n  { value: \"GALA\", label: \"Gala\" },\n  { value: \"CONFERENCE\", label: \"Conference\" },\n  { value: \"BIRTHDAY\", label: \"Birthday\" },\n  { value: \"ANNIVERSARY\", label: \"Anniversary\" },\n  { value: \"OTHER\", label: \"Other\" },\n];\n\nexport function OpportunityFilters({ filters, onFilterChange }: OpportunityFiltersProps) {\n  const updateFilter = (key: keyof FilterState, value: string | undefined) => {\n    onFilterChange({\n      ...filters,\n      [key]: value || undefined,\n    });\n  };\n\n  const clearFilters = () => {\n    onFilterChange({});\n  };\n\n  const hasActiveFilters = Object.values(filters).some(value => value);\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6\">\n      <div className=\"flex items-center gap-4 mb-4\">\n        <Filter className=\"w-5 h-5 text-gray-500\" />\n        <h2 className=\"text-lg font-medium text-gray-900\">Filters</h2>\n        {hasActiveFilters && (\n          <button\n            onClick={clearFilters}\n            className=\"text-sm text-blue-600 hover:text-blue-700\"\n          >\n            Clear all\n          </button>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {/* Search */}\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search opportunities...\"\n            value={filters.searchTerm || \"\"}\n            onChange={(e) => updateFilter(\"searchTerm\", e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          />\n        </div>\n\n        {/* Stage Filter */}\n        <select\n          value={filters.stage || \"\"}\n          onChange={(e) => updateFilter(\"stage\", e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">All stages</option>\n          {STAGE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n\n        {/* Event Type Filter */}\n        <select\n          value={filters.eventType || \"\"}\n          onChange={(e) => updateFilter(\"eventType\", e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"\">All event types</option>\n          {EVENT_TYPE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAFA;;;AAgBA,MAAM,gBAA8D;IAClE;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAe,OAAO;IAAc;IAC7C;QAAE,OAAO;QAAc,OAAO;IAAa;IAC3C;QAAE,OAAO;QAAe,OAAO;IAAc;CAC9C;AAED,MAAM,qBAA4D;IAChE;QAAE,OAAO;QAAW,OAAO;IAAU;IACrC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAQ,OAAO;IAAO;IAC/B;QAAE,OAAO;QAAc,OAAO;IAAa;IAC3C;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAe,OAAO;IAAc;IAC7C;QAAE,OAAO;QAAS,OAAO;IAAQ;CAClC;AAEM,SAAS,mBAAmB,KAAoD;QAApD,EAAE,OAAO,EAAE,cAAc,EAA2B,GAApD;IACjC,MAAM,eAAe,CAAC,KAAwB;QAC5C,eAAe;YACb,GAAG,OAAO;YACV,CAAC,IAAI,EAAE,SAAS;QAClB;IACF;IAEA,MAAM,eAAe;QACnB,eAAe,CAAC;IAClB;IAEA,MAAM,mBAAmB,OAAO,MAAM,CAAC,SAAS,IAAI,CAAC,CAAA,QAAS;IAE9D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;oBACjD,kCACC,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAML,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,yMAAA,CAAA,SAAM;gCAAC,WAAU;;;;;;0CAClB,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO,QAAQ,UAAU,IAAI;gCAC7B,UAAU,CAAC,IAAM,aAAa,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC1D,WAAU;;;;;;;;;;;;kCAKd,6LAAC;wBACC,OAAO,QAAQ,KAAK,IAAI;wBACxB,UAAU,CAAC,IAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;wBACrD,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,cAAc,GAAG,CAAC,CAAC,uBAClB,6LAAC;oCAA0B,OAAO,OAAO,KAAK;8CAC3C,OAAO,KAAK;mCADF,OAAO,KAAK;;;;;;;;;;;kCAO7B,6LAAC;wBACC,OAAO,QAAQ,SAAS,IAAI;wBAC5B,UAAU,CAAC,IAAM,aAAa,aAAa,EAAE,MAAM,CAAC,KAAK;wBACzD,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,mBAAmB,GAAG,CAAC,CAAC,uBACvB,6LAAC;oCAA0B,OAAO,OAAO,KAAK;8CAC3C,OAAO,KAAK;mCADF,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;AAQrC;KAxEgB","debugId":null}},
    {"offset": {"line": 914, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/components/features/opportunities/OpportunityPipeline.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { KanbanBoard } from \"./KanbanBoard\";\nimport { OpportunityFilters } from \"./OpportunityFilters\";\nimport type { OpportunityStage } from \"~/lib/types/opportunity\";\n\ninterface FilterState {\n  stage?: OpportunityStage;\n  eventType?: string;\n  searchTerm?: string;\n}\n\nexport function OpportunityPipeline() {\n  const [filters, setFilters] = useState<FilterState>({});\n  \n  const opportunities = useQuery(api.opportunities.getAllOpportunities, filters);\n\n  const handleFilterChange = (newFilters: FilterState) => {\n    setFilters(newFilters);\n  };\n\n  if (opportunities === undefined) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <OpportunityFilters \n        filters={filters} \n        onFilterChange={handleFilterChange}\n      />\n      \n      <KanbanBoard opportunities={opportunities || []} />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAeO,SAAS;;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe,CAAC;IAErD,MAAM,gBAAgB,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD,EAAE,8HAAA,CAAA,MAAG,CAAC,aAAa,CAAC,mBAAmB,EAAE;IAEtE,MAAM,qBAAqB,CAAC;QAC1B,WAAW;IACb;IAEA,IAAI,kBAAkB,WAAW;QAC/B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,wKAAA,CAAA,qBAAkB;gBACjB,SAAS;gBACT,gBAAgB;;;;;;0BAGlB,6LAAC,iKAAA,CAAA,cAAW;gBAAC,eAAe,iBAAiB,EAAE;;;;;;;;;;;;AAGrD;GA3BgB;;QAGQ,2JAAA,CAAA,WAAQ;;;KAHhB","debugId":null}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnebraeckman/Documents/GitHub/eventRunner/src/app/opportunities/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Authenticated, Unauthenticated } from \"convex/react\";\nimport { SignInButton } from \"@clerk/nextjs\";\nimport { OpportunityPipeline } from \"~/components/features/opportunities/OpportunityPipeline\";\n\nexport default function OpportunitiesPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <Authenticated>\n          <OpportunitiesContent />\n        </Authenticated>\n        \n        <Unauthenticated>\n          <div className=\"text-center\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Access Restricted</h1>\n            <p className=\"text-gray-600 mb-6\">Please sign in to view opportunities.</p>\n            <SignInButton mode=\"modal\">\n              <button className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n                Sign In\n              </button>\n            </SignInButton>\n          </div>\n        </Unauthenticated>\n      </div>\n    </div>\n  );\n}\n\nfunction OpportunitiesContent() {\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Sales Pipeline</h1>\n      </div>\n\n      <OpportunityPipeline />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,iKAAA,CAAA,gBAAa;8BACZ,cAAA,6LAAC;;;;;;;;;;8BAGH,6LAAC,iKAAA,CAAA,kBAAe;8BACd,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,6LAAC,8KAAA,CAAA,eAAY;gCAAC,MAAK;0CACjB,cAAA,6LAAC;oCAAO,WAAU;8CAAuE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvG;KAtBwB;AAwBxB,SAAS;IACP,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAmC;;;;;;;;;;;0BAGnD,6LAAC,yKAAA,CAAA,sBAAmB;;;;;;;;;;;AAG1B;MAVS","debugId":null}}]
}